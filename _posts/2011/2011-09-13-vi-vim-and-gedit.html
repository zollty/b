---
layout: ue
title: Vi、Vim及Gedit编辑器
category: Linux系统与应用
tags: Vim,Gedit
keywords: "Vim,Gedit"
---

<p>Linux doc by: zollty</p><p>&nbsp;</p><p>搜索（注意，不需要输入:号。也可以先输入:号再键入命令）</p><p>&nbsp;</p><p>/string……………………向后搜索，从光标处向文件尾搜索，按n键继续搜索下一个</p><p>?string……………………向前搜索</p><p>注意：搜索时会将所有匹配的字符串高亮显示，但是使用/和？时光标所移动的方向不一样。</p><p>搜索中可使用通配符。</p><p>高级用法：</p><p>/int \| sum……………用\|来匹配多个分支</p><p>/get_sum\&amp;...————匹配get_sum中的前三个字符，即get</p><p>.*Peter\&amp;.*Bob———匹配同时包括 &quot;Peter&quot; 和 &quot;Bob&quot; 的一行</p><p>f[0-9]b————先匹配 &quot;f&quot;，然后是一个数位，接着 &quot;b&quot;</p><p>/\n—————匹配行尾</p><p>/\d—————匹配数字</p><p>…………</p><p>…………</p><p>太多了，详见：<a href="http://man.chinaunix.net/newsoft/vi/doc/pattern.html#pattern.txt" target="_blank" textvalue="http://man.chinaunix.net/newsoft/vi/doc/pattern.html#pattern.txt">http://man.chinaunix.net/newsoft/vi/doc/pattern.html#pattern.txt</a></p><p>就一个匹配vim都搞得如此复杂，可见vim的设计真的是一项浩大的工程啊！</p><p>&nbsp;</p><p>替换</p><p>&nbsp;</p><p>常用格式：</p><p>:s/p1/p2/g…………………………当前行，p1用p2替代</p><p>:n1,n2s/p1/p2/g…………………n1到n2行之间，注意n2和s之间无空</p><p>:%s/p1/p2/g………………替换整个文档，等价于g/p1/s//p2/g，即p1和p2之间夹一个s/</p><p>&nbsp;</p><p>高级用法：</p><p>通配符:%s/=.*//g……………替换所有行中=及=以后的内容为空</p><p>转义字符:%s/\^M//g……………替换掉所有^M字符串，注意^</p><p>其他还有很多匹配用法，参加“查找”</p><p>&nbsp;</p><p>vi的三种模式切换如下：</p><p>1 文本编辑模式（插入模式）：按“i”键。</p><p>2 命令模式：按Esc键。</p><p>3 最后行模式：先进入命令模式，再按“：”键。</p><p>vi编辑模式注意事项：</p><p>编辑模式下最好不要使用Backspace，Delete，Insert以及上下左右方向键。若想使用这些键的功能，应退回到命令模式，使用其他快捷命令完成。</p><p>vi令一大堆，掌握下面几个常用命令就OK了：</p><p>（1）保存</p><p>:w/root/vim.txt……………………保存，w!为强制保存</p><p>:w……………………………………保存（已保存过的）</p><p>:w &gt;&gt;file2…………………………附加保存到文件file2里面</p><p>:q!………………………………强制退出，不保存</p><p>&nbsp;</p><p>**下面三个命令均为：保存并退出（已保存过的）</p><p>(i):wq &nbsp; &nbsp; &nbsp; &nbsp; (ii)直接按ZZ &nbsp; &nbsp; &nbsp; (iii):x</p><p>&nbsp;</p><p>（2）插入</p><p>a（光标后插入）</p><p>其他： i（光标前） &nbsp; &nbsp; &nbsp;I（行首） &nbsp; &nbsp; A（行尾） &nbsp; &nbsp; r（替换当前字符）</p><p>（3）删除与剪切</p><p>x……………………………………删除当前光标位置的一个或多个字符</p><p>：1,16 d…………………………//删除1至16行</p><p>dd………………………………剪切当前行（包括行尾的回车换行符）</p><p>d0………………………………剪切当前行光标之前所有字符，d后面是数字0</p><p>d$………………………………剪切当前行光标之后所有字符</p><p>X……………………………在光标只指向一个字符的情况下，删除光标的前一个字符</p><p>（4）选择与复制</p><p>v…………………………选定块，从光标处开始选择（可以跨多行选择）</p><p>p……………………粘贴默认缓冲区的内容，在使用p命令之前不能使用x和X命令，否则p失效（本人亲测，原因可能是x或X会将缓冲区的内容也一起删除）</p><p>y……………………复制选定块的内容</p><p>yy…………………复制当前行</p><p>:2,5 co 10……………………将2至5行的内容复制到第10行内容的后面</p><p>说明：vi的复制、粘贴相当复杂，缓冲区就好象windows下的剪切板一样，它有a-z和1-9这么多，例如：要把一行插入a缓冲区，可键入：&quot;ayy，为了把这个文本放回该文件中，键入&quot;ap。</p><p>&nbsp;</p><p>（5）移动</p><p>:1，3 m 5……………………将1至3行的内容移动到第5行内容的后面</p><p>（6）其他</p><p>h、j、k、l……………………移动光标，j上、k下（用鼠标滑轮也可以上下移动）</p><p>u………………………………撤销上一步的操作</p><p>小o、大O………………在当前行之下、之上新开一行，并且进入编辑模式</p><p>:sp [filename]………在同一窗口中打开第二个文件,在多个编辑文件之间切换，用^ww</p><p>:set nu…………………设置行号</p><p>:set list………………显示制表位（^I）和行尾标志（$）</p><p>&nbsp;</p><p>附：vi操作大全</p><p>&nbsp;</p><p>　　进入vi的命令</p><p>　　vi filename :打开或新建文件，并将光标置于第一行首</p><p>　　vi +n filename ：打开文件，并将光标置于第n行首</p><p>　　vi + filename ：打开文件，并将光标置于最后一行首</p><p>　　vi +/pattern filename：打开文件，并将光标置于第一个与pattern匹配的串处</p><p>　　vi -r filename ：在上次正用vi编辑时发生系统崩溃，恢复filename</p><p>　　vi filename....filename ：打开多个文件，依次进行编辑</p><p>　　移动光标类命令</p><p>　　h ：光标左移一个字符</p><p>　　l ：光标右移一个字符</p><p>　　space：光标右移一个字符</p><p>　　Backspace：光标左移一个字符</p><p>　　k或Ctrl+p：光标上移一行</p><p>　　j或Ctrl+n ：光标下移一行</p><p>　　Enter ：光标下移一行</p><p>　　w或W ：光标右移一个字至字首</p><p>　　b或B ：光标左移一个字至字首</p><p>　　e或E ：光标右移一个字至字尾</p><p>　　) ：光标移至句尾</p><p>　　( ：光标移至句首</p><p>　　}：光标移至段落最后一个字母</p><p>　　{：光标移至段落第一个字母</p><p>　　nG：光标移至第n行首</p><p>　　n+：光标下移n行</p><p>　　n-：光标上移n行</p><p>　　n$：光标移至第n行尾</p><p>　　H ：光标移至屏幕顶行</p><p>　　M ：光标移至屏幕中间行</p><p>　　L ：光标移至屏幕最后行</p><p>　　0：（注意是数字零）光标移至当前行首</p><p>　　$：光标移至当前行尾</p><p>　　屏幕翻滚类命令</p><p>　　Ctrl+u：向文件首翻半屏</p><p>　　Ctrl+d：向文件尾翻半屏</p><p>　　Ctrl+f：向文件尾翻一屏</p><p>　　Ctrl+b；向文件首翻一屏</p><p>　　nz：将第n行滚至屏幕顶部，不指定n时将当前行滚至屏幕顶部。</p><p>　　插入文本类命令</p><p>　　i ：在光标前</p><p>　　I ：在当前行首</p><p>　　a：光标后</p><p>　　A：在当前行尾</p><p>　　o：在当前行之下新开一行</p><p>　　O：在当前行之上新开一行</p><p>　　r：替换当前字符</p><p>　　R：替换当前字符及其后的字符，直至按ESC键</p><p>　　s：从当前光标位置处开始，以输入的文本替代指定数目的字符</p><p>　　S：删除指定数目的行，并以所输入文本代替之</p><p>　　ncw或nCW：修改指定数目的字</p><p>　　nCC：修改指定数目的行</p><p>　　删除命令</p><p>　　ndw或ndW：删除光标处开始及其后的n-1个字</p><p>　　do：删至行首</p><p>　　d$：删至行尾</p><p>　　ndd：删除当前行及其后n-1行</p><p>　　x或X：删除一个字符，x删除光标后的，而X删除光标前的</p><p>　　Ctrl+u：删除输入方式下所输入的文本</p><p>　　搜索及替换命令</p><p>　　/pattern：从光标开始处向文件尾搜索pattern</p><p>　　?pattern：从光标开始处向文件首搜索pattern</p><p>　　n：在同一方向重复上一次搜索命令</p><p>　　N：在反方向上重复上一次搜索命令</p><p>　　：s/p1/p2/g：将当前行中所有p1均用p2替代</p><p>　　：n1,n2s/p1/p2/g：将第n1至n2行中所有p1均用p2替代</p><p>　　：g/p1/s//p2/g：将文件中所有p1均用p2替换</p><p>　　选项设置</p><p>　　all：列出所有选项设置情况</p><p>　　term：设置终端类型</p><p>　　ignorance：在搜索中忽略大小写</p><p>　　list：显示制表位(Ctrl+I)和行尾标志（$)</p><p>　　number：显示行号</p><p>　　report：显示由面向行的命令修改过的数目</p><p>　　terse：显示简短的警告信息</p><p>　　warn：在转到别的文件时若没保存当前文件则显示NO write信息</p><p>　　nomagic：允许在搜索模式中，使用前面不带“\”的特殊字符</p><p>　　nowrapscan：禁止vi在搜索到达文件两端时，又从另一端开始</p><p>　　mesg：允许vi显示其他用户用write写到自己终端上的信息</p><p>　　最后行方式命令</p><p>　　：n1,n2 co n3：将n1行到n2行之间的内容拷贝到第n3行下</p><p>　　：n1,n2 m n3：将n1行到n2行之间的内容移至到第n3行下</p><p>　　：n1,n2 d ：将n1行到n2行之间的内容删除</p><p>　　：w ：保存当前文件</p><p>　　：e filename：打开文件filename进行编辑</p><p>　　：x：保存当前文件并退出</p><p>　　：q：退出vi</p><p>　　：q!：不保存文件并退出vi</p><p>　　：!command：执行shell命令command</p><p>　　：n1,n2 w!command：将文件中n1行至n2行的内容作为command的输入并执行之，若不指定n1，n2，则表示将整个文件内容作为command的输入</p><p>　　：r!command：将命令command的输出结果放到当前行</p><p>　　寄存器操作</p><p>　　&quot;?nyy：将当前行及其下n行的内容保存到寄存器？中，其中?为一个字母，n为一个数字</p><p>　　&quot;?nyw：将当前行及其下n个字保存到寄存器？中，其中?为一个字母，n为一个数字</p><p>　　&quot;?nyl：将当前行及其下n个字符保存到寄存器？中，其中?为一个字母，n为一个数字</p><p>　　&quot;?p：取出寄存器？中的内容并将其放到光标位置处。这里？可以是一个字母，也可以是一个数字</p><p>　　ndd：将当前行及其下共n行文本删除，并将所删内容放到1号删除寄存器中。</p><p>　　tags 用法</p><p>　　在函数中移动光标</p><p>　　[{ 转到上一个位于第一列的&quot;{&quot;</p><p>　　}] 转到下一个位于第一列的&quot;{&quot;</p><p>　　{ 转到上一个空行</p><p>　　} 转到下一个空行 （[ and ] 也分别是两个指令）</p><p>　　ctrl+t 跳回</p><p>　　gd 转到当前光标所指的局部变量的定义</p><p>　　* 转到当前光标所指的单词下一次出现的地方</p><p>　　# 转到当前光标所指的单词上一次出现的地方</p><p>&nbsp;</p><p>强大的vi使用指导：参见</p><p>vi编辑器使用【转】<a href="http://blog.csdn.net/zollty/article/details/6772502" target="_blank">http://blog.csdn.net/zollty/article/details/6772502</a></p><p>gedit编辑器使用比较简单，不做说明。</p><p><br/></p>
