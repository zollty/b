---
layout: ue
title: WIN7+LINUX双系统
category: Linux系统与应用
tags: Linux
keywords: "Win7、Linux双系统"
---

<p><br/></p><p>WIN7+Fedora16双系统装上了，太折磨人了，不是这里出问题，就是那里出问题。PS：主要问题如下</p><p>1. menu.lst的写法；</p><p>2. 辨认(hd0,0)和sda1；</p><p>3. XP和WIN7，Fedora和Ubuntu，安装方法和难易程度都不同；</p><p>4. 硬盘分区的问题，用Acronis Disk 分的EXT3分区，Fedora和Ubuntu都识别不了，总显示“不可使用”。</p><p>&nbsp;</p><p><strong>下面总结经验，便于快速搞定双系统的安装（1个小时内搞定）</strong></p><p>分类一：</p><p>&nbsp; &nbsp; 1.光盘安装</p><p>&nbsp; &nbsp; 2.U盘安装</p><p>&nbsp; &nbsp; 3.硬盘安装</p><p>分类二：</p><p>&nbsp; &nbsp; XP+Ubuntu，XP+Fedora，XP+RedHat9……</p><p>&nbsp; &nbsp; WIN7+Ubuntu，WIN7+ Fedora……</p><p>&nbsp;</p><p>&nbsp; &nbsp; 光盘安装呢，如果没有现成的光盘，就自己下载一个LINUX系统LIVE CD版，自己刻录吧。光盘安装比较简单。</p><p>&nbsp;</p><p>&nbsp; &nbsp; U盘安装，我以前习惯用U盘装Windows系统，所以我第一想到的就是用U盘来装Linux。首先要用一个工具，制作启动盘，我装的是Fedora，无意间看到了Fedora的官方网站上有U盘安装的教程和工具，就是这个<strong>LiveUSB Creator</strong>，使用非常简单。如果不是Fedora（例如Ubuntu），那么就用另外一个工具<strong>unetbootin</strong>。很快搞定，然后<strong>设置BOIS从USB-ZIP或者USB-HDD启动</strong>就可以了。（我的U盘格式成了FAT格式，NTFS格式能不能成功我没试过）</p><p>&nbsp;</p><p>&nbsp; &nbsp; 最麻烦的就是从硬盘安装了，这也是我最初在网上搜到的“安装WIN7+LINUX双系统”的方法。如果是XP系统，要用到Grub4dos：</p><p>&nbsp; &nbsp; 1）明白boot.ini的原理－－－－为了配置grub4dos</p><p>&nbsp; &nbsp; 2）明白menu.lst的原理－－－－linux的启动菜单</p><p>&nbsp; &nbsp; 3）了解grub4dos怎么用－－－－－网上有详细教程</p><p>&nbsp; &nbsp; 4）明白分区编号原理</p><p>学习完这些东西，头都大了，而且还是搞不定双系统……</p><p>&nbsp; &nbsp; 如果是WIN7，安装原理其实和XP是一样的，但是XP下没有boot.ini文件，所以要利用一个叫EasyBCD的工具来设置启动项，但是在配置menu.lst时，我遇到了很多问题。网上能找到Ubuntu的配置文件写法：</p><p>title Install Ubuntu</p><p>root (hd0,0)</p><p>kernel (hd0,0)/vmlinuz boot=casper iso-scan/filename=/ubuntu-11.04-desktop-i386.iso ro quiet splash locale=zh_CN.UTF-8</p><p>initrd (hd0,0)/initrd.lz</p><p>&nbsp; &nbsp; 但是我按照这个格式来的设置来安装Fedora就行不通，因为Fedora中没有casper文件夹，我的Fedora中的两个文件名也不同（是vmlinuz0和initrd0.img），这样我就没安装成功，我试着找出错误原因，分清类似于(hd0,0)这样的记号就不容易。（上一篇文章中我有讲方法）。最终我用硬盘安装Fedora没有成功，因为配置文件我不会写。（注：WINDOWS下貌似vmlinuz和initrd.lz文件要放到FAT32格式的磁盘中，否则会卡住，我没试过，也不知道是不是真的）</p><p>&nbsp;</p><p>在说一下<strong>硬盘分区</strong>过程中遇到的麻烦：</p><p>&nbsp;</p><p>&nbsp; &nbsp; 我是WIN7系统，用的是Acronis Disk Director Suite分区工具，我用它给LINUX分了swap, /, /boot, /var, /usr, /home共6个区，除了swap外其他分区的格式都是ext3。但是当我在用U盘安装LINUX的时候，我发现我用Acronis Disk分的这几个区LINUX都识别不了！不明白原因，可能和Acronis Disk有关。我于是删除这个分区，使它们成为未分区状态。这下LINUX能识别了，但是LINUX分区的时候，分了两个区后，剩下的空间变成了“不可使用”状态（Ubuntu下），或者再增加分区时提示磁盘空间不足（Fedora下）。后来自己捣鼓了一个解决方法：</p><p>在Win7下，用Acronis Disk将这六个分区先分成FAT32格式，大小都确定好。然后在安装LINUX时再把FAT32格式装换成ETX4格式。</p><p>&nbsp;</p><p>PS：安装时还要注意一点，<strong>在安装引导时</strong>（名称好像是boot什么），<strong>要自定义路径，安装到划分的/boot目录下（我当时就是安装在sda9下的），否则会默认安装到sda1，即C盘，到时候启动双系统就麻烦了</strong>，很可能的情况是：只能进LINUX，不能进WIN7。那时候就需要设置GRUB，比较麻烦……</p><p>&nbsp;</p><p>&nbsp; &nbsp; 然后就可以顺利安装完了，重启后进入了WIN7，但还进入不了LINUX，此时就要在WIN7中为LINUX添加启动项，同样<strong>利用EasyBCD，选择Add New Entry =&gt; Linux/BSD =&gt;Device，选择/boot所在的盘符，然后点击Add Entry确认就可以了</strong>。</p><p>&nbsp;</p><p>后记：</p><p>&nbsp; &nbsp; 当然Linux用起来还是有些麻烦。比如，我装的是前几天才发布的Fedora16版本，但是自带的FireFox浏览器还是没有安装flash插件，还得自己改，而且某些网页的中文乱码。问题还不少…</p><p><br/></p>
