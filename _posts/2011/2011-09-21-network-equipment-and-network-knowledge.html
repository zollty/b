---
layout: ue
title: 网络设备及网络基础知识
category: 计算机网络技术
tags: 网络设备
keywords: "网络设备"
---

<p><br/></p><p>最近在 柯莱特信息系统有限公司 <strong>学习网络知识和网络编程</strong>。收集整理资料如下：</p><p><br/></p><p>集线器(Hub)：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;基本上已经被淘汰了（被交换机取代），集线器的主要功能是对接收到的信号进行再生整形放大，以扩大网络的传输距离，同时把所有节点集中在以它为中心的节点上。它工作于OSI(开放系统互联参考模型)参考模型第一层，即“物理层”。</p><p>&nbsp;<br/></p><p>交换机(Switch)：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;工作在数据链路层。交换机拥有一条很高带宽的背部总线和内部交换矩阵。交换机的所有的端口都挂接在这条背部总线上，控制电路收到数据包以后，处理端口会查找内存中的地址对照表以确定目的MAC（网卡的硬件地址）的NIC（网卡）挂接在哪个端口上，通过内部交换矩阵迅速将数据包传送到目的端口，目的MAC若不存在，广播到所有的端口，接收端口回应后交换机会“学习”新的地址，并把它添加入内部MAC地址表中。使用交换机也可以把网络“分段”，通过对照MAC地址表，交换机只允许必要的网络流量通过交换机。通过交换机的过滤和转发，可以有效的减少冲突域，但它不能划分网络层广播，即广播域。交换机在同一时刻可进行多个端口对之间的数据传输。每一端口都可视为独立的网段，连接在其上的网络设备独自享有全部的带宽，无须同其他设备竞争使用。当节点A向节点D发送数据时，节点B可同时向节点C发送数据，而且这两个传输都享有网络的全部带宽，都有着自己的虚拟连接。假使这里使用的是10Mbps的以太网交换机，那么该交换机这时的总流通量就等于2×10Mbps=20Mbps，而使用10Mbps的共享式HUB时，一个HUB的总流通量也不会超出10Mbps。总之，交换机是一种基于MAC地址识别，能完成封装转发数据包功能的网络设备。交换机可以“学习”MAC地址，并把其存放在内部地址表中，通过在数据帧的始发者和目标接收者之间建立临时的交换路径，使数据帧直接由源地址到达目的地址。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;交换机的主要功能包括物理编址、网络拓扑结构、错误校验、帧序列以及流控。目前交换机还具备了一些新的功能，如对VLAN（虚拟局域网）的支持、对链路汇聚的支持，甚至有的还具有防火墙的功能。具体说来如下：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;学习：以太网交换机了解每一端口相连设备的MAC地址，并将地址同相应的端口映射起来存放在交换机缓存中的MAC地址表中。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;转发/过滤：当一个数据帧的目的地址在MAC地址表中有映射时，它被转发到连接目的节点的端口而不是所有端口（如该数据帧为广播/组播帧则转发至所有端口）。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;消除回路：当交换机包括一个冗余回路时，以太网交换机通过生成树协议避免回路的产生，同时允许存在后备路径。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;交换机除了能够连接同种类型的网络之外，还可以在不同类型的网络（如以太网和快速以太网）之间起到互连作用。如今许多交换机都能够提供支持快速以太网或FDDI等的高速连接端口，用于连接网络中的其它交换机或者为带宽占用量大的关键服务器提供附加带宽。一般来说，交换机的每个端口都用来连接一个独立的网段，但是有时为了提供更快的接入速度，我们可以把一些重要的网络计算机直接连接到交换机的端口上。这样，网络的关键服务器和重要用户就拥有更快的接入速度，支持更大的信息流量。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;最后简略的概括一下交换机的基本功能：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1． 像集线器一样，交换机提供了大量可供线缆连接的端口，这样可以采用星型拓扑布线。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2． 像中继器、集线器和网桥那样，当它转发帧时，交换机会重新产生一个不失真的方形电信号。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;3． 像网桥那样，交换机在每个端口上都使用相同的转发或过滤逻辑。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4． 像网桥那样，交换机将局域网分为多个冲突域，每个冲突域都是有独立的宽带，因此大大提高了局域网的带宽。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;5． 除了具有网桥、集线器和中继器的功能以外，交换机还提供了更先进的功能，如虚拟局域网（VLAN）和更高的性能。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;目前，以太网交换机厂商根据市场需求，推出了三层甚至四层交换机。但无论如何，其核心功能仍是二层的以太网数据包交换。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;交换机的传输模式有全双工，半双工，自适应。所谓半双工就是指一个时间段内只有一个动作发生，举个简单例子，一条窄窄的马路，同时只能有一辆车通过，当目前有两辆车对开，这种情况下就只能一辆先过，等到头儿后另一辆再开，这个例子就形象的说明了半双工的原理。交换机的全双工是指交换机在发送数据的同时也能够接收数据，两者同步进行，这好像我们平时打电话一样，说话的同时也能够听到对方的声音。</p><p>　　</p><p>知识扩展*：二层交换机，三层交换机及四层交换机的区别</p><p>1.二层交换</p><p>&nbsp; &nbsp; &nbsp; 二层交换技术的发展比较成熟，二层交换机属数据链路层设备，可以识别数据包中的MAC地址信息，根据MAC地址进行转发，并将这些MAC地址与对应的端口记录在自己内部的一个地址表中。</p><p>具体的工作流程如下：</p><p>1) 当交换机从某个端口收到一个数据包，它先读取包头中的源MAC地址，这样它就知道源MAC地址的机器是连在哪个端口上的</p><p>2) 再去读取包头中的目的MAC地址，并在地址表中查找相应的端口</p><p>3) 如表中有与这目的MAC地址对应的端口，把数据包直接复制到这端口上</p><p>4) 如表中找不到相应的端口则把数据包广播到所有端口上，当目的机器对源机器回应时，交换机又可以记录这一目的MAC地址与哪个端口对应，在下次传送数据时就不再需要对所有端口进行广播了。不断的循环这个过程，对于全网的MAC地址信息都可以学习到，二层交换机就是这样建立和维护它自己的地址表。</p><p>从二层交换机的工作原理可以推知以下三点：</p><p>1) 由于交换机对多数端口的数据进行同时交换，这就要求具有很宽的交换总线带宽，如果二层交换机有N个端口，每个端口的带宽是M，交换机总线带宽超过N×M，那么这交换机就可以实现线速交换</p><p>2) 学习端口连接的机器的MAC地址，写入地址表，地址表的大小（一般两种表示方式：一为BEFFER RAM，一为MAC表项数值），地址表大小影响交换机的接入容量</p><p>3) 还有一个就是二层交换机一般都含有专门用于处理数据包转发的ASIC（Application specific Integrated Circuit, 专用集成电路）芯片，因此转发速度可以做到非常快。由于各个厂家采用ASIC不同，直接影响产品性能。</p><p>以上三点也是评判二、三层交换机性能优劣的主要技术参数，这一点请大家在考虑设备选型时注意比较。</p><p>2.三层交换</p><p>&nbsp; &nbsp; &nbsp; 下面先来通过一个简单的网络来看看三层交换机的工作过程。</p><p>使用IP的设备A------------------------三层交换机------------------------使用IP的设备B 　　比如A要给B发送数据，已知目的IP，那么A就用子网掩码取得网络地址，判断目的IP是否与自己在同一网段。如果在同一网段，但不知道转发数据所需的MAC地址，A就发送一个ARP请求，B返回其MAC地址，A用此MAC封装数据包并发送给交换机，交换机起用二层交换模块，查找MAC地址表，将数据包转发到相应的端口。</p><p>如果目的IP地址显示不是同一网段的，那么A要实现和B的通讯，在流缓存条目中没有对应MAC地址条目，就将第一个正常数据包发送向一个缺省网关，这个缺省网关一般在操作系统中已经设好，这个缺省网关的IP对应第三层路由模块，所以对于不是同一子网的数据，最先在MAC表中放的是缺省网关的MAC地址（由源主机A完成）；然后就由三层模块接收到此数据包，查询路由表以确定到达B的路由，将构造一个新的帧头，其中以缺省网关的MAC地址为源MAC地址，以主机B的MAC地址为目的MAC地址。通过一定的识别触发机制，确立主机A与B的MAC地址及转发端口的对应关系，并记录进流缓存条目表，以后的A到B的数据（层三交换机要确认是由A到B而不是到C的数据，还要读取帧中的IP地址。），就直接交由二层交换模块完成。这就通常所说的一次路由多次转发。 　　 &nbsp; &nbsp; 以上就是三层交换机工作过程的简单概括，可以看出三层交换的特点：</p><p>1）由硬件结合实现数据的高速转发。这就不是简单的二层交换机和路由器的叠加，三层路由模块直接叠加在二层交换的高速背板总线上，突破了传统路由器的接口速率限制，速率可达几十Gbit/s。算上背板带宽，这些是三层交换机性能的两个重要参数。</p><p>2）简洁的路由软件使路由过程简化。大部分的数据转发，除了必要的路由选择交由路由软件处理，都是由二层模块高速转发，路由软件大多都是经过处理的高效优化软件，并不是简单照搬路由器中的软件。</p><p>二层和三层交换机的选择</p><p>&nbsp; &nbsp; &nbsp; 二层交换机用于小型的局域网络。这个就不用多言了，在小型局域网中，广播包影响不大，二层交换机的快速交换功能、多个接入端口和低谦价格为小型网络用户提供了很完善的解决方案。</p><p>&nbsp; &nbsp; &nbsp; 三层交换机的优点在于接口类型丰富，支持的三层功能强大，路由能力强大，适合用于大型的网络间的路由，它的优势在于选择最佳路由，负荷分担，链路备份及和其他网络进行路由信息的交换等等路由器所具有功能。</p><p>&nbsp; &nbsp; &nbsp; 三层交换机的最重要的功能是加快大型局域网络内部的数据的快速转发，加入路由功能也是为这个目的服务的。如果把大型网络按照部门，地域等等因素划分成一个个小局域网，这将导致大量的网际互访，单纯的使用二层交换机不能实现网际互访；如单纯的使用路由器，由于接口数量有限和路由转发速度慢，将限制网络的速度和网络规模，采用具有路由功能的快速转发的三层交换机就成为首选。</p><p>&nbsp; &nbsp; &nbsp; 一般来说，在内网数据流量大，要求快速转发响应的网络中，如全部由三层交换机来做这个工作，会造成三层交换机负担过重，响应速度受影响，将网间的路由交由路由器去完成，充分发挥不同设备的优点，不失为一种好的组网策略，当然，前提是客户的腰包很鼓，不然就退而求其次，让三层交换机也兼为网际互连。</p><p>3.四层交换</p><p>&nbsp; &nbsp; &nbsp; 第四层交换的一个简单定义是：它是一种功能，它决定传输不仅仅依据MAC地址(第二层网桥)或源/目标IP地址（第三层路由），而且依据TCP/UDP(第四层) 应用端口号。第四层交换功能就象是虚IP，指向物理服务器。它传输的业务服从的协议多种多样，有HTTP、FTP、NFS、Telnet或其他协议。这些业务在物理服务器基础上，需要复杂的载量平衡算法。</p><p>&nbsp; &nbsp; &nbsp; 在IP世界，业务类型由终端TCP或UDP端口地址来决定，在第四层交换中的应用区间则由源端和终端IP地址、TCP和UDP端口共同决定。在第四层交换中为每个供搜寻使用的服务器组设立虚IP地址（VIP），每组服务器支持某种应用。在域名服务器（DNS）中存储的每个应用服务器地址是VIP，而不是真实的服务器地址。当某用户申请应用时，一个带有目标服务器组的VIP连接请求（例如一个TCP SYN包）发给服务器交换机。服务器交换机在组中选取最好的服务器，将终端地址中的VIP用实际服务器的IP取代，并将连接请求传给服务器。这样，同一区间所有的包由服务器交换机进行映射，在用户和同一服务器间进行传输。</p><p>第四层交换的原理</p><p>&nbsp; &nbsp; &nbsp; OSI模型的第四层是传输层。传输层负责端对端通信，即在网络源和目标系统之间协调通信。在IP协议栈中这是TCP（一种传输协议）和UDP（用户数据包协议）所在的协议层。 　　在第四层中，TCP和UDP标题包含端口号（port number），它们可以唯一区分每个数据包包含哪些应用协议（例如HTTP、FTP等）。端点系统利用这种信息来区分包中的数据，尤其是端口号使一个接收端计算机系统能够确定它所收到的IP包类型，并把它交给合适的高层软件。端口号和设备IP地址的组合通常称作&quot;插口（socket）&quot;。1和255之间的端口号被保留，他们称为&quot;熟知&quot;端口，也就是说，在所有主机TCP/I P协议栈实现中，这些端口号是相同的。除了&quot;熟知&quot;端口外，标准UNIX服务分配在256到1024端口范围，定制的应用一般在1024以上分配端口号。分配端口号的最近清单可以在RFC1700 &quot;Assigned Numbers&quot;上找到。</p><p>&nbsp; &nbsp; &nbsp; TCP/UDP端口号提供的附加信息可以为网络交换机所利用，这是第四层交换的基础。具有第四层功能的交换机能够起到与服务器相连接的&quot;虚拟IP&quot;(VIP)前端的作用。每台服务器和支持单一或通用应用的服务器组都配置一个VIP地址。这个VIP地址被发送出去并在域名系统上注册。在发出一个服务请求时，第四层交换机通过判定TCP开始，来识别一次会话的开始。然后它利用复杂的算法来确定处理这个请求的最佳服务器。一旦做出这种决定，交换机就将会话与一个具体的IP地址联系在一起，并用该服务器真正的IP地址来代替服务器上的VIP地址。</p><p>&nbsp; &nbsp; &nbsp; 每台第四层交换机都保存一个与被选择的服务器相配的源IP地址以及源TCP端口相关联的连接表。然后第四层交换机向这台服务器转发连接请求。所有后续包在客户机与服务器之间重新影射和转发，直到交换机发现会话为止。在使用第四层交换的情况下，接入可以与真正的服务器连接在一起来满足用户制定的规则，诸如使每台服务器上有相等数量的接入或根据不同服务器的容量来分配传输流。</p><p>&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;目前，在Internet 中，有近80% 的路由器来自Cisco 。Cisco 的交换机产品以“Catalyst”为商标。包含1900 、2800 …6000 、8500 等十多个系列。总的来说，这些交换机可以分为两类：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;一类是固定配置交换机 ，包括3500 及以下的大部分型号，除了有限的软件升级之外，这些交换机不能扩展；另一类是模块化交换机 ，主要指4000 及以上的机型，网络设计者可以根据网络需求，选择不同数目和型号的接口板、电源模块及相应的软件。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>路由器(Router)：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;路由器（Router）是互联网的主要节点设备。路由器通过路由决定数据的转发。转发策略称为路由选择（routing），这也是路由器名称的由来（router，转发者）。作为不同网络之间互相连接的枢纽，路由器系统构成了基于TCP/IP 的国际互联网络 Internet 的主体脉络，也可以说，路由器构成了Internet的骨架。它的处理速度是网络通信的主要瓶颈之一，它的可靠性则直接影响着网络互连的质量。因此，在园区网、地区网、乃至整个Internet 研究领域中，路由器技术始终处于核心地位，其发展历程和方向，成为整个Internet 研究的一个缩影。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;路由器（Router）是用于连接多个逻辑上分开的网络，所谓逻辑网络是代表一个单独的网络或者一个子网。当数据从一个子网传输到另一个子网时，可通过路由器来完成。因此，路由器具有判断网络地址和选择路径的功能，它能在多网络互联环境中，建立灵活的连接，可用完全不同的数据分组和介质访问方法连接各种子网，路由器只接受源站或其他路由器的信息，属网络层的一种互联设备。</p><p>工作原理举例</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（1）工作站A将工作站B的地址12.0.0.5连同数据信息以数据帧的形式发送给路由器1。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（2）路由器1收到工作站A的数据帧后，先从包头中取出地址12.0.0.5，并根据路径表计算出发往工作站B的最佳路径：R1-&gt;R2-&gt;R5-&gt;B；并将数据包发往路由器2。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（3）路由器2重复路由器1的工作，并将数据包转发给路由器5。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（4）路由器5同样取出目的地址，发现12.0.0.5就在该路由器所连接的网段上，于是将该数据包直接交给工作站B。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（5）工作站B收到工作站A的数据帧，一次通信过程宣告结束。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;事实上，路由器除了上述的路由选择这一主要功能外，还具有网络流量控制功能。有的路由器仅支持单一协议，但大部分路由器可以支持多种协议的传输，即多协议路由器。由于每一种协议都有自己的规则，要在一个路由器中完成多种协议的算法，势必会降低路由器的性能。因此，我们以为，支持多协议的路由器性能相对较低。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;路由器的一个作用是连通不同的网络，另一个作用是选择信息传送的线路。选择通畅快捷的近路，能大大提高通信速度，减轻网络系统通信负荷，节约网络系统资源，提高网络系统畅通率，从而让网络系统发挥出更大的效益来。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;从过滤网络流量的角度来看，路由器的作用与交换机和网桥非常相似。但是与工作在网络物理层，从物理上划分网段的交换机不同，路由器使用专门的软件协议从逻辑上对整个网络进行划分。例如，一台支持IP协议的路由器可以把网络划分成多个子网段，只有指向特殊IP地址的网络流量才可以通过路由器。对于每一个接收到的数据包，路由器都会重新计算其校验值，并写入新的物理地址。因此，使用路由器转发和过滤数据的速度往往要比只查看数据包物理地址的交换机慢。但是，对于那些结构复杂的网络，使用路由器可以提高网络的整体效率。路由器的另外一个明显优势就是可以自动过滤网络广播。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;路由器的主要工作就是为经过路由器的每个数据帧寻找一条最佳传输路径，并将该数据有效地传送到目的站点。由此可见，选择最佳路径的策略即路由算法是路由器的关键所在。为了完成这项工作，在路由器中保存着各种传输路径的相关数据－－路径表（Routing Table），供路由选择时使用。路径表中保存着子网的标志信息、网上路由器的个数和下一个路由器的名字等内容。路径表可以是由系统管理员固定设置好的，也可以由系统动态修改，可以由路由器自动调整，也可以由主机控制。</p><p>1．静态路径表</p><p>&nbsp; &nbsp; &nbsp; &nbsp;由系统管理员事先设置好固定的路径表称之为静态（static）路径表，一般是在系统安装时就根据网络的配置情况预先设定的，它不会随未来网络结构的改变而改变。</p><p>2．动态路径表</p><p>&nbsp; &nbsp; &nbsp; &nbsp;动态（Dynamic）路径表是路由器根据网络系统的运行情况而自动调整的路径表。路由器根据路由选择协议（Routing Protocol）提供的功能，自动学习和记忆网络运行情况，在需要时自动计算数据传输的最佳路径。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;互联网各种级别的网络中随处都可见到路由器。接入网络使得家庭和小型企业可以连接到某个互联网服务提供商；企业网中的路由器连接一个校园或企业内成千上万的计算机；骨干网上的路由器终端系统通常是不能直接访问的，它们连接长距离骨干网上的ISP和企业网络。</p><p>宽带路由器</p><p>&nbsp; &nbsp; &nbsp; &nbsp;宽带路由器是近几年来新兴的一种网络产品，它伴随着宽带的普及应运而生。宽带路由器在一个紧凑的箱子中集成了路由器、防火墙、带宽控制和管理等功能，具备快速转发能力，灵活的网络管理和丰富的网络状态等特点。多数宽带路由器针对中国宽带应用优化设计，可满足不同的网络流量环境，具备满足良好的电网适应性和网络兼容性。多数宽带路由器采用高度集成设计，集成10/100Mbps宽带以太网WAN接口、并内置多口10/100Mbps自适应交换机，方便多台机器连接内部网络与Internet，可以广泛应用于家庭、学校、办公室、网吧、小区接入、政府、企业等场合。见http://blog.csdn.net/zollty/article/details/6679405</p><p>无线路由器</p><p>&nbsp; &nbsp; &nbsp; &nbsp;见本文“无线AP和无线路由器”段落。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>MODEM</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Modem，即调制解调器：调制器和解调器合在一起的总称。使数字数据能在模拟信号传输线上传输的转换接口。所谓调制，就是把数字信号转换成电话线上传输的模拟信号；解调，即把模拟信号转换成数字信号。合称调制解调器。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;现在常见的Modem有普通拨号Modem，基带Modem和光纤Modem。</p><p>扩展知识*：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;“基带Modem”又称为短程调制解调器，是在相对短的距离内，如楼宇、校园内部或市内，连接计算机，网桥，路由器和其它数字通讯设备的装置。基带传输是一种重要的数据传输方式，基带MODEM作用是形成适当的波形，使数据信号在带宽受限的传输介质上通过时，不会由于波形迭起而产生码间干扰。它与频带Modem相对，频带Modem是利用给定线路中的频带（如一个或多个电话所占用的频带）进行数据传输，它的应用范围要比基带广泛得多，传输距离也较基带要长。我们家庭日常所用的56K Modem就是频带Modem。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;基带modem更准确的称呼是CSU/DSU(chanel service unit/date service unit),它有两个端口，模拟端口接高质量双绞线，将两个csu/dsu连接起来，另外的数字端口和两端的数字接口连接。它是用来连接DDN专线的。基带猫兼容性差，最好用同一厂家的设备。基带猫就是用在数字线路里面的,我们普通的modem是模数转换,而基带猫就是数字数字转换的。所以基带猫不算是真正的MODEM。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>NAT</p><p>&nbsp; &nbsp; &nbsp; &nbsp;NAT，即网络地址转换(Network Address Translation)，属接入广域网(WAN)技术，是一种将私有(保留)地址转化为合法IP地址的转换技术,它被广泛应用于各种类型Internet接入方式和各种类型的网络中。原因很简单，NAT不仅完美地解决了lP地址不足的问题，而且还能够有效地避免来自网络外部的攻击，隐藏并保护网络内部的计算机。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;相关案例：利用地址转换实现负载均衡</p><p>&nbsp; &nbsp; &nbsp; &nbsp;案例描述：随着访问量的上升，当一台服务器难以胜任时，就必须采用负载均衡技术，将大量的访问合理地分配至多台服务器上。当然，实现负载均衡的手段有许多种，比如可以采用服务器群集负载均衡、交换机负载均衡、DNS解析负载均衡等等。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;其实除此以外，也可以通过地址转换方式实现服务器的负载均衡。事实上，这些负载均衡的实现大多是采用轮询方式实现的，使每台服务器都拥有平等的被访问机会</p><p>&nbsp; &nbsp; &nbsp; &nbsp;网络环境：局域网以2Mb/s DDN专线拉入Internet,路由器选用安装了广域网模块的Cisco 2611。内部网络使用的IP地址段为10.1.1.1~10.1.3.254，局域网端口Ethernet 0的IP地址为10.1.1.1,子网掩码为255.255.252.0。网络分配的合法IP地址范围为202.110.198.80~202.110.198.87,连接ISP的端口Ethernet 1的IP地址为202.110.198.81,子网掩码为255.255.255.248。要求网络内部的所有计算机均可访问Internet，并且在3台Web服务器和2台FTP服务器实现负载均衡。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;案例分析：既然要求网络内所有计算机都可以接入Internet,而合法IP地址又只有5个可用，当然可采用端口复用地址转换方式。本来对服务器通过采用静态地址转换，赋予其合法IP地址即可。但是，由于服务器的访问量太大（或者是服务器的性能太差），不得不使用多台服务器作负载均衡，因此，必须将一个合法IP地址转换成多相内部IP地址，以轮询方式减轻每台服务器的访问压力。</p><p>配置文件：</p><p>interface fastethernet0/1</p><p>ip adderss 10.1.1.1 255.255.252.0 //定义局域网端口IP地址</p><p>duplex auto</p><p>speed auto</p><p>ip nat inside //定义为局域端口</p><p>……</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>以太网（Ethernet）与ATM网的区别</p><p>1.以太网</p><p>&nbsp; &nbsp; &nbsp; &nbsp;以太网是当今现有局域网采用的最通用的通信协议标准，组建于七十年代早期。以太网是一种传输速率为10Mbps的常用局域网（LAN）标准。在以太网中，所有计算机被连接一条同轴电缆上，采用具有冲突检测的载波感应多处访问（CSMA/CD）方法，采用竞争机制和总线拓朴结构。基本上，以太网由共享传输媒体，如双绞线电缆或同轴电缆和多端口集线器、网桥或交换机构成。在星型或总线型配置结构中，集线器/交换机/网桥通过电缆使得计算机、打印机和工作站彼此之间相互连接。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;以太网具有的一般特征概述如下：</p><p>共享媒体：所有网络设备依次使用同一通信媒体。</p><p>广播域：需要传输的帧被发送到所有节点，但只有寻址到的节点才会接收到帧。</p><p>CSMA/CD：以太网中利用载波监听多路访问/冲突检测方法（Carrier Sense Multiple Access/Collision Detection）以防止 twp 或更多节点同时发送。</p><p>MAC 地址：媒体访问控制层的所有 Ethernet 网络接口卡（NIC）都采用48位网络地址。这种地址全球唯一。</p><p>2.ATM</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ATM，即异步传输模式，是一项数据传输技术。它适用于局域网和广域网，具有高速数据传输率和支持许多种类型如声音、数据、传真、实时视频、CD质量音频和图象的通信。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;通过ATM技术可完成企业总部与各办事处及公司分部的局域网互联，从而实现公司内部数据传送、企业邮件服务、话音服务等等，并通过上联INTERNET实现电子商务等应用。同时由于ATM采用统计复用技术，且接入带宽突破原有的2M，达到2M-155M，因此适合高带宽、低延时或高数据突发等应用。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;从目前的情况看，千兆以太网阻挡了ATM了的发展，ATM技术已经日暮西山，“ATM的市场分额现在只占10%，而且大多还在电信部门。”（2000年）</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>宽带是什么？</p><p>&nbsp; &nbsp; &nbsp; &nbsp;虽然“宽带”这一词频频出现在各大媒体上，但一直很少见到对它的准确定义。通俗地讲，宽带是相对传统拨号上网而言，尽管目前没有统一标准规定宽带的带宽应达到多少，但依据大众习惯和网络多媒体数据流量考虑，网络的数据传输速率至少应达到256Kbps才能称之为宽带，其最大优势是带宽远远超过56Kbps拨号上网方式。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>PPPoE</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PPPoE是point-to-point protocol over ethernet（点到点连接协议）的简称，可以使以太网的主机通过一个简单的桥接设备连到一个远端的接入集中器上。通过pppoe协议，远端接入设备能够实现对每个接入用户的控制和计费。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>如今常见的网络接入方式</p><p>1. 普通拨号方式，拨号上网是用电话的，按分钟计算的，最高56K速率。需要的设备：普通拨号Modem。（几乎已被淘汰）</p><p>2. N-ISDN，“窄带综合业务数字网”，俗称“一线通”。它是以电话线为基础发展起来的，可以在一条普通电话线上提供语音、数据、图象等综合性业务，最高128K的速率。（基本被淘汰）</p><p>3. Cable Modem的HFC接入方案</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Cable Modem是一种可以通过有线电视网络进行高速数据接入的装置，俗称“广电通”或者“有线通”。其中，提供因特网接入业务可以采用“HFC＋Cable Modem＋以太网/ATM”的方式。局端需要配备一台HFC头端设备，通过ATM或快速以太网与因特网进行互联，并且完成信号的调制和混合功能。数据信号通过光纤同轴混合网（HFC）传至用户家中，Cable Modem完成信号的解码、解调等功能，并通过以太网端口将数字信号传送到PC机。与ADSL相比，它的带宽比较高（10M）。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;目前国内开通有线通的城市还不多，主要集中在上海和广州等大城市。尽管理论传输速率很高，但一个小区或一幢楼通常只开通10Mbps带宽，同样属于共享带宽。最大好处是无需拨号，开机便永远在线。</p><p>4. ADSL (非对称数字用户环路)宽带技术</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ADSL技术是运行在原有普通电话线上的一种新的高速宽带技术，它利用现有的一对电话铜线，为用户提供上、下行非对称的传输速率(带宽)。非对称主要体现在上行速率(最高640Kbps)和下行速率(最高8Mdps)的非对称性上。各地电信局在宣传ADSL时常会采用一些好听的名字，如“超级一线通”、“网络快车”等，其实这些都指同一种宽带方式。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;需要的设备：在现有电话线上安装ADSL，只需在用户端安装一台ADSL MODEM和一只分离器，用户线路不用任何改动，极其方便。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;单用户连接：电话线连接分离器，分离器再连接ADSL MODEM和电话，PC与ADSL MODEM相连。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;多用户连接：PC－以太网（HUB或Switch）－ADSL路由器－分离器，也就是说需要ADSL路由器，如果用户过多，还要用到交换机（Switch）。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;知识扩展：DSL(Digital Subscriber Line数字用户环路)技术是基于普通电话线的宽带接入技术。DSL包括ADSL、RADSL、HDSL和VDSL等等。VDSL(Very-high-bit-rate Digital Subscriber loop)是高速数字用户环路，简单地说，VDSL就是ADSL的快速版本。</p><p>5. 小区宽带(FTTX+LAN，即“光纤接入+局域网”)</p><p>&nbsp; &nbsp; &nbsp; &nbsp;这是大中城市目前较普及的一种宽带接入方式，网络服务商采用光纤接入到楼（FTTB）或小区（FTTZ），再通过网线接入用户家，为整幢楼或小区提供共享带宽（通常是10Mb/s）。目前国内有多家公司提供此类宽带接入方式，如网通、长城宽带、联通和电信等。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;这种接入方式对用户设备要求最低，只需一台带10/100Mbps自适应网卡的电脑。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;目前，绝大多数小区宽带均为10Mbps共享带宽，这意味如果在同一时间上网的用户较多，网速则较慢。即便如此，多数情况的平均下载速度仍远远高于电信ADSL，达到了几百KB/s，在速度方面占有较大优势。</p><p>6. 其他接入方式</p><p>&nbsp; &nbsp; &nbsp; &nbsp;其他接入方式还包括：光纤接入网(OAN)，无限接入网，高速以太网，10Base-S方案等。</p><p>光纤接入方式（光纤是固定的IP，无需猫）：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（1）光纤 —&gt; 光电转换器 —&gt; 三层交换机（光电转换为RJ-45接口后,你直接接到交换机里，再在交换机里设置默认路由，就可以上网了。）</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（2）光电收发器（光猫）-----防火墙-----路由器------交换机-----PC（10台）。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;（3）小区的形式：（光纤 —&gt; 光电转换器 —&gt; 代理服务器）—&gt; PC ADSL / VDSL PPPoE ：电脑上运行第三方拨号软件如Enternet300或WinXP 系统自带的拨号程序，填入ISP提供的账号和密码，每次上网前先要拨号。</p><p>&nbsp;</p><p>常用上网接入方式就是以上的3、4、5，实际选择时的比较：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;一般来说，只要用户家中有电话基本都可以开通ADSL（前提是当地电信已提供这项服务），而小区宽带和有线通则视具体地区而定，可事先查询。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;第一类用户对网络下载速度非常在意，应首先考虑小区宽带或有线通，ADSL的下载速度对他们来说绝对是可怕的梦魇；第二类用户则看重宽带服务的稳定性，而下载速度则退居其次（512Kbps ADSL的速度完全可满足网络游戏的带宽需求）。在这方面，电信ADSL则有得天独厚的优势，因为不少网络游戏服务器均由电信提供，可确保稳定性。第三类用户则可以根据当地的实际情况，从价格、安装便利性综合考虑。首先考虑安装小区宽带或有线通，若都不行则只能安装ADSL。第四类用户需要一个稳定的公网IP地址，安装前需先了解当地各种宽带服务的实际情况。一般来讲，电信ADSL均使用公网IP，但采用PPPoE拨号方式的为动态IP，此时可考虑选择静态IP地址接入服务或借用软件绑定IP地址。而小区宽带和有线通多采用内网IP，不适合这类用户（不过个别地区的小区宽带例外，用户需向当地网络服务商详细了解）。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;感受国内大城市上海的宽带服务：ADSL、小区宽带和有线通三种主流宽带接入方式都已在上海大规模投入使用，涉及服务商包括上海电信、长城宽带、有线通和网通等。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>无线AP与无线路由器</p><p>&nbsp; &nbsp; &nbsp; &nbsp;无限AP：单纯型AP的功能相对来比较简单，缺少路由功能，只能相当无线集线器；对于此类无线AP，还没有发现可以互连的产品！而扩展型AP也就是市场上的无线路由器，由于它功能比较全面，大多数扩展型AP不但具有路由交换功能还有DHCP、网络防火墙等功能。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;无线路由器：无线路由器是单纯型AP与宽带路由器的一种结合体；它借助于路由器功能，可实现家庭无线网络中的Internet连接共享，实现ADSL和小区宽带的无线共享接入 ，另外，无线路由器可以把通过它进行无线和有线连接的终端都分配到一个子网，这样子网内的各种设备交换数据就非常方便。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;可以这样说：无线路由器就是AP（Access Point，无线访问节点）、路由功能和交换机的集合体，支持有线无线组成同一子网，直接接上MODEM。无线AP相当于一个无线交换机，接在有线交换机或路由器上，为跟它连接的无线网卡从路由器那里分得IP。</p><p>实际应用：</p><p>&nbsp; &nbsp; &nbsp; &nbsp;独立的AP在那些需要大量AP来进行大面积覆盖的公司使用得比较多，所有AP通过以太网连接起来并连到独立的无线局域网防火墙。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;无线路由器在私人环境中使用得比较多，在这种环境下，一个AP就足够了。这样的话，整合了宽带接入路由器和AP的无线路由器就提供了单个机器的解决方案。无线路由器一般包括了网络地址转换（NAT）协议，以支持无线局域网用户的网络连接共享——这是私人环境中很好用的一个功能。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;AP不能直接跟ADSL MODEM相连，所以在使用时必须再添加一台交换机或者集线器：但是，大部分无线路由器由于具有宽带拨号的能力，因此可以直接跟ADSL MODEM连接进行宽带共享。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;美国电气和电子工程师协会（Institute of Electrical and Electronics Engineers，IEEE）于2009.9.14正式批准了最新的Wi-Fi无线标准802.11n。理论上讲，802.11n可以达到300Mbps的传输速率，这是802.11g标准的6倍，802.11b标准的30倍。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;3G无线路由器：小黑A8 是一款将3G网络信号/有线宽带信号转换为WIFI信号，分享给周边的WIFI设备的MINI型便携式带电池式WIFI产品，性能出色，是iPad平板电脑上网冲浪的最优伴侣。小黑A8支持IEEE 802.11b/g/n协议，WiFi 局域网速率高达150Mbps，其WIFI信号有效范围可达100M，可覆盖普通一层办公楼。小黑A10 内置充电电池，连续4小时工作超长续航，可支持20个Wi-Fi用户同时在线，它还具有强大的兼容性，内置HSUPA无线上网卡。你只需购买一张SIM的资费卡即可上网。同时A8+还支持家庭ADSL有线宽带网络拨号接入，和办公室静态IP宽带接入。华为e5：最多支持5个Wi-Fi用户，适用于PC、手机、游戏机、数码相机等Wi-Fi设备。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>ADSL虚拟拨号接入</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ADSL虚拟拨号就是在ADSL的数字线上进行拨号，不同于模拟电话线上用调制解调器的拨号，而采用专门的协议PPP over Ethernet(PPPoE)（需要安装PPPoE（宽带通）客户端软件），拨号后直接由验证服务器进行检验，用户需输入用户名与密码，检验通过后就建立起一条高速的用户数字，并分配相应的动态IP。虚拟拨号用户需要通过一个用户帐号和密码来验证身份，这个用户帐号和163帐号一样，都是用户申请时自己选择的，并且这个帐号是作了限制的，只能用于ADSL虚拟拨号，不能用于普通MODEM拨号。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ADSL虚拟拨号的宽带接入方式是目前国内宽带运营商提供的主流方式，需要采用宽带路由器的ADSL虚拟拨号接入主要是以太网接口没有内置路由功能的ADSL MODEM，如果你采用的是这种设备，就请按以下方式进行设置宽带路由器即可：登录到路由器管理界面，以金浪的宽带路由器为例，点击界面下的菜单“上网向导”，然后选择“ADSL虚拟拨号”项。</p><p>——————————————————————</p><p>&nbsp;</p><p>&nbsp;</p><p>网卡与无线网卡</p><p>&nbsp; &nbsp; &nbsp; &nbsp;网卡，又称为网络适配器（adapter），是工作在数据链路层的网路组件，是局域网中连接计算机和传输介质的接口，不仅能实现与局域网传输介质之间的物理连接和电信号匹配，还涉及帧的发送与接收、帧的封装与拆封、介质访问控制、数据的编码与解码以及数据缓存的功能等。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;不同的网络接口适用于不同的网络类型，目前常见的接口主要有以太网的RJ-45接口、细同轴电缆的BNC接口和粗同轴电AUI接口、FDDI接口、ATM接口等。而且有的网卡提供两种或多种类型的接口，如有的网卡会同时提供RJ-45、BNC接口。RJ-45接口是最为常见的一种网卡接口，主要得益于双绞线以太网的普及。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;无线网卡：其主要工作原理是微波射频技术，按照IEEE802.11协议，无线局域网卡分为媒体访问控制层和物理层，在两者之间，还定义了一个媒体访问控制-物理子层。USB无线上网卡，是目前最常见的。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;其实，光有无线网卡是无法连接无线网络，还必须有无线路由器或无线AP。无线网卡就好比是接收器，无线路由相当于发射器。其实还是需要有线的Internet线路接入到无线猫上，再将信号转化为无线的信号发射出去，由无线网卡接收。一般的无线路由器可以拖2-4个无线网卡，工作距离在50米以内效果较好，远了通信质量很差。</p><p><br/></p>
