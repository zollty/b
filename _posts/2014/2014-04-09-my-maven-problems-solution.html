---
layout: ue
title: Maven问题记录
category: 技术/开发工具
tags: Maven
keywords: "Maven"
---

<div style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;"><span style="font-size: 20px;">Maven问题解决记录：</span></span></div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">1、远程仓库中有jar，但是编译时找不到。</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">问题描述：</div><div style="line-height: 32.4px; white-space: normal;">Failed to execute goal on project amps-dcm: Could not resolve dependencies for project com.travelsky.pss:amps-dcm:war:0.0.1-SNAPSHOT:&nbsp;<span style="color: rgb(230, 0, 19);">The following artifacts could not be resolved:&nbsp;</span>org.zollty.util:zollty-util:jar:1.0, org.zollty.log:zollty-log:jar:1.0:<span style="color: rgb(230, 0, 19);">&nbsp;Failure to find&nbsp;</span>org.zollty.util:zollty-util:jar:1.0<span style="color: rgb(230, 0, 19);">&nbsp;in&nbsp;</span>http://172.27.18.106:8081/nexus/content/groups/public<span style="color: rgb(230, 0, 19);">&nbsp;was cached in the local repository, resolution will not be reattempted until the update interval of LocalMirrorId has elapsed or updates are forced</span>&nbsp;-&gt; [Help 1]</div><div style="line-height: 32.4px; white-space: normal;">[ERROR]</div><div style="line-height: 32.4px; white-space: normal;">[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</div><div style="line-height: 32.4px; white-space: normal;">[ERROR]&nbsp;</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">解决方案：</div><div style="line-height: 32.4px; white-space: normal;">打开本地仓库目录，找到那个jar的位置，把残留的文件夹全都删除。然后再重新下载这个jar。</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">还是不行？有可能是parent项目中也存在xxx.lastUpdate的文件。所以把parent项目也清理一下。</div><div style="line-height: 32.4px; white-space: normal;">例如：</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;parent&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;groupId&gt;org.zollty&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;artifactId&gt;zollty-org&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;version&gt;1.0&lt;/version&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;/parent&gt;</div><div style="line-height: 32.4px; white-space: normal;">那么，请检查</div><div style="line-height: 32.4px; white-space: normal;">D:\C\Java\maven3\repo\org\zollty<span style="color: rgb(255, 0, 0);">\zollty-org\1.0</span>目录！！</div><p><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">2、transitive dependencies (if any) will not be available, enable debug logging for more details</div><div style="line-height: 32.4px; white-space: normal;">详细错误如下：</div><div style="line-height: 32.4px; white-space: normal;">[WARNING] The POM for org.zollty.util:zollty-util:jar:1.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">解决方法： 显式引入:zollty-util:jar:1.0依赖的jar即可。</div><p><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">3、如何将Maven依赖的jar发布到tomcat的WEB-INF/lib下面</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">在.classpath文件中设置：</div><div style="line-height: 32.4px; white-space: normal;">&lt;classpathentry kind=&quot;con&quot; path=&quot;<span style="color: rgb(230, 0, 19);">org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER</span>&quot;&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;attributes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;/attributes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;/classpathentry&gt;</div><div style="line-height: 32.4px; white-space: normal;">注意，有些插件是：&lt;classpathentry kind=&quot;con&quot; path=&quot;<span style="color: rgb(230, 0, 19);">org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINE</span>R&quot;&gt;</div><p><br/></p><p><br/></p><div style="line-height: 32.4px; white-space: normal;">4、配置了拷贝(overlays)引入的war包的Eclipse-Maven 项目，当发布到服务器上时，没有拷贝到war中的文件到发布的服务器上。</div><div style="line-height: 32.4px; white-space: normal;">pom配置如下：</div><div style="line-height: 32.4px; white-space: normal;">&lt;plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;version&gt;2.1.1&lt;/version&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;attachClasses&gt;true&lt;/attachClasses&gt;</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp;&lt;overlays&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;overlay&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &nbsp;&lt;groupId&gt;com.travelsky.pss&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &nbsp;&lt;artifactId&gt;abframe&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;/overlay&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;overlay&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- don&#39;t remove this tag. empty groupId/artifactId represents the current build --&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;/overlay&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp;&lt;/overlays&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;/configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;/plugin&gt;</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">原因： 没有配置支持overlays的Eclipse插件，即<span style="color: rgb(255, 0, 0);">m2e-wtp插件</span>。</div><div style="line-height: 32.4px; white-space: normal;">有些Eclipse插件是这样</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">.project文件</span></div><div style="line-height: 32.4px; white-space: normal;">&lt;natures&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; ...</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;nature&gt;<span style="color: rgb(255, 0, 0);">org.maven.ide.eclipse</span>.maven2Nature&lt;/nature&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; ...</div><div style="line-height: 32.4px; white-space: normal;">&lt;/natrues&gt;</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">.classpath&nbsp;文件</span></div><div style="line-height: 32.4px; white-space: normal;">&lt;classpathentry kind=&quot;con&quot; path=&quot;<span style="color: rgb(255, 0, 0);">org.maven.ide.eclipse</span>.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;attributes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;/attributes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;/classpathentry&gt;</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;"><div>但是有些Eclipse插件是这样</div><div><span style="color: rgb(255, 0, 0);">.project文件</span></div></div><div style="line-height: 32.4px; white-space: normal;">&lt;natures&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; ...</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;nature&gt;<span style="color: rgb(255, 0, 0);">org.eclipse.m2e.core</span>.maven2Nature&lt;/nature&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; ...</div><div style="line-height: 32.4px; white-space: normal;">&lt;/natures&gt;&nbsp;</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">.classpath&nbsp;文件</span></div><div style="line-height: 32.4px; white-space: normal;">&lt;classpathentry kind=&quot;con&quot; path=&quot;<span style="color: rgb(255, 0, 0);">org.eclipse.m2e</span>.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;attributes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;/attributes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;/classpathentry&gt;</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">经测试，第二个配置可以正确使用maven的war包依赖自动发布的功能。</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">如果是第一个配置，那需要安装m2e-wtp插件。</div><div style="line-height: 32.4px; white-space: normal;">安装后，完整的配置如下</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">.project文件</span></div><div style="line-height: 32.4px; white-space: normal;"><pre class="brush:xml;toolbar:false" style="line-height: 1.42857;">&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;UTF-8&quot;?&gt;
&lt;projectDescription&gt;
&nbsp;&lt;name&gt;amps-dcm&lt;/name&gt;
&nbsp;&lt;comment&gt;&lt;/comment&gt;
&nbsp;&lt;projects&gt;
&nbsp;&lt;/projects&gt;
&nbsp;&lt;buildSpec&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;org.eclipse.wst.jsdt.core.javascriptValidator&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;com.genuitec.eclipse.j2eedt.core.WebClasspathBuilder&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;com.genuitec.eclipse.j2eedt.core.J2EEProjectValidator&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;com.genuitec.eclipse.j2eedt.core.DeploymentDescriptorValidator&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;com.genuitec.eclipse.ast.deploy.core.DeploymentBuilder&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&nbsp;&lt;buildCommand&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;arguments&gt;
&nbsp;&nbsp;&nbsp;&lt;/arguments&gt;
&nbsp;&nbsp;&lt;/buildCommand&gt;
&nbsp;&lt;/buildSpec&gt;
&nbsp;&lt;natures&gt;
&nbsp;&nbsp;&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;org.eclipse.jem.workbench.JavaEMFNature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;org.eclipse.wst.common.modulecore.ModuleCoreNature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;com.genuitec.eclipse.ast.deploy.core.deploymentnature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;com.genuitec.eclipse.j2eedt.core.webnature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;org.eclipse.wst.common.project.facet.core.nature&lt;/nature&gt;
&nbsp;&nbsp;&lt;nature&gt;org.eclipse.wst.jsdt.core.jsNature&lt;/nature&gt;
&nbsp;&lt;/natures&gt;
&lt;/projectDescription&gt;</pre></div><p><br/></p><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">.classpath&nbsp;文件</span></div><div style="line-height: 32.4px; white-space: normal;"><pre class="brush:xml;toolbar:false" style="line-height: 1.42857;">&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;UTF-8&quot;?&gt;
&lt;classpath&gt;
&nbsp;&lt;classpathentry&nbsp;kind=&quot;src&quot;&nbsp;output=&quot;target/classes&quot;&nbsp;path=&quot;src/main/java&quot;&gt;
&nbsp;&nbsp;&lt;attributes&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;optional&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;maven.pomderived&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&lt;/attributes&gt;
&nbsp;&lt;/classpathentry&gt;
&nbsp;&lt;classpathentry&nbsp;excluding=&quot;**&quot;&nbsp;kind=&quot;src&quot;&nbsp;output=&quot;target/classes&quot;&nbsp;path=&quot;src/main/resources&quot;&gt;
&nbsp;&nbsp;&lt;attributes&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;maven.pomderived&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&lt;/attributes&gt;
&nbsp;&lt;/classpathentry&gt;
&nbsp;&lt;classpathentry&nbsp;kind=&quot;src&quot;&nbsp;output=&quot;target/test-classes&quot;&nbsp;path=&quot;src/test/java&quot;&gt;
&nbsp;&nbsp;&lt;attributes&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;optional&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;maven.pomderived&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&lt;/attributes&gt;
&nbsp;&lt;/classpathentry&gt;
&nbsp;&lt;classpathentry&nbsp;excluding=&quot;**&quot;&nbsp;kind=&quot;src&quot;&nbsp;output=&quot;target/test-classes&quot;&nbsp;path=&quot;src/test/resources&quot;&gt;
&nbsp;&nbsp;&lt;attributes&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;maven.pomderived&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&lt;/attributes&gt;
&nbsp;&lt;/classpathentry&gt;
&nbsp;&lt;classpathentry
&nbsp;kind=&quot;con&quot;&nbsp;
path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6&quot;&gt;
&nbsp;&nbsp;&lt;attributes&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;maven.pomderived&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&lt;/attributes&gt;
&nbsp;&lt;/classpathentry&gt;
&nbsp;&lt;classpathentry&nbsp;kind=&quot;con&quot;&nbsp;path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;
&nbsp;&nbsp;&lt;attributes&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;maven.pomderived&quot;&nbsp;value=&quot;true&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;attribute&nbsp;name=&quot;org.eclipse.jst.component.dependency&quot;&nbsp;value=&quot;/WEB-INF/lib&quot;/&gt;
&nbsp;&nbsp;&lt;/attributes&gt;
&nbsp;&lt;/classpathentry&gt;
&nbsp;&lt;classpathentry&nbsp;kind=&quot;output&quot;&nbsp;path=&quot;target/classes&quot;/&gt;
&lt;/classpath&gt;</pre></div><p><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">5、maven 无法确定 &lt;T&gt;T 的类型参数;对于上限为 long,java.lang.Object 的类型变量 T</div><div style="line-height: 32.4px; white-space: normal;">无法确定 &lt;X&gt;X 的类型参数；对于上限为 X,java.lang.Object 的类型变量 X，不存在唯一最大实例</div><div style="line-height: 32.4px; white-space: normal;">原因是，默认编译器（javac）的问题。解决方案：使用其他编译器，比如eclipse所用的编译器（JDT compiler from eclipse）。</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">在pom.xml中配置如下：</div><div style="line-height: 32.4px; white-space: normal;">&lt;plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;version&gt;3.1&lt;/version&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;source&gt;${java-version}&lt;/source&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;target&gt;${java-version}&lt;/target&gt;</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp;&lt;compilerId&gt;eclipse&lt;/compilerId&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;/configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;dependencies&gt;</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp;&lt;dependency&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;artifactId&gt;<span style="font-weight: 700;">plexus-compiler-eclipse</span>&lt;/artifactId&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;version&gt;2.3&lt;/version&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp;&lt;/dependency&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;/dependencies&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;/plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">参见：</div><div style="line-height: 32.4px; white-space: normal;"><a href="http://www.eclipse.org/forums/index.php/t/1229/">http://www.eclipse.org/forums/index.php/t/1229/</a></div><p><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">6、使用JDT compiler时出现 枚举类型switch报错 问题：</div><div style="line-height: 32.4px; white-space: normal;">Cannot switch on a value of type. Only convertible int values or enum variables are permitted</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">例如：</div><div style="line-height: 32.4px; white-space: normal;"><pre class="brush:java;toolbar:false;" style="line-height: 1.42857;">class&nbsp;Foo&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;enum&nbsp;MyEnum&nbsp;{&nbsp;A&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;foo()&nbsp;{&nbsp;switch&nbsp;(&nbsp;MyEnum.A&nbsp;)&nbsp;{&nbsp;case&nbsp;A:&nbsp;}&nbsp;}
}</pre></div><div style="line-height: 32.4px; white-space: normal;">分析和解决方法：</div><div style="line-height: 32.4px; white-space: normal;"><p>Turns out that the setting&nbsp;<code style="font-size: 16.2px;">org.eclipse.jdt.core.compiler.compliance</code>&nbsp;needs to be set to the target version in order for it to be able to recognize&nbsp;<code style="font-size: 16.2px;">java.lang.Enum</code>.</p><p>This setting is only set by plexus-compiler-eclipse when both&nbsp;<code style="font-size: 16.2px;">targetVersion</code>&nbsp;AND&nbsp;<code style="font-size: 16.2px;">optimize</code>&nbsp;is set. [1]</p><p>Modify your pom like this and it should work:</p><pre class="brush:xml;toolbar:false;" style="line-height: 1.42857;">&lt;plugins&gt;
&nbsp;&nbsp;&lt;plugin&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;3.1&lt;/version&gt;&nbsp;&lt;!--&nbsp;or&nbsp;3.0&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;compilerId&gt;eclipse&lt;/compilerId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;source&gt;1.6&lt;/source&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;target&gt;1.6&lt;/target&gt;&nbsp;&lt;optimize&gt;true&lt;/optimize&gt;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;add&nbsp;this&nbsp;line!&nbsp;--&gt;</pre><p>I&#39;m not sure why it was decided in plexus-compiler-eclipse that optimization would affect the compliance level, so this is in fact a workaround.</p></div><div style="line-height: 32.4px; white-space: normal;">see:&nbsp;</div><div style="line-height: 32.4px; white-space: normal;"><a href="https://github.com/sonatype/plexus-compiler/blob/master/plexus-compilers/plexus-compiler-eclipse/src/main/java/org/codehaus/plexus/compiler/eclipse/EclipseJavaCompiler.java#L156">https://github.com/sonatype/plexus-compiler/blob/master/plexus-compilers/plexus-compiler-eclipse/src/main/java/org/codehaus/plexus/compiler/eclipse/EclipseJavaCompiler.java#L156</a></div><p><br/></p><div style="line-height: 32.4px; white-space: normal;"><hr/>7、Maven报错：&#39;version&#39; contains an expression but should be a constant.</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">是因为 父pom还没有发布到仓库中，建议在仓库中检查一下父pom是否正确。</div><p><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">8、Maven WTP无法引用工程中的项目模块(org.eclipse.wst.common.component)</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">也就是说，在<span style="line-height: 1.5; background-color: rgb(255, 255, 255);">org.eclipse.wst.common.component</span><span style="line-height: 1.5;">文件中缺少如下的语句：</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &nbsp; &nbsp;&lt;dependent-module archiveName=&quot;tre-client-2.0.2-SNAPSHOT.jar&quot; deploy-path=&quot;/WEB-INF/lib&quot; handle=&quot;module:/resource/tre-client/tre-client&quot;&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;dependency-type&gt;uses&lt;/dependency-type&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/dependent-module&gt;</span></div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">那是因为 被引用的项目的pom配置有问题，经我检查，问题出在如下一行</div><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&lt;resources&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp;&lt;resource&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp;&lt;/resource&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp;&lt;resource&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);"><span style="font-weight: 700;">&nbsp; &lt;directory&gt;${basedir}/src/main/java/com/travelsky/report/client&lt;/directory&gt;</span></span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);"><span style="font-weight: 700;">&nbsp; &lt;includes&gt;</span></span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);"><span style="font-weight: 700;">&nbsp; &nbsp;&lt;include&gt;*.xsd&lt;/include&gt;</span></span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);"><span style="font-weight: 700;">&nbsp; &lt;/includes&gt;</span></span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &lt;targetPath&gt;${project.build.directory}/classes/com/travelsky/report/client&lt;/targetPath&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp;&lt;/resource&gt;</span></p><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&lt;/resources&gt;</span></p><div style="line-height: 32.4px; white-space: normal;">但是，在这个目录下面，找不到任何 .xsd 文件，运行maven指令的时候不会报错，但是在这个WTP中就检测到了这个问题，所以没有生成这个引用。</div><div style="line-height: 32.4px; white-space: normal;"><hr/>9、<span style="line-height: 32.4px;">报错：No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</span><p><br/></p><p>原因：JRE环境指定的是JRE目录，而不是JDK目录。</p><p>解决方法：</p><p>&nbsp; ● Click on Windows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; Add -&gt; Standard VM and Select JAVA_HOME.&nbsp;</p><p>&nbsp; ● Select New JRE from Installed JREs and Press OK</p></div><p><br/></p><p><br/></p>