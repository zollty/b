---
layout: ue
title: Maven常用命令
category: Maven专题
tags: Maven
keywords: "Maven命令,Maven查看依赖,Maven选择构建模块"
---

<p><span style="font-weight: 700;">Maven选择模块构建</span></p><p>mvn install&nbsp;<span style="font-weight: 700;">-pl</span>&nbsp;apollo-client&nbsp; &nbsp;表示<span style="text-decoration-line: underline;">手动选择需要构建的项目</span>，项目间以逗号分隔。&nbsp;</p><p>mvn install&nbsp;<span style="font-weight: 700;">-pl</span>&nbsp;apollo-client&nbsp;<span style="font-weight: 700;">–am&nbsp; &nbsp;</span>表示<span style="text-decoration-line: underline;">同时构建所列模块依赖的其他模块</span>（与-pl连用）&nbsp;</p><p><span style="font-weight: 700;">从某个模块开始接着构建</span></p><p>mvn install -rf apollo-client</p><p><span style="font-weight: 700;">只构建当前项目，不构建子模块 子mudule</span></p><p>mvn install -N</p><p>PS：N是non-recursive的意思</p><p style='line-height: 1;'><br/></p><p><strong>Maven 指定构建时的 setting.xml 文件</strong></p><p>mvn install --settings C:\user\settings.xml</p><p>或者：</p><p>mvn -s C:\user\settings.xml</p><p style='line-height: 1;'><br/></p><p><strong>下载并关联源代码和javadoc</strong></p><p>mvn dependency:sources</p><p>mvn dependency:resolve -Dclassifier=javadoc</p><p style='line-height: 1;'><br/></p><p><strong>查看依赖关系</strong></p><p>mvn dependency:tree</p><p style='line-height: 1;'><br/></p><div class="subject-title" onclick="toggleContent(this,'#k667xz');"><p class="subject-info">＋ (点击以下标题显示正文内容)</p><p><strong>导出依赖的jar包</strong></p></div><div id="k667xz" class="subject-content" style="display:none;"><p><span style="color: rgb(192, 0, 0);">mvn dependency:copy-dependencies</span></p><p>1）可以在工程创建lib文件夹，输入以下命令：</p><p>mvn dependency:copy-dependencies -DoutputDirectory=lib</p><p>（默认导出到targed/dependency 下面）</p><p>2）可以设置依赖级别，通常用编译需要的jar</p><p>mvn dependency:copy-dependencies -DincludeScope=compile</p><p>mvn dependency:copy-dependencies -DoutputDirectory=lib -DincludeScope=compile</p><p style='line-height: 1;'><br/></p></div><p style='line-height: 1;'><br/></p><p><strong>在本地仓库安装jar包、</strong><strong>Maven安装jar到仓库</strong></p><p>mvn install:install-file</p><p>参见这篇文章：《<a href="http://blog.zollty.com/b/archive/maven-deploy-jar-to-local-or-remote-repo.html" target="_blank">Maven发布deploy jar到本地仓库/远程仓库/FTP等</a>》</p><p style='line-height: 1;'><br/></p><p><strong>Maven 构建时显示详细信息</strong><br/></p><p>在构建命令后面加上 -X，例如：mvn install -X</p><p>这样就能显示jdk等信息如下：</p><pre class="brush:plain;toolbar:false">Apache&nbsp;Maven&nbsp;3.0.4&nbsp;(r1232337;&nbsp;2012-01-17&nbsp;16:44:56+0800)
Maven&nbsp;home:&nbsp;D:\C\Program&nbsp;Files\apache-maven-3.0.4
Java&nbsp;version:&nbsp;1.6.0_45,&nbsp;vendor:&nbsp;Sun&nbsp;Microsystems&nbsp;Inc.
Java&nbsp;home:&nbsp;D:\C\Program&nbsp;Files\Java\jdk1.6.0_45\jre</pre><p style='line-height: 1;'><br/></p><p><strong>maven下载单个源码包</strong></p><p>maven-dependency-plugin：get</p><p>命令如下：</p><p>mvn org.apache.maven.plugins:maven-dependency-plugin:2.8:get -Dartifact=javax.mail:mail:1.1:jar:sources&nbsp;</p><p style='line-height: 1;'><br/></p><script type="text/javascript">var toggleContent=function(that, id){var tx="－ (点击以下标题隐藏正文内容)";if($(id).css("display")!="none"){tx="＋ (点击以下标题显示正文内容)"}$(that).children(":first").text(tx);$(id).fadeToggle(100)};</script>