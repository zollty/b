---
layout: ue
title: 我的Maven笔记
category: 技术/开发工具
tags: Maven
keywords: "Maven"
---

<p><br/></p><div><strong><span style="font-size: 20px;">Maven配置</span></strong></div><p><br/></p><div>设置环境变量</div><div>1、M2_HOME</div><div><span style="background-color: rgb(238, 236, 225);">D:\C\Java\maven3\apache-maven-3.0.3</span></div><div>2、Path</div><div><span style="background-color: rgb(238, 236, 225);">%M2_HOME%\bin;</span></div><p><br/><br/></p><div><strong><span style="font-size: 20px;">Maven命令</span></strong></div><p><br/></p><div><p>下载并关联源代码和javadoc</p><p>mvn dependency:sources<br/>mvn dependency:resolve -Dclassifier=javadoc</p><p><br/></p><p>查看依赖关系<br/></p></div><div><p>mvn dependency:tree<br/></p></div><p><br/><br/></p><div>2、导出依赖的jar包：</div><div>1）默认导出到targed/dependency 下面</div><div>mvn dependency:copy-dependencies</div><p><br/></p><div>2）可以在工程创建lib文件夹，输入以下命令：</div><div>mvn dependency:copy-dependencies -DoutputDirectory=lib</div><p><br/></p><div>3）可以设置依赖级别，通常用编译需要的jar</div><div>mvn dependency:copy-dependencies -DincludeScope=compile</div><div>mvn dependency:copy-dependencies -DoutputDirectory=lib -DincludeScope=compile</div><p><br/></p><div>3、把所有依赖的jar包打成一个jar包</div><div>添加：</div><div><pre class="brush:xml;toolbar:false">&lt;build&gt;
&nbsp;&nbsp;&lt;plugins&gt;
&nbsp;&nbsp;&nbsp;&lt;plugin&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;archive&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;manifest&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;mainClass&gt;com.allen.capturewebdata.Main&lt;/mainClass&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/manifest&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/archive&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;descriptorRefs&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/descriptorRefs&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;
&nbsp;&nbsp;&nbsp;&lt;/plugin&gt;
&nbsp;&nbsp;&lt;/plugins&gt;
&nbsp;&lt;/build&gt;

&nbsp;&nbsp;&lt;plugin&gt;
	&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
	&lt;configuration&gt;
	&nbsp;&nbsp;&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;
	&nbsp;&nbsp;&lt;descriptorRefs&gt;
		&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
	&nbsp;&nbsp;&lt;/descriptorRefs&gt;
	&nbsp;&nbsp;&lt;archive&gt;
		&lt;manifest&gt;
		&nbsp;&nbsp;&lt;mainClass&gt;com.zhubajie.util.Main&lt;/mainClass&gt;
		&lt;/manifest&gt;
	&nbsp;&nbsp;&lt;/archive&gt;
	&lt;/configuration&gt;
	&lt;executions&gt;
	&nbsp;&nbsp;&lt;execution&gt;
		&lt;id&gt;make-assembly&lt;/id&gt;
		&lt;phase&gt;package&lt;/phase&gt;
		&lt;goals&gt;
		&nbsp;&nbsp;&lt;goal&gt;assembly&lt;/goal&gt;
		&lt;/goals&gt;
	&nbsp;&nbsp;&lt;/execution&gt;
	&lt;/executions&gt;
&nbsp;&nbsp;&lt;/plugin&gt;</pre>运行下面的指令：</div><div><span style="background-color:#FFFFFF;font-family:Helvetica, Tahoma, Arial, sans-serif;">assembly:assembly</span> </div><p><br/></p><div>4、在本地仓库安装jar包：</div><div>mvn
 install:install-file -DgroupId=org.codehaus.plexus 
-DartifactId=plexus-io -Dversion=2.0.5 -Dpackaging=jar 
-Dfile=D:\Users\Desktop\spring-mvc-demo\plexus-io-2.0.5.jar</div><p><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">5、Maven打war包时排除不想打包的文件</div><div style="line-height: 32.4px; white-space: normal;">&lt;plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;attachClasses&gt;true&lt;/attachClasses&gt;&lt;!-- 把war里面的class当成附件打成一个jar包 --&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&nbsp;<span style="color: rgb(255, 0, 0);">&lt;warSourceExcludes&gt;**/.copyarea.db&lt;/warSourceExcludes&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;/configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&lt;/plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">注意：</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&lt;dependentWarExcludes&gt;</span>和</div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&lt;webResources&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;resource&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;excludes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;<span style="color: rgb(255, 0, 0);">&lt;exclude&gt;</span>**/*.html&lt;/exclude&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &lt;/excludes&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&lt;/resource&gt;</div><div style="line-height: 32.4px; white-space: normal;">&lt;/webResources&gt;</div><div style="line-height: 32.4px; white-space: normal;">貌似都不行。</div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;">6、Maven打war包时，不导入jar文件（lib下为空）</div><div style="line-height: 32.4px; white-space: normal;">做法如下：</div><div style="line-height: 32.4px; white-space: normal;">&lt;plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;attachClasses&gt;true&lt;/attachClasses&gt;&lt;!-- 把war里面的class当成附件打成一个jar包 --&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;warSourceExcludes&gt;**/.copyarea.db&lt;/warSourceExcludes&gt;&lt;!-- 排除这类文件 --&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;archive&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;addMavenDescriptor&gt;true&lt;/addMavenDescriptor&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &nbsp;&lt;/archive&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: rgb(255, 0, 0);">&lt;packagingExcludes&gt;WEB-INF/lib/*.jar&lt;/packagingExcludes&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;/configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;/plugin&gt;</div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;">7、打包源代码时排除某些文件</div><div style="line-height: 32.4px; white-space: normal;">&lt;plugin&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;version&gt;2.1&lt;/version&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;attach&gt;true&lt;/attach&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;source&gt;1.6&lt;/source&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;target&gt;1.6&lt;/target&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;encoding&gt;UTF-8&lt;/encoding&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;/configuration&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;executions&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;execution&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &lt;id&gt;attach-sources&lt;/id&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &lt;phase&gt;verify&lt;/phase&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &lt;goals&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &nbsp;&lt;goal&gt;jar-no-fork&lt;/goal&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp; &lt;/goals&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&nbsp;<span style="color: rgb(255, 0, 0);">&lt;configuration&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp;&lt;excludes&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;exclude&gt;**/.copyarea.db&lt;/exclude&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;exclude&gt;**/*.keep&lt;/exclude&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;exclude&gt;**/*.bak&lt;/exclude&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp;&lt;/excludes&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &lt;/configuration&gt;</span></div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &nbsp;&lt;/execution&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; &lt;/executions&gt;</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&lt;/plugin&gt;</div><p><br/></p><p><br/></p><div style="line-height: 32.4px; white-space: normal;">8、批量引入本地lib目录下的jar包。</div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;">方法应该不止一种，下面介绍这种方法比较方便，在pom.xml里面配置即可：</div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&lt;build&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &lt;finalName&gt;${release-name}&lt;/finalName&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &lt;sourceDirectory&gt;${basedir}/src/main/java&lt;/sourceDirectory&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &lt;outputDirectory&gt;${basedir}/src/main/webapp/WEB-INF/classes&lt;/outputDirectory&gt;</span></div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &lt;resources&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp;&lt;resource&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &lt;excludes&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &nbsp;&lt;exclude&gt;*.copyarea.db&lt;/exclude&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &lt;/excludes&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp;&lt;/resource&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);">&nbsp; &nbsp;<span style="font-weight: 700;">&lt;resource&gt;</span></span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; font-weight: 700; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &lt;directory&gt;${basedir}/lib&lt;/directory&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; font-weight: 700; background-color: rgb(238, 236, 225);">&nbsp; &nbsp; &lt;targetPath&gt;${basedir}/src/main/webapp/WEB-INF/lib&lt;/targetPath&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; font-weight: 700; background-color: rgb(238, 236, 225);">&nbsp; &nbsp;&lt;/resource&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 16px; font-weight: 700; background-color: rgb(238, 236, 225);">&nbsp; &lt;/resources&gt;</span></div><div style="line-height: 32.4px; white-space: normal;"><hr/></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700; font-size: small;">12的方法不推荐，建议用下面13的方法：</span></div><p style="line-height: 32.4px; white-space: normal;"><br/><br/></p><div style="line-height: 32.4px; white-space: normal;">9、配置多个web资源路径：</div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;">利用 maven-war-plugin，实测对于打war包和同步到tomcat下面，都有效。</div><p style="line-height: 32.4px; white-space: normal;"><br/></p><div style="line-height: 32.4px; white-space: normal;">参见：<a href="http://maven.apache.org/plugins/maven-war-plugin/examples/adding-filtering-webresources.html">http://maven.apache.org/plugins/maven-war-plugin/examples/adding-filtering-webresources.html</a></div><div style="line-height: 32.4px; white-space: normal;"><pre class="brush:xml;toolbar:false;" style="line-height: 1.42857; background-color: rgb(255, 255, 255);">&lt;project&gt;
&nbsp;&nbsp;...
&nbsp;&nbsp;&lt;build&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;plugins&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;plugin&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;2.5&lt;/version&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;webResources&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;this&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pom.xml&nbsp;directory&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;resource2&lt;/directory&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/webResources&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/plugin&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/plugins&gt;
&nbsp;&nbsp;&lt;/build&gt;
&nbsp;&nbsp;...
&lt;/project&gt;</pre></div><div style="line-height: 32.4px; white-space: normal;">配置：</div><div style="line-height: 32.4px; white-space: normal;"><pre class="brush:xml;toolbar:false;" style="line-height: 1.42857; background-color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;webResources&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;this&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pom.xml&nbsp;directory&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;resource2&lt;/directory&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;the&nbsp;list&nbsp;has&nbsp;a&nbsp;default&nbsp;value&nbsp;of&nbsp;**&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;includes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/*.jpg&lt;/include&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/includes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/webResources&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</pre></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">其中 webResources的高级用法如下：</span></div><p style="white-space: normal; line-height: normal;"><span style="font-size: 16px; background-color: rgb(238, 236, 225);"></span></p><pre class="brush:xml;toolbar:false" style="line-height: 1.42857;">&lt;webResources&gt;
&nbsp;&nbsp;&nbsp;&lt;resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;src/main/resources&lt;/directory&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;includes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/*.xml&lt;/include&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/*.vm&lt;/include&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/includes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;excludes&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;exclude&gt;*pattern3/pattern3&lt;/exclude&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;exclude&gt;pattern4/pattern4&lt;/exclude&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/excludes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--By&nbsp;default&nbsp;web&nbsp;resources&nbsp;are&nbsp;copied&nbsp;to&nbsp;the&nbsp;root&nbsp;of&nbsp;the&nbsp;WAR&nbsp;&nbsp;&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;override&nbsp;the&nbsp;destination&nbsp;directory&nbsp;for&nbsp;this&nbsp;resource&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;
&nbsp;&nbsp;&nbsp;&lt;/resource&gt;
&lt;/webResources&gt;</pre><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><strong>10、Maven安装jar到仓库</strong></p><p style="line-height: 32.4px; white-space: normal;">mvn install:install-file -Dfile=/home/zollty/jcjs/commons-util/target/commons-util-1.0.0-SNAPSHOT.jar -DgroupId=com.zbj.commons -DartifactId=commons-util -Dversion=1.0.0-SNAPSHOT -Dpackaging=jar</p><p><br/></p><p><span style="font-size: 20px;"><strong>11、<span style="font-size: 20px; line-height: 1.8;">Maven镜像（mirror）的作用</span></strong></span></p><p>mirror相当于一个拦截器，它会拦截maven对remote repository的相关请求，把请求里的remote repository地址，重定向到mirror里配置的地址。</p><p>如果仓库X可以提供仓库Y存储的所有内容，那么就可以认为X是Y的一个镜像。换句话说，任何一个可以从仓库Y获得的构件，都胡够从它的镜像中获取。</p><p>Some reasons to use a mirror are:</p><p><br/></p><p>There is a synchronized mirror on the internet that is geographically closer and faster</p><p>You want to replace a particular repository with your own internal repository which you have greater control over</p><p>You want to run a repository manager to provide a local cache to a mirror and need to use its URL instead.</p><p>例如， 有一个项目，需要在公司和住所都编码，并在项目pom.xml配置了A Maven库。在公司，是电信网络，访问A库很快，所以maven管理依赖和插件都从A库下载；在住所，是网通网络，访问A库很慢，但是访问B库很快。这时，在住所的setting.xml里，只要配置一下&lt;mirrors&gt;&lt;mirror&gt;....&lt;/mirror&gt;&lt;/mirrors&gt;，让B库成为A库的mirror，即可不用更改项目pom.xml里对于A库的相关配置。</p><p>如果该镜像仓库需要认证，则配置setting.xml中的&lt;server&gt;&lt;/server&gt;即可。</p><p><br/></p><p>镜像配置需要注意</p><p>&lt;mirrorOf&gt;&lt;/mirrorOf&gt;标签里面放置的是要被镜像的Repository ID。为了满足一些复杂的需求，Maven还支持更高级的镜像配置：&nbsp;</p><p>&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;&nbsp;</p><p>匹配所有远程仓库。&nbsp;</p><p>&lt;mirrorOf&gt;repo1,repo2&lt;/mirrorOf&gt;&nbsp;</p><p>匹配仓库repo1和repo2，使用逗号分隔多个远程仓库。&nbsp;</p><p>&lt;mirrorOf&gt;external:*,!repo1&lt;/miiroOf&gt;&nbsp;</p><p>匹配所有远程仓库，repo1除外，使用感叹号将仓库从匹配中排除。&nbsp;</p><p><br/></p><p>具体参见：http://maven.apache.org/guides/mini/guide-mirror-settings.html</p><p><br/></p><p><strong><span style="font-size: 20px;">12、Maven 构建时显示详细信息</span></strong></p><p>在构建命令后面加上 -X，例如：mvn install -X</p><p>这样就能显示jdk等信息如下：</p><p>Apache Maven 3.0.4 (r1232337; 2012-01-17 16:44:56+0800)</p><p>Maven home: D:\C\Program Files\apache-maven-3.0.4</p><p>Java version: 1.6.0_45, vendor: Sun Microsystems Inc.</p><p>Java home: D:\C\Program Files\Java\jdk1.6.0_45\jre</p><p><br/></p><p><br/></p><p><br/></p><p><strong><span style="font-size: 20px;">Maven配置 远程仓库和发布server</span></strong></p><pre class="brush:xml;toolbar:false">&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;UTF-8&quot;?&gt;
&lt;settings&nbsp;xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0&nbsp;http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;

&nbsp;&nbsp;&lt;localRepository&gt;D:/worksolft/maven-repo&lt;/localRepository&gt;

&nbsp;&nbsp;&lt;pluginGroups&gt;
&nbsp;&nbsp;&lt;/pluginGroups&gt;

&nbsp;&nbsp;&lt;proxies&gt;
&nbsp;&nbsp;&lt;/proxies&gt;


&nbsp;&nbsp;&lt;servers&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;server&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;releases&lt;/id&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;username&gt;deployment&lt;/username&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;password&gt;deployment123&lt;/password&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/server&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;server&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;snapshots&lt;/id&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;username&gt;deployment&lt;/username&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;password&gt;deployment123&lt;/password&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/server&gt;
&nbsp;&nbsp;&lt;/servers&gt;

&nbsp;&nbsp;&lt;mirrors&gt;
&nbsp;&nbsp;&lt;/mirrors&gt;


&nbsp;&nbsp;&lt;profiles&gt;
	&lt;profile&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;jdk-1.6&lt;/id&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;activation&gt;
	&nbsp;&nbsp;&nbsp;&nbsp;&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdk&gt;1.6&lt;/jdk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/activation&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;repositories&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;repository&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;nexus&lt;/id&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;nexus&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;url&gt;http://172.16.1.205:8081/nexus/content/groups/public&lt;/url&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;layout&gt;default&lt;/layout&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;releases&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enabled&gt;true&lt;/enabled&gt;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/releases&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;snapshots&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enabled&gt;true&lt;/enabled&gt;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/snapshots&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/repository&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/repositories&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/profile&gt;
&nbsp;&nbsp;&lt;/profiles&gt;
&nbsp;&nbsp;
&lt;/settings&gt;</pre><p><br/></p><p><strong><span style="font-size: 18px;">Maven选择模块构建</span></strong></p><p>例如：</p><p>mvn install <strong>-pl</strong> apollo-client&nbsp; &nbsp;表示<span style="text-decoration: underline;">手动选择需要构建的项目</span>，项目间以逗号分隔。&nbsp;</p><p>mvn install <strong>-pl</strong> apollo-client <strong>–am&nbsp; &nbsp;</strong>表示<span style="text-decoration: underline;">同时构建所列模块依赖的其他模块</span>（与-pl连用）&nbsp;</p><p>只构建当前项目，不构建子mudule</p><p>（mvn -N --non-recursive 仅在当前项目模块执行命令,不构建子模块）</p><p>mvn install -N</p><p><br/></p><p><br/></p><p><strong><span style="font-size: 18px;">Maven 指定构建时的 setting.xml 文件</span></strong></p><p>mvn install --settings C:\user\settings.xml<br/>或者：<br/></p><p>mvn -s C:\user\settings.xml</p><p><br/></p><p><strong><span style="font-size: 18px;">Maven&nbsp;the difference between the dependency scope &quot;provided&quot; versus &quot;optional&quot;</span></strong></p><p>唯一区别在于，例如 一个 war项目，provided的jar 不会被打进war包，而 optional 的jar 会打进war包。</p><p>而它们的传递性是一样的，都不会传递。</p><p><span style="text-decoration: underline;">从概念上、本质上来说</span>，provided的包是确实需要的，如果第三方用到它，则需要第三方提供，如果没有，就会出错。</p><p>而optional的本意是，这个包是可选的，无论有没有，都不会出错。</p><p><br/></p><p><br/></p><p>配置统一的spring版本号：</p><p>使用maven的如下配置：</p><pre class="brush:xml;toolbar:false">&lt;dependency&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework&lt;/groupId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;${org.springframework.version}&lt;/version&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;type&gt;pom&lt;/type&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;scope&gt;import&lt;/scope&gt;
&lt;/dependency&gt;</pre><p><br/></p><p>将依赖打入source包：</p><pre class="brush:xml;toolbar:false">&lt;plugin&gt;
&nbsp;&nbsp;&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;
&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;attach&gt;true&lt;/attach&gt;
&nbsp;&nbsp;&lt;/configuration&gt;
&nbsp;&nbsp;&lt;executions&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;execution&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;phase&gt;package&lt;/phase&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;aggregate&lt;/goal&gt;&lt;!--&nbsp;将依赖打入source包&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/execution&gt;
&nbsp;&nbsp;&lt;/executions&gt;
&lt;/plugin&gt;</pre><p><br/></p><p>合并打包：</p><pre class="brush:xml;toolbar:false">&lt;plugin&gt;
&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
&lt;version&gt;2.3&lt;/version&gt;
&lt;executions&gt;
&nbsp;&nbsp;&lt;execution&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;phase&gt;package&lt;/phase&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;shade&lt;/goal&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;--&gt;&lt;!--
&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;shadedClassifierName&gt;ALL&lt;/shadedClassifierName&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;--&gt;&lt;!--
&nbsp;&nbsp;&lt;/execution&gt;
&lt;/executions&gt;
&lt;/plugin&gt;</pre><p><br/></p><p>排除Jar包的解决方案：</p><p>用maven-enforcer-plugin检查，当发现有依赖的jar包则构建失败</p><pre class="brush:xml;toolbar:false">&lt;plugin&gt;
&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;
&lt;executions&gt;
&nbsp;&nbsp;&lt;!--&nbsp;&lt;execution&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;enforce-versions&lt;/id&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;enforce&lt;/goal&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;rules&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;requireMavenVersion&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;2.1.0&lt;/version&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/requireMavenVersion&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;requireJavaVersion&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.6&lt;/version&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/requireJavaVersion&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/rules&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;
&nbsp;&nbsp;&lt;/execution&gt;&nbsp;--&gt;
&nbsp;&nbsp;&lt;execution&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;enforce-banned-dependencies&lt;/id&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;enforce&lt;/goal&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;configuration&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;rules&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;bannedDependencies&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;excludes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;&lt;exclude&gt;junit:junit&lt;/exclude&gt;&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;exclude&gt;org.slf4j:slf4j-api&lt;/exclude&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;exclude&gt;commons-logging:commons-logging&lt;/exclude&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/excludes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;&lt;includes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;junit:junit:4.8.2:jar:test&lt;/include&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;cglib:cglib-nodep:jar:2.2&lt;/include&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/includes&gt;&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bannedDependencies&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/rules&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;fail&gt;true&lt;/fail&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/configuration&gt;
&nbsp;&nbsp;&lt;/execution&gt;
&lt;/executions&gt;
&lt;/plugin&gt;</pre><p><br/></p><p><br/></p><p>maven下载单个源码包</p><p>&lt;dependency&gt;&nbsp;</p><p>&nbsp; &lt;groupId&gt;javax.mail&lt;/groupId&gt;</p><p>&nbsp; &lt;artifactId&gt;mail&lt;/artifactId&gt;</p><p>&nbsp; &lt;version&gt;1.4&lt;/version&gt;&nbsp;</p><p>&lt;/dependency&gt;</p><p>命令如下：</p><p>mvn org.apache.maven.plugins:maven-dependency-plugin:2.8:get -Dartifact=javax.mail:mail:1.1:jar:sources&nbsp;</p><p><br/></p><p><br/></p><p>maven运行命令mybatis-generator:generate提示找不到数据库驱动问题</p><p>mybatis-generator classNotFoundException: com.mysql.jdbc.Driver</p><p>Caused by: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p><p>	at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)</p><p>	at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)</p><p>答案：</p><p>把驱动文件放在这个文件夹里 \Java\jdk1.6.0_02\jre\lib\ext</p><p><br/></p><p><br/></p><p>给war包添加静态资源路径</p><pre class="brush:xml;toolbar:false">&lt;!--&nbsp;打war包&nbsp;--&gt;
&lt;plugin&gt;
&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
&lt;version&gt;2.1.1&lt;/version&gt;
&lt;executions&gt;
&nbsp;&nbsp;&lt;execution&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;id&gt;default-war&lt;/id&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;phase&gt;package&lt;/phase&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;goals&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;war&lt;/goal&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/goals&gt;
&nbsp;&nbsp;&lt;/execution&gt;
&lt;/executions&gt;
&lt;configuration&gt;
&nbsp;&nbsp;&lt;!--&nbsp;把war里面的class当成附件打成一个jar包&nbsp;--&gt;
&nbsp;&nbsp;&lt;attachClasses&gt;true&lt;/attachClasses&gt;
&nbsp;&nbsp;&lt;webResources&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;包含对应配置文件&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;local&nbsp;test&nbsp;production&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;${basedir}/related-resources/project/webapp/local-system&lt;/directory&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;D:/C/dev-solft/tomcat-7.0.70-test/backup/zoa&lt;/directory&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource&gt;
&nbsp;&nbsp;&lt;/webResources&gt;
&lt;/configuration&gt;
&lt;/plugin&gt;</pre><p><br/></p><p><br/></p>