---
layout: ue
title: Apache配置——支持JBoss集群
category: 中间件技术
tags: Apache,JBoss,集群
keywords: "Apache配置 支持JBoss集群"
---

<p><strong><span style="font-size: 20px; ">一、为Apache&nbsp;Web服务器安装mod_cluster插件</span></strong></p><p><strong>1安装文件</strong></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">JBoss官方提供了<span style="font-family:Times New Roman">mod_cluster</span>的</span><span style=";font-size:16px">下载地址：</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">http://mod-cluster.jboss.org/downloads</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">直接把插件文件解压，拷贝到<span style="font-family:Times New Roman">/opt/app/</span></span><span style=";color:rgb(0,0,255);font-size:16px">apache2/</span><span style=";color:rgb(0,0,255);font-size:16px">modules/mod_cluster-1.1.3</span><span style=";font-size:16px">目录：</span></p><p style="text-align:left"><img src="http://ires.qiniudn.com/my/img/20150808/wps79.tmp.jpg" title="wps79.tmp.jpg"/><span style=";font-family:Calibri;font-size:14px">&nbsp;</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">当然，也可以把这些<span style="font-family:Times New Roman">so</span>文件，直接拷贝到</span><span style=";font-size:16px">/opt/app/</span><span style=";color:rgb(0,0,255);font-size:16px">apache2/</span><span style=";color:rgb(0,0,255);font-size:16px">modules</span><span style=";font-size:16px">目录。</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">注意：</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">下载的新版本的</span><span style=";font-size:16px">mod_cluster压缩</span><span style=";font-size:16px">文件里面的</span><span style=";font-size:16px">so</span><span style=";font-size:16px">可能不全，估计是因为那些</span><span style=";font-size:16px">so没有更新，所以没提供。</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">应该可以下载老版本的那些<span style="font-family:Times New Roman">so</span>文件代替</span><span style=";font-size:16px">。比如<span style="font-family:Times New Roman">mod_cluster-1.2.0.Final-linux2-x64-so.tar.gz</span>里面就没有<span style="font-family:Times New Roman">mod_proxy_ajp.so</span>，我就用</span><span style=";font-size:16px">1.1.3版本里面的<span style="font-family:Times New Roman">so</span>代替了。</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">&nbsp;</span></p><p><strong>2配置插件</strong></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">　　打开<span style="font-family:Times New Roman">/opt/app/apache2/</span></span><span style="font-family: 宋体;color: rgb(0, 0, 255);font-size: 16px">conf/httpd.conf</span><span style="font-family: 宋体;font-size: 16px">文件，</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">&nbsp;</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">1、</span><span style="font-family: 宋体;font-size: 16px">找到<span style="font-family:Times New Roman">LoadModule</span>配置模块</span><span style="font-family: 宋体;font-size: 16px">所在的位置</span><span style="font-family: 宋体;font-size: 16px">，添加如下配置项：（共<span style="font-family:Times New Roman">6</span>个<span style="font-family:Times New Roman">so</span>文件）</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style="font-family: 宋体;font-size: 16px">#&nbsp;</span><span style="font-family: 宋体;font-size: 16px">L</span><span style="font-family: 宋体;font-size: 16px">oad&nbsp;the&nbsp;mod_cluster&nbsp;modules&nbsp;to&nbsp;support&nbsp;jboss&nbsp;cluster&nbsp;with&nbsp;uses&nbsp;ajp&nbsp;proxy</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style="font-family: 宋体;font-size: 16px">LoadModule&nbsp;proxy_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_proxy.so</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";color:rgb(0,0,255);font-size:16px">LoadModule&nbsp;proxy_ajp_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_proxy_ajp.so</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style="font-family: 宋体;font-size: 16px">LoadModule&nbsp;slotmem_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_slotmem.so</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style="font-family: 宋体;font-size: 16px">LoadModule&nbsp;manager_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_manager.so</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style="font-family: 宋体;font-size: 16px">LoadModule&nbsp;proxy_cluster_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_proxy_cluster.so</span></p><p style="text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style="font-family: 宋体;font-size: 16px">LoadModule&nbsp;advertise_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_advertise.so</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">&nbsp;</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">2、</span><span style="font-family: 宋体;font-size: 16px">查找<span style="font-family:Times New Roman">mod_proxy_balancer</span>，如果启用了，则注释掉<span style="font-family:Times New Roman">mod_proxy_balancer</span>模块，因为此模块与<span style="font-family:Times New Roman">mod_cluster</span>相关模块不兼容：</span></p><p style="text-align:left;line-height:29px;background:rgb(243,243,243)"><span style="font-family: 宋体;font-size: 16px">#LoadModule&nbsp;proxy_balancer_module&nbsp;modules/mod_proxy_balancer.so</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">&nbsp;</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">注：集群一般用的是<span style="font-family:Times New Roman">ajp</span>协议，如果是<span style="font-family:Times New Roman">http</span>协议，则将<span style="font-family:Times New Roman">mod_proxy_ajp.so</span>换成如下：</span></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">LoadModule&nbsp;proxy_http_module&nbsp;/opt/app/apache2/modules/mod_cluster-1.1.3/mod_proxy_ajp.so</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">&nbsp;</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">&nbsp;</span></p><p><strong><span style="font-size: 20px; ">二、Configure&nbsp;Apache&nbsp;httpd&nbsp;and&nbsp;mod_cluster</span></strong></p><p><strong>1详细配置mod_cluster</strong></p><p style="text-align:left;line-height:29px"><span style="font-family: 宋体;font-size: 16px">　　打开<span style="font-family:Times New Roman">/opt/app/apache2/</span></span><span style="font-family: 宋体;color: rgb(0, 0, 255);font-size: 16px">conf/httpd.conf</span><span style="font-family: 宋体;font-size: 16px">文件，</span><span style="font-family: 宋体;font-size: 16px">添加如下配置项：</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">#&nbsp;MOD_CLUSTER_ADDS</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">#&nbsp;Adjust&nbsp;to&nbsp;you&nbsp;hostname&nbsp;and&nbsp;subnet.</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&lt;IfModule&nbsp;manager_module&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;Listen&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">122.119.122.163:6666</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;ManagerBalancerName&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">dcmCluster</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&lt;VirtualHost&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">122.119.122.163:6666</span><span style=";font-size:16px">&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Location&nbsp;/&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;deny,allow</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deny&nbsp;from&nbsp;all</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">Allow&nbsp;from&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">10.6</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Location&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">KeepAliveTimeout&nbsp;300</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";color:rgb(0,0,255);font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;MaxKeepAliveRequests&nbsp;0</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";color:rgb(0,0,255);font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;ServerAdvertise&nbsp;On</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";color:rgb(0,0,255);font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;AdvertiseFrequency&nbsp;5</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";color:rgb(0,0,255);font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;EnableMCPMReceive</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";color:rgb(0,0,255);font-size:16px">&nbsp;&nbsp;&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">AllowDisplay&nbsp;On</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Location&nbsp;/mod_cluster_manager&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetHandler&nbsp;mod_cluster-manager</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;deny,allow</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deny&nbsp;from&nbsp;all</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">Allow&nbsp;from&nbsp;1</span><span style=";color:rgb(0,0,255);font-size:16px">72.26</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Location&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&nbsp;&nbsp;&lt;/VirtualHost&gt;</span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; text-indent: 0px; text-align: left; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(243, 243, 243); line-height: normal; "><span style=";font-size:16px">&lt;/IfModule&gt;</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">1、</span><span style=";font-size:16px">其中<span style="font-family:Times New Roman">122.119.122.163:6666</span>为</span><span style=";font-size:16px">Web</span><span style=";font-size:16px">服务器本机的</span><span style=";font-size:16px">IP+6666端口（一般都是配置<span style="font-family:Times New Roman">6666</span>端口，可以修改），本地测试时，可以配置为：<span style="font-family:Times New Roman">127.0.0.1:6666</span></span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">2、第一个<span style="font-family:Times New Roman">Allow&nbsp;from</span>是设置谁能访问：<span style="font-family:Times New Roman">http://122.119.122.163:6666/</span></span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">第二个<span style="font-family:Times New Roman">Allow&nbsp;from</span>是设置谁能访问：<span style="font-family:Times New Roman">http://122.119.122.163:6666/mod_cluster_manager</span></span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">注意：<span style="font-family:Times New Roman">Allow&nbsp;from</span>的<span style="font-family:Times New Roman">IP</span>可以只写前几位。</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">3、<span style="font-family:Times New Roman">KeepAliveTimeout</span>，顾名思义，指连接<span style="font-family:Times New Roman">122.119.122.163:6666</span>的最长存活时间。</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">4、<span style="font-family:Times New Roman">MaxKeepAliveRequests</span>，这个一般都是设置的<span style="font-family:Times New Roman">0</span>，估计是代表“不限制”最大连接数。</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">5、<span style="font-family:Times New Roman">ServerAdvertise</span>，广播<span style="font-family:Times New Roman">(advertise)</span>机制，说明如下：</span></p><p style="text-align:left;line-height:29px;background:rgb(243,243,243)"><span style=";color:rgb(0,0,255);font-size:16px">ServerAdvertise&nbsp;On</span><span style=";font-size:16px">:&nbsp;Use&nbsp;the&nbsp;advertise&nbsp;mechanism&nbsp;to&nbsp;tell&nbsp;the&nbsp;JBoss&nbsp;AS/JBossWeb/Tomcat&nbsp;to&nbsp;whom&nbsp;it&nbsp;should&nbsp;send&nbsp;the&nbsp;cluster&nbsp;information.</span></p><p style="text-align:left;line-height:29px;background:rgb(243,243,243)"><span style=";color:rgb(0,0,255);font-size:16px">ServerAdvertise&nbsp;On&nbsp;http://hostname:port</span><span style=";font-size:16px">:&nbsp;Tell&nbsp;the&nbsp;hostname&nbsp;and&nbsp;port&nbsp;to&nbsp;use.&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">Only&nbsp;needed&nbsp;if&nbsp;the&nbsp;VirtualHost&nbsp;is&nbsp;not&nbsp;defined&nbsp;correctly,&nbsp;if&nbsp;the&nbsp;VirtualHost&nbsp;is&nbsp;a&nbsp;Name-based&nbsp;Virtual&nbsp;Host&nbsp;or&nbsp;when&nbsp;VirtualHost&nbsp;is&nbsp;not&nbsp;used.</span></p><p style="text-align:left;line-height:29px;background:rgb(243,243,243)"><span style=";font-size:16px">ServerAdvertise&nbsp;Off:&nbsp;Don&#39;t&nbsp;use&nbsp;the&nbsp;advertise&nbsp;mechanism.</span></p><p style="text-align:left;line-height:29px;background:rgb(243,243,243)"><span style=";font-size:16px">Default:&nbsp;Off.&nbsp;(Any&nbsp;Advertise&nbsp;directive&nbsp;in&nbsp;a&nbsp;VirtualHost&nbsp;sets&nbsp;it&nbsp;to&nbsp;On&nbsp;in&nbsp;the&nbsp;VirtualHost)</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">6、<span style="font-family:Times New Roman">AdvertiseFrequency</span>，一般都是配置的<span style="font-family:Times New Roman">5</span>分钟，默认是<span style="font-family:Times New Roman">10</span>分钟。</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">7、<span style="font-family:Times New Roman">EnableMCPMReceive</span>，一般都是这么配置的，说明如下：</span></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">Allow&nbsp;the&nbsp;VirtualHost&nbsp;to&nbsp;receive&nbsp;MCPM.&nbsp;Allow&nbsp;the&nbsp;VirtualHost&nbsp;to&nbsp;receive&nbsp;the&nbsp;MCPM&nbsp;from&nbsp;the&nbsp;nodes.&nbsp;You&nbsp;need&nbsp;one&nbsp;EnableMCPMReceive&nbsp;in&nbsp;your&nbsp;httpd&nbsp;configuration&nbsp;</span><span style=";color:rgb(0,0,255);font-size:16px">to&nbsp;allow&nbsp;mod_cluster&nbsp;to&nbsp;work</span><span style=";font-size:16px">,&nbsp;put&nbsp;it&nbsp;in&nbsp;the&nbsp;VirtualHost&nbsp;where&nbsp;you&nbsp;configure&nbsp;advertise.</span></p><p style="text-align:left;line-height:29px"><span style=";font-size:16px">&nbsp;</span></p><p style="text-align:left;line-height:29px"><span class="Apple-style-span" style="font-size: 20px; font-weight: bold; ">2启动Apache，访问mod_cluster_manager</span><br/></p><p style="text-indent:28px;text-align:left;line-height:29px"><span style=";font-size:16px">启动<span style="font-family:Times New Roman">Apache</span>后，用浏览器访问<span style="font-family:Times New Roman">http://122.119.122.163:6666/mod_cluster_manager</span>，能看到以下页面，说明<span style="font-family:Times New Roman">web</span>服务器<span style="font-family:Times New Roman">mod_cluster</span>配置成功：</span></p><p style="text-indent:28px;text-align:left"><img src="http://ires.qiniudn.com/my/img/20150808/wps7A.tmp.jpg" title="wps7A.tmp.jpg"/><span style=";font-size:16px">&nbsp;</span></p><p><br/></p>