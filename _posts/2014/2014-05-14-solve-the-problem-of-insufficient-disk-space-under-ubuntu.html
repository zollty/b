---
layout: ue
title: 解决“磁盘空间不足 磁盘上总计 /boot 的空间”问题
category: Linux系统与应用
tags: Linux,Ubuntu
keywords: "磁盘空间不足 磁盘上总计 /boot 的空间"
---

<p><strong><br/></strong></p><p><strong>提示“这个更新需要花去 40.5 M 磁盘上总计 /boot 的空间。</strong>请在 25.4 M 磁盘上留出 /boot 空间。清空您的回收站和临时文件，用“sudo apt-get clean”清理以前的安装文件。“ 但是我输入sudo apt-get clean后还是无法安装新的更新呢？</p><p>Reply:&nbsp;</p><p>sudo apt-get remove --purge $(dpkg -l &#39;linux-*&#39; | sed &#39;/^ii/!d;/&#39;&quot;$(uname -r | sed &quot;s/\(.*\)-\([^0-9]\+\)/\1/&quot;)&quot;&#39;/d;s/^[^ ]* [^ ]* \([^ ]*\).*/\1/;/[0-9]/!d&#39;)</p><p><br/></p><p><strong>系统自动升级会安装多个内核，卸载多余的内核可以获得更多磁盘空间。</strong></p><p><strong>解决方法如下：（见下面的指令）</strong></p><p><br/></p><p>zollty@zollty-Latitude-E6420:/home/local# <span style="color: rgb(192, 0, 0); "><strong>uname -a</strong></span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<strong>//查看系统当前使用内核</strong></p><p>Linux zollty-Latitude-E6420 <strong>3.13.0-46-generic</strong> #77-Ubuntu SMP Mon Mar 2 18:23:39 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</p><p><br/></p><p>zollty@zollty-Latitude-E6420:/home/local# <span style="color: rgb(192, 0, 0); "><strong>dpkg --get-selections|grep linux</strong></span> &nbsp; &nbsp; <strong>&nbsp;//带有image的为系统内核</strong></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">libselinux1:amd64 &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">libselinux1:i386 &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-firmware &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-headers-3.13.0-43 &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-headers-3.13.0-43-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-headers-3.13.0-46 &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-headers-3.13.0-46-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-headers-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; "><strong>linux-<span style="font-size: 16px; color: rgb(192, 0, 0); ">image-3.13.0-43-generic</span> &nbsp;install</strong></span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; "><strong>linux-<span style="font-size: 16px; color: rgb(192, 0, 0); ">image-3.13.0-46-generic</span> &nbsp;install</strong></span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-image-extra-3.13.0-43-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-image-extra-3.13.0-46-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-image-generic &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-libc-dev:amd64 &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">linux-sound-base &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">pptp-linux &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">syslinux &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">syslinux-common &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">syslinux-legacy &nbsp;install</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">util-linux &nbsp;install</span></em></p><p>&nbsp;</p><p>zollty@zollty-Latitude-E6420:/home/local# <span style="color: rgb(192, 0, 0); "><strong>sudo apt-get remove image-3.13.0-43-generic</strong></span> &nbsp; &nbsp; &nbsp;<strong> //卸载多余内核</strong></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">正在读取软件包列表... 完成</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">正在分析软件包的依赖关系树 &nbsp; &nbsp; &nbsp;&nbsp;</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">正在读取状态信息... 完成 &nbsp; &nbsp; &nbsp;&nbsp;</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">注意，根据正则表达式 image-3.13.0-43-generic 选中了 linux-image-3.13.0-43-generic</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">注意，根据正则表达式 image-3.13.0-43-generic 选中了 linux-signed-image-3.13.0-43-generic</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">Package &#39;linux-signed-image-3.13.0-43-generic&#39; is not installed, so not removed</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">下列软件包将被【卸载】：</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">&nbsp; linux-image-3.13.0-43-generic linux-image-extra-3.13.0-43-generic</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">升级了 0 个软件包，新安装了 0 个软件包，要卸载 2 个软件包，有 81 个软件包未被升级。</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">解压缩后将会空出 194 MB 的空间。</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">您希望继续执行吗？ [Y/n] y</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">(正在读取数据库 ... 系统当前共安装有 204281 个文件和目录。)</span></em></p><p style="line-height: normal; "><em><span style="font-size: 16px; ">正在卸载 linux-image-extra-3.13.0-43-generic (3.13.0-43.72) ...&nbsp;</span></em></p><p><br/></p><p>OK，大功告成。</p><p><span style="font-size: 16px; ">最后出现：</span></p><p><span style="font-size: 16px; ">....</span></p><p><em><span style="font-size: 16px; ">you may need to re-run your boot loader[grub]</span></em></p><p><span style="font-size: 16px; ">然后执行下面命令即可：</span></p><p><strong><span style="font-size: 16px; color: rgb(0, 32, 96); ">sudo &nbsp;/usr/sbin/update-grub</span></strong></p><p><br/></p>