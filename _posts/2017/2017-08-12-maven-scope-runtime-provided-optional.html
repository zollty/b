---
layout: ue
title: Maven的5种scope（加上optional 6种）
category: Maven专题
tags: Maven
keywords: "Maven Scope,provided和optional的区别"
---

<p><strong style="color: inherit; font-family: 黑体, SimHei; font-size: 22px;">1. Maven Scope&nbsp;provided 和 optional 的区别</strong><br/></p><p>它们的传递性是一样的，都不会传递。</p><p>唯一区别在于，例如 一个 war项目，provided的jar 不会被打进war包，而 optional 的jar 会打进war包。</p><p>从概念上、本质上来说：</p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p>provided的包是确实必须要的（如果第三方用到它，则需要第三方提供，如果没有，就会出错）</p></li><li><p>而optional的本意是，这个包是可选的（无论有没有，都不会出错）</p></li></ul><p><br/></p><h3><strong>2. Maven的5种scope对于3种class有否有效</strong></h3><table><tbody><tr class="firstRow"><td width="174" valign="top" style="word-break: break-all;">&nbsp; &nbsp;scope&nbsp; &nbsp; \&nbsp; &nbsp;class</td><td width="174" valign="top" style="word-break: break-all;">compile</td><td width="174" valign="top" style="word-break: break-all;">runtime</td><td width="174" valign="top" style="word-break: break-all;">test</td><td width="174" valign="top" style="word-break: break-all;">example</td></tr><tr><td width="174" valign="top" style="word-break: break-all;">compile<br/></td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;">spring-core<br/></td></tr><tr><td width="174" valign="top" style="word-break: break-all;"><span style="color: rgb(192, 0, 0);">runtime</span></td><td width="174" valign="top" style="word-break: break-all;"><span style="color: rgb(192, 0, 0);">-</span><br/></td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;"><span style="color: rgb(192, 0, 0);">jdbc驱动</span></td></tr><tr><td width="174" valign="top" style="word-break: break-all;">provided</td><td width="174" valign="top" style="word-break: break-all;">Y<br/></td><td width="174" valign="top" style="word-break: break-all;">-</td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;">servlet-api</td></tr><tr><td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">system<br/></td><td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">Y</td><td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">-<br/></td><td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">Y</td><td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">本地jar包<br/></td></tr><tr><td width="174" valign="top" style="word-break: break-all;">test</td><td width="174" valign="top" style="word-break: break-all;">-<br/></td><td width="174" valign="top" style="word-break: break-all;">-</td><td width="174" valign="top" style="word-break: break-all;">Y</td><td width="174" valign="top" style="word-break: break-all;">junit<br/></td></tr></tbody></table><p>从中可以看出：</p><p>1、<span style="color: rgb(192, 0, 0);">provided和system范围scope是一样的</span>，只是system的文件来自本地jar包，而provided的来自maven仓库。</p><p>2、所有scope的都能在test-class下使用</p><p>3、compile 和 runtime 的典型区别案例就是jdbc驱动，jdbc驱动编译时不需要，但是运行时需要。</p><p><br/></p><p>另外，Eclipse和Idea两种IDE对于maven scope的运用不一样：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;例如 <span style="color: rgb(192, 0, 0);">main/src下面</span>有个java程序的Main方法，<span style="color: rgb(192, 0, 0);">eclipse直接按F11运行，所有scope的jar包都可以依赖到</span>，<span style="color: rgb(192, 0, 0);">但是<span style="font-weight: 700;">idea下面只有compile和runtime的jar包能用，其他provided、system和test的jar包都会报错——找不到class</span></span>。</p><p>&nbsp; &nbsp; 具体参见这篇文章：《<a href="http://blog.zollty.com/b/archive/maven-class-not-found-under-ide-idea.html" target="_blank">Idea下运行找不到class、找不到jar包</a>》</p><p><br/></p>