---
layout: ue
title: 我的Linux系统使用笔记
category: Linux系统与应用
tags: Linux
keywords: "Linux使用笔记"
---

<div><div><div>1、Ubuntu打开终端快捷方式 <br/> <div><br/> &nbsp;&nbsp;&nbsp;&nbsp;ctrl+alt+T <br/> </div></div><div><br/> <div>2、查看Java的安装位置 <br/> <div><div><span style="color:#000000;">zollty@zollty-pc:~$ <strong>update-alternatives --config java</strong><br/> 链接组 java (提供 /usr/bin/java)中只有一个候选项：/opt/lib/jvm/java/bin/java<br/> 无需配置。</span> <div><br/> <div><div><br/> <div>4、Ubuntu系统下Eclipse Tomcat报错 <br/> <div><p style="color:#333333;font-family:tahoma, 宋体;line-height:22px;background-color:#efefef;"><span style="color:#000000;"><span style="font-size:16px;">Could
 not load the Tomcat server configuration at /Servers/Tomcat v6.0 Server
 at localhost-config. The configuration may be corrupt or incomplete.</span></span> </p><div><br/> <div>原因： <span style="font-size:16px;"><span style="color:#000000;">/opt/tomcat/conf/catalina.policy(权限不够)</span></span> <br/> </div></div><div><div><div>解决思路： <br/> <div>把配置文件从/opt/tomcat/conf文件夹中复制到&lt;eclipse workspace&gt;/Servers/&lt;Tomcat name&gt;-config/下面。</div></div><div>例如： <br/> </div></div><strong>sudo cp * ~/workspace-luna1/Servers/Tomcat-6.0.43-BI-config/</strong> <br/> <strong>sudo chmod 777 ~/workspace-luna1/Servers/Tomcat-6.0.43-BI-config/*</strong> <br/> <div><br/> <div><div>这样一来，还是有很多目录权限不够，所以干脆，把整个opt目录更改权限： <br/> <div><strong>sudo chmod -R 777 /opt</strong> <br/> </div></div><br/> </div></div></div></div></div></div></div></div></div></div></div></div></div><div>5、eclipse GC overhead limit exceeded 解决办法 <br/> <div><div><div><br/> <div>修改eclipse.ini，内存改成1024 <br/> </div></div><div><br/> <div>6、ubuntu系统下面 eclipse Open Web Browser无法在内部打开 <br/> <div><div class="post-text" itemprop="text"><p>方法一：</p><p>I did find a solution which worked:</p><p><strong>sudo apt-get install libwebkitgtk-1.0-0</strong> </p></div><div><span class="comment-copy">Looks like eclipse runs internal browser on webkitgtk。<br/> </span> <span class="comment-copy"></span> <div><div><br/> <div>方法二：未测试过，不知道可不可行。 <br/> <div><ul class=" list-paddingleft-2"><li><p><strong>Q: How can my Mozilla-based Browser find my Mozilla plug-ins?</strong></p></li><li><p>A:
 As of eclipse 3.3 the default set of Mozilla plug-in paths that are 
searched can be augmented by defining environment variable <code>MOZ_PLUGIN_PATH</code>. For example: <code>export MOZ_PLUGIN_PATH=/usr/lib/browser-plugins</code>.</p></li></ul><br/> </div></div></div></div></div></div></div></div></div><br/> </div></div></div><div><strong>7、启动tomcat的问题，提示</strong> Cannot find ./catalina.sh</div><div><p>从终端进入tomcat的bin目录，然后执行startup.sh</p><p>bogon:~ apple$ cd /Users/apple/Desktop/tomcat_war/apache-tomcat-7.0.42/bin</p><p>bogon:bin apple$ sh startup.sh</p><p>输出结果为</p><p>Cannot find ./catalina.sh</p><p>The file is absent or does not have execute permission</p><p>This file is needed to run this program</p><div>其实这里是权限，&nbsp;</div><p>解决方法：</p><p>依旧在tomcat 的bin目录下&nbsp;</p><p>执行&nbsp;chmod +x *.sh&nbsp;&nbsp;</p><p>然后用sh startup.sh启动成功</p><hr/><br/> <br/> <p>8、解决如下执行.sh文件报错（not a valid identifier）问题：</p><p>&#39;: not a valid identifier: ....................</p><p>&#39;: not a valid identifier: ....................</p><p>是因为文件换行符不对，可以用NotePad++把文件转换为linux下面的换行格式（WINDOWS为：\r\n，Linux换行符为：\n）</p><hr/><br/> <br/> <div><br/> <div><strong><span style="font-size:18px;">11、</span></strong> <strong><span style="font-size:18px;">重置Ubuntu 14.04中的Unity和Compiz</span></strong> <br/> <br/> 打开终端（Ctrl+Alt+T），并使用以下命令来重置compiz： <br/> <div>dconf reset -f /org/compiz/ <br/> <br/> </div>重置compiz后，重启Unity： <br/> setsid unity <br/> <br/> <p>如果你在重置compiz时遇到如下错误：</p><p>error: GDBus.Error:org.gtk.GDBus.UnmappedGError.Quark.g2dfile2derror2dquark.Code17: Cannot open dconf database: invalid gvdb header</p><p>可能的原因是用户文件被搞乱了。备份dconf配置，并移除配置文件：</p><p>mv ~/.config/dconf/ ~/.config/dconf.bak</p><div><br/> <div><div>搜狗输入法：</div><br/> <div>sogou-qimpanel &amp; <br/> <br/> <br/> <br/> <br/> <div>12、Linux 文件系统 符号链接（软链接）和 硬链接的区别</div><br/> <div>首先明白一点：Linux下， 对于一个文件来说，有唯一的索引接点(inode)与之对应，而对于一个索引接点号，却可以有多个文件名与之对应。因此，在磁盘上的同一个文件可以通过不同的路径去访问该文件。</div><br/> <div>官方描述：</div><div>&nbsp; <strong>A &quot;hard link&quot; is another name for an existing file; the link and the </strong> </div><div><strong>original are indistinguishable</strong>. <strong>Technically speaking, they share the </strong> </div><div><strong>same inode</strong>, 【 <span style="color:#ff0000;">可以理解为一个文件的两个不同名字</span>】and the inode contains all the information about a</div><div>file--indeed, it is not incorrect to say that the inode _is_ the file.</div><div>Most systems prohibit making a hard link to a directory; on those where</div><div>it is allowed, only the super-user can do so (and with caution, since</div><div>creating a cycle will cause problems to many other utilities). Hard</div><div>links cannot cross file system boundaries. (These restrictions are not</div><div>mandated by POSIX, however.)</div><div>&nbsp; &nbsp;&quot;Symbolic links&quot; (&quot;symlinks&quot; for short), on the other hand, are a</div><div>special file type (which not all kernels support: System V release 3</div><div>(and older) systems lack symlinks) in <strong>which the link file actually </strong> </div><div><strong>refers to a different file</strong>,【 <span style="color:#ff0000;">可以理解为一个文件的快捷方式</span>】 by name. When most operations (opening,</div><div>reading, writing, and so on) are passed the symbolic link file, the</div><div>kernel automatically &quot;dereferences&quot; the link and operates on the target</div><div>of the link. But some operations (e.g., removing) work on the link</div><div>file itself, rather than on its target. The owner and group of a</div><br/> <div>硬链接文件有两个限制 <br style="background-color:#FFFFFF;font-family:Arial;"/>  1)、不允许给目录创建硬链接； <br style="background-color:#FFFFFF;font-family:Arial;"/>  2)、只有在同一文件系统中的文件之间才能创建硬链接。</div><br/> <div>硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要 <br style="background-color:#FFFFFF;font-family:Arial;"/> &nbsp;&nbsp;&nbsp; 文件,以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个 <br style="background-color:#FFFFFF;font-family:Arial;"/> &nbsp;&nbsp;&nbsp; 连接被删除后，文件的数据块及目录的连接才会被释放。</div><div>&nbsp;&nbsp;&nbsp; 硬链接可以认为不是一个文件，它只是实际文件的一个别名，它的作用是防止真实文件被误操作，给一个文件建立硬链接后，他们互为别名，删除其中任意一个， <br style="background-color:#FFFFFF;font-family:Arial;"/> &nbsp;&nbsp;&nbsp; 这样用RM命令只会删除该别名，实际文件并不会被删除。只有链接数为0时，才会删除原始文件。 <br/>  <br/> <div>软链接是另一个文件，作用可以理解为一个指针，作用在这个文件上的操作 除了删除以外，都直接转向实际指向文件，由于是一个真实的文件所以占用磁盘空间。 <br/> <div><br/> <br/> <div><strong><span style="font-size: 20px;">关于jboss生产环境下看日志</span></strong>:</div><div>sudo -u jboss5 chmod 775 /opt/applog/jboss5/logs/dzb2bServer1/server.log</div><div><br/> <div><br/> <div><div><h1><strong><span style="font-size: 20px;">如何在Ubuntu 14.04中安装最新版Eclipse</span></strong></h1></div><div><a href="http://www.linuxidc.com/Linux/2014-08/105090.htm" data-ke-src="http://www.linuxidc.com/Linux/2014-08/105090.htm">http://www.linuxidc.com/Linux/2014-08/105090.htm</a> </div><br/> <p><br/></p><p><span style="font-size: 20px; "><strong>13、给ubuntu应用添加快捷方式</strong></span></p><p>例如给eclipse设置快捷方式：<br/></p><p><span style="background-color: rgb(165, 165, 165); ">sudo gedit /usr/share/applications/eclipse.desktop</span></p><p>然后填入下面的内容：</p><pre class="brush:plain;toolbar:false">[Desktop&nbsp;Entry]
Encoding=UTF-8
Name=EclipseIDE&nbsp;Luna
Comment=Eclipse&nbsp;IDE
Exec=/opt/javaide/eclipse-mars/eclipse/eclipse
Icon=/opt/javaide/eclipse-mars/eclipse/icon.xpm
Terminal=false
StartupNotify=true
Type=Application
Categories=Application;Development;</pre><p>说明：这个是Desktop Entry，Exec为执行的地址，Icon为显示的图标，需要自行修改。Terminal=false代表不保持终端。<br/></p><p>然后再加上执行权限：</p><p><span style="background-color: rgb(165, 165, 165); ">&nbsp;sudo chmod u+x /usr/share/applications/eclipse.desktop</span></p><p><br/></p><p><strong><span style="font-size: 20px; ">14 Ubuntu安装JDK</span></strong></p><p>以JDK 1.7为例，下载为：<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html">http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html</a></p><p>Ubuntu 选择tar.gz的压缩包，64位选x64，32位选i586</p><p>下完后得到压缩包：jdk-7u55-linux-x64.tar.gz，解压再配置下就可以使用了，不需要安装。</p><p>安装目录：sudo mkdir -p /usr/jdk</p><p>接下来设置环境变量，终端执行：sudo gedit /etc/profile，参见下面的环境变量设置章节。</p><p><br/></p><p>倒数第二步，配置jdk默认版本，命令如下：</p><p>sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.7.0_79/bin/java 300</p><p>sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/jdk1.7.0_79/bin/javac 300</p><p>sudo update-alternatives --install /usr/bin/jar jar /usr/lib/jvm/jdk1.7.0_79/bin/jar 300</p><p>sudo update-alternatives --install /usr/bin/javah javah /usr/lib/jvm/jdk1.7.0_79/bin/javah 300</p><p>sudo update-alternatives --install /usr/bin/javap javap /usr/lib/jvm/jdk1.7.0_79/bin/javap 300</p><p>最后一步，测试jdk安装是否正确：</p><p>update-alternatives --config java</p><p>java -version</p><p><br/></p><div><strong><span style="font-size: 20px;">五、环境变量设置</span></strong> </div><div><div>环境变量知识</div><div>1.&nbsp;</div>“/etc
/profile”此文件为系统的每个用户设置环境信息，当用户第一次登录时，该文件被执行。并从“/etc/profile.d”目录的配置文件中搜集
shell的设置。所以如果你有对/etc/profile有修改的话必须得重启你的修改才会生效，此修改对每个用户都生效。 <br/> 2.&nbsp; <br/>
 “/etc/bashrc”为每一个运行bash shell的用户执行此文件。当bash 
shell被打开时，该文件被读取。如果你想对所有的使用bash的用户修改某个配置并在以后打开的bash都生效的话可以修改这个文件，修改这个文件不
用重启，重新打开一个bash即可生效。 <br/> 3.&nbsp; <br/> “~/.bash_profile”每个用户都可使用该文件输入专用于自己使用的shell信息，当用户登录时，该文件仅仅执行一次！默认情况下，它设置
一些环境变量，执行用户的.bashrc文件。此文件类似于/etc/profile，也是需要重启才会生效，/etc/profile对所有用户生
效，~/.bash_profile只对当前用户生效。 <br/> 4.&nbsp; <br/> “~/.bashrc“该文件包含专用于你的bash 
shell的bash信息，当登录时以及每次打开新的shell时，该文件被读取。（每个用户都有一个.bashrc文件，在用户目录下）。此文件类似于
/etc/bashrc，不需要重启生效，重新打开一个bash即可生效， 
/etc/bashrc对所有用户新打开的bash都生效，但~/.bashrc只对当前用户新打开的bash生效。 <br/> 5.&nbsp; <br/> “~/.bash_logout”当每次退出系统（退出bash shell）时，执行该文件。 <br/> <br/> 注意事项 <br/> “/etc/profile”，“/etc/bashrc”是系统全局环境变量设定。 <br/> “~/.profile”，“~/.bashrc”用户家目录下的私有环境变量设定。 <br/> </div><div><strong>环境变量设置示例：</strong> </div><div><br/> <div>打开&nbsp;/etc/profile：</div><div>$sudo gedit&nbsp;/etc/profile</div><div>在末尾添加如下内容：</div><div># Set GO&nbsp;Env <br/> export GOROOT=/opt/go <br/> export PATH=$GOROOT/bin:$PATH <br/> </div><br/> <div># export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-i386&nbsp; <br/> # export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$CLASSPATH <br/> # export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin <br/> </div><br/> <div># Set Maven Env</div>M2_HOME=/opt/maven/maven-3.3.3-emd146&nbsp; <br/> export M2_HOME&nbsp; <br/> export MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;&nbsp; <br/> export MAVEN_HOME=/opt/maven/maven-3.3.3-emd146&nbsp; <br/> PATH=$PATH:$M2_HOME/bin&nbsp; <br/> export PATH&nbsp; <br/> <br/> <div>设置完成后，执行刷新配置</div><div>source&nbsp;/etc/profile</div><br/> <br/> <div>6、如何安装*.dep软件包？</div><br/> <div>用dpkg命令，详细用法可以dpkg --help</div><p><br/></p></div></div></div></div></div></div></div></div></div></div></div></div></div>
