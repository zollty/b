---
layout: ue
title: Linux文件系统符号链接（软链接）和硬链接的区别
category: Linux系统与应用
tags: Linux
keywords: "Linux,符号链接"
---

<div style="line-height: 32.4px; white-space: normal;"><span style="font-size: 20px;"><span style="font-weight: 700;">Linux 文件系统 符号链接（软链接）和 硬链接的区别</span></span></div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">首先明白一点：Linux下， 对于一个文件来说，有唯一的索引接点(inode)与之对应，而对于一个索引接点号，却可以有多个文件名与之对应。因此，在磁盘上的同一个文件可以通过不同的路径去访问该文件。</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">官方描述：</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&nbsp;<span style="font-weight: 700;">A &quot;hard link&quot; is another name for an existing file; the link and the</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">original are indistinguishable</span>.&nbsp;<span style="font-weight: 700;">Technically speaking, they share the</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">same inode</span>, 【&nbsp;<span style="color: rgb(255, 0, 0);">可以理解为一个文件的两个不同名字</span>】and the inode contains all the information about a</div><div style="line-height: 32.4px; white-space: normal;">file--indeed, it is not incorrect to say that the inode _is_ the file.</div><div style="line-height: 32.4px; white-space: normal;">Most systems prohibit making a hard link to a directory; on those where</div><div style="line-height: 32.4px; white-space: normal;">it is allowed, only the super-user can do so (and with caution, since</div><div style="line-height: 32.4px; white-space: normal;">creating a cycle will cause problems to many other utilities). Hard</div><div style="line-height: 32.4px; white-space: normal;">links cannot cross file system boundaries. (These restrictions are not</div><div style="line-height: 32.4px; white-space: normal;">mandated by POSIX, however.)</div><div style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp;&quot;Symbolic links&quot; (&quot;symlinks&quot; for short), on the other hand, are a</div><div style="line-height: 32.4px; white-space: normal;">special file type (which not all kernels support: System V release 3</div><div style="line-height: 32.4px; white-space: normal;">(and older) systems lack symlinks) in&nbsp;<span style="font-weight: 700;">which the link file actually</span></div><div style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">refers to a different file</span>,【&nbsp;<span style="color: rgb(255, 0, 0);">可以理解为一个文件的快捷方式</span>】 by name. When most operations (opening,</div><div style="line-height: 32.4px; white-space: normal;">reading, writing, and so on) are passed the symbolic link file, the</div><div style="line-height: 32.4px; white-space: normal;">kernel automatically &quot;dereferences&quot; the link and operates on the target</div><div style="line-height: 32.4px; white-space: normal;">of the link. But some operations (e.g., removing) work on the link</div><div style="line-height: 32.4px; white-space: normal;">file itself, rather than on its target. The owner and group of a</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">硬链接文件有两个限制&nbsp;<br/>1)、不允许给目录创建硬链接；&nbsp;<br/>2)、只有在同一文件系统中的文件之间才能创建硬链接。</div><p><br/></p><div style="line-height: 32.4px; white-space: normal;">硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要&nbsp;<br/>&nbsp;&nbsp;&nbsp; 文件,以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个&nbsp;<br/>&nbsp;&nbsp;&nbsp; 连接被删除后，文件的数据块及目录的连接才会被释放。</div><div style="line-height: 32.4px; white-space: normal;">&nbsp;&nbsp;&nbsp; 硬链接可以认为不是一个文件，它只是实际文件的一个别名，它的作用是防止真实文件被误操作，给一个文件建立硬链接后，他们互为别名，删除其中任意一个，&nbsp;<br/>&nbsp;&nbsp;&nbsp; 这样用RM命令只会删除该别名，实际文件并不会被删除。只有链接数为0时，才会删除原始文件。&nbsp;<br/><br/><div>软链接是另一个文件，作用可以理解为一个指针，作用在这个文件上的操作 除了删除以外，都直接转向实际指向文件，由于是一个真实的文件所以占用磁盘空间。&nbsp;</div></div><p><br/></p>