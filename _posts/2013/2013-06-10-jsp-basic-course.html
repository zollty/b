---
layout: ue
title: JSP基础教程
category: Java框架和组件
tags: JSP
keywords: "JSP,JSP教程"
---

<p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">的学习路线</span></span></p><ul class=" list-paddingleft-2"><li><p><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:20px;">什么是</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:20px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:20px;">？</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">——</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">的背景和发展情况简介</span></strong></span></p></li><li><p><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">为什么要用</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">？</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:15px;">——</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">普通</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">HTML</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">编程中，我们遇到的了哪些问题？</span></strong></span></p></li><li><p><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:20px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:20px;">的语法特点简介</span></strong></span></p></li><li><p><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:20px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:20px;">内置对象</span></strong></span></p></li><li><p><span style="font-size: 20px;"><span style="color: rgb(0, 0, 0); font-family: Arial, sans-serif;"><strong>EL</strong></span><span style="color: rgb(0, 0, 0); font-family: 宋体, sans-serif;"><strong>表达式</strong></span></span></p></li><li><p><span style="font-size: 20px;"><span style="color: rgb(0, 0, 0); font-family: Arial, sans-serif;"><strong>JSP</strong></span><span style="color: rgb(0, 0, 0); font-family: 宋体, sans-serif;"><strong>的标签式语法（指令和动作）</strong></span></span></p></li><li><p><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">JSTL</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">标签库</span></strong></span></p></li><li><p><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:20px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:20px;">的解析编译执行过程</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:20px;">*</span></strong></span></p></li></ul><p><br/></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">什么是</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">？</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1. </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">Java Server Pages</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">(JSP) is a technology that </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">helps software developers create </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">dynamically </span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">generated web pages based on HTML</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">. Released in </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1999 by </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">Sun Microsystems</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">（动态生成</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">网页）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2. JSP </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">是由</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">Java Servlets</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">发展而来。</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件经过程序的处</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">理（称之为“</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">解析器”或者“</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">引擎”，其实就是一些</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">程</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">序），最终会</span></span><span style="color:#ff0066;font-family:宋体,sans-serif"><span style="font-size:18px;">被翻译成为</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">Java Servlet</span></span><span style="color:#ff0066;font-family:宋体,sans-serif"><span style="font-size:18px;">代码，然后再编译执行</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">（参见附件中的示例</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Servlet</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">程序）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">3. </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">目前支持</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的引擎有很多，牛</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">B</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的人自己都可以写一套出来，最</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">常见的</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">Tomcat</span></span><span style="color:#ff0066;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">WebLogic</span></span><span style="color:#ff0066;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">WebSphere</span></span><span style="color:#ff0066;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">Resin</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">等。</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">技术非</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">常成熟，而且使用广泛。目前</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">规范已经发展到了</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2.1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">版本。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">4. </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">与</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">类似的还有</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">ASP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">PHP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，但是</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">算是后起之秀，几乎拥有</span></span> <span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">的一切优点，使用方便，性能良好。</span></span></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">为什么要用</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">？</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1. JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">是</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Java Servlets</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的结合体。它可以动态地生成网</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">页，而且可以使用原生</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法，可以和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">混合编程。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">比如：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">&lt;% </span></span><span style="color:#7030a0;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">if</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">(</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">day==1 || day==7</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">){</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">%&gt;</span></span></p><p><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;p&gt; Today is weekend. &lt;/p&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;% </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">}</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">else</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">{</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">%&gt;</span></span></p><p><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;p&gt; Today is not weekend. &lt;/p&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">&lt;% </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">}</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">%&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2. JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">独创了很多实用的用法和功能，拥有很多</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">不具备的优点。</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">比如：</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;jsp:include page=&quot;header.jsp&quot;&gt;&lt;/jsp:include&gt;</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">可以在一个页面中引入另一个页面，从而实现了页面的复用。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">还比如，支持</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">for</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">循环自动生成表格（</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">table</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:forEach var=&quot;order&quot; items=&quot;${orderList}&quot;&gt; &nbsp;</span></span></p><p><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">&lt;td&gt;</span></strong></span><span style="color:#0070c0;font-family:宋体,sans-serif"><strong><span style="font-size:16px;">订单编号：</span></strong></span><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">${order.id}&lt;/td&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;/c:forEach&gt;</span></span></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">的语法特点</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1. </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法上进行了扩展，它“看起来”和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">一样，也支持</span></span> <span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">HTML</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的所有语法。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">（参见附件中的例子）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2. </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">支持原生</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法，嵌入到</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">脚本片段中。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">脚本程序的写法为：</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;%</span></span></p><p><span style="color:#0070c0;font-family:Courier New,sans-serif"><span style="font-size:16px;">Java</span></span><span style="color:#0070c0;font-family:宋体,sans-serif"><span style="font-size:16px;">代码片段</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">%&gt;</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">或者</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;jsp:scriptlet&gt;</span></span></p><p><span style="color:#0070c0;font-family:Courier New,sans-serif"><span style="font-size:16px;">Java</span></span><span style="color:#0070c0;font-family:宋体,sans-serif"><span style="font-size:16px;">代码片段</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;/jsp:scriptlet&gt;</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">（参见附件中的例子</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">test.jsp</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">的内置对象</span></span></p><table><tbody><tr class="firstRow"><td><p><span style="color:#ffffff;font-family:微软雅黑,sans-serif"><strong><span style="font-size:12.96pt;">对象</span></strong></span></p></td><td><p><span style="color:#ffffff;font-family:微软雅黑,sans-serif"><strong><span style="font-size:12.96pt;">描述</span></strong></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">request</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">HttpServletRequest</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">response</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">HttpServletResponse</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:18.024pt;">out</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">PrintWriter</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例，用于把结果输出至网页上</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">session</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">HttpSession</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">application</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">ServletContext</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例，与应用上下午有关</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">config</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">ServletConfig</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">pageContext</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">PageContext</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的实例，提供对</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">JSP</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">页面所有对象以及命名空间的访问</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">page</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类似于</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">Java</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类中的</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">this</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">关键字</span></span></p></td></tr><tr><td><p><span style="color:#ff0066;font-family:微软雅黑,sans-serif"><span style="font-size:15px;">exception</span></span></p></td><td><p><span style="color:#000000;font-family:微软雅黑,sans-serif"><strong><span style="font-size:14.04pt;">Exception</span></strong></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">类的对象，代表发生错误的</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">JSP</span></span><span style="color:#000000;font-family:微软雅黑,sans-serif"><span style="font-size:14.04pt;">页面中对应的异常对象</span></span></p></td></tr></tbody></table><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">的内置对象</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">举例：</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">参见附件的例子。</span></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">属性保存范围</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">中可以</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">通过</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">setAttribute()</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">和</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">getAttribute()</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">这两个</span></strong></span> <span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">方法来设置和取得属性，从而实现数据的共享</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">提供了</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">四种属性</span></strong></span> <span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">保存范围</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">page</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">request</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">application</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">page</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">范围</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：指设置的属性只能在</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">当前页面有效</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。（任何跳转都无</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">效）。（比较常用）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">request</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:16px;">范围</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">：指属性在</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:16px;">一次请求范围内有效</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">。如果页面在客户</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">端发生了跳转（比如点击超链接从给一个页面跳转到另一个页面），</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">那么该属性就失效了。（服务器端跳转仍有效）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">3</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">session</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:16px;">范围</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">：指客户</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:16px;">浏览器与服务器一次会话范围</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">内，如果服</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">务器断开连接，那么属性就失效了。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">4</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">application</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">范围</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：指在整个服务器范围，只有服务器停止以后</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">才会失效。（很少用）</span></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">pageContext</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">它是对象是</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">javax.servlet.jsp.PageContext</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">类的实例，用</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">来代表整个</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">页面，主要用来访问页面信息。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">这个对象</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">存储了</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">request</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">对象和</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">response</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">对象的引用</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。</span></span> <span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">application</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">config</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">out</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象也可以</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">通过访问这个对象的属性来导出。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">其主要方法如下：</span></span></p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">getRequest()</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：返回当前页面中的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">request</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">getResponse()</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：返回当前页面中的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">response</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">getSession()</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">：返回当前页面中的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">对象。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">getServletContext()</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：返回当前页面中的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">application</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">setAttribute(String name)</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：给指定的属性名设置属性值。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">getAttribute(String name)</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：根据属性名找到相应的属性值。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">setAttribute(String name, Object obj, int scope)</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">removeAttribute(String name, int scope)</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">forward(String relativeURLpath)</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：页面重定向。</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">include(String relativeURLpath)</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">：使当前位置包含另一个</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">页面。</span></span></p></li></ul><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP EL</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">表达式简介</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">概念：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">EL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，即</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Expression Language</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，它的设计目的是：</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">为了使</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">JSP</span></strong></span> <span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">写起来更加简单</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。表达式语言的灵感来自于</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">ECMAScript</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">XPath </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">表达式语言，它提供了在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">中</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">简化表达式</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的方法。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法：</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">${</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><i><span style="font-size:18px;">expr</span></i></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">}</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，即：以“</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">${</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”为起始，</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">以“</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">}</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”为结尾。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">比如，下面一段</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP Scriptlet</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">代码：</span></span></p><p><span style="color:#002060;font-family:Courier New,sans-serif"><span style="font-size:18.024pt;">User user = (User) request.getAttribute(&quot;user&quot;);</span></span></p><p><span style="color:#002060;font-family:Courier New,sans-serif"><span style="font-size:15px;">int age = user.getAge();</span></span></p><p><span style="color:#002060;font-family:Courier New,sans-serif"><span style="font-size:15px;">out.print(age);</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">用</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">EL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">表达式，可以简化为：</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">${</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">user.age</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">}</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">上面的表达式依次从</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">page</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">request</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">application</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">范</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">围中寻找</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">user</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">对象。也可以指定查找的范围，比如：</span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">${</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">sessionScope</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">.user.age</span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">}</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">指定从</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">范围取值。</span></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、“</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">[]</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”运算和“</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”运算</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">通过</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">[]</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">来取值，比如</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${pageScope</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">.</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">student.name}</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${sessionScope.shoppingCart</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">[0]</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.price}</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">EL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">表达式运算符：</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">支持</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">+</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">-</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">*</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">/</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，大小比较，三目运算，判空运算等</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">比如：</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">加减乘除：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">${</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">(</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">count </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">+</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">12</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">)*</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">3}</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">比较运算：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${ userList</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">==</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">null }</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${ user.age</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&gt;</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">20 }</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">集合为空判断：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">${</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">empty</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">userList}</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">三元运算：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${ user.age</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&gt;</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">20 </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">?</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">valueA </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">:</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">valueB }</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">3</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、隐含对象</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">一共</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">11</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">个隐含对象：</span></span></p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">pageScope</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">requestScope</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">sessionScope</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">applicationScope</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">param</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">paramValues</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">initParam</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">header</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">headerValues</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">cookie</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">、</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">pageContext</span></span></p></li></ul><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">比如</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">param</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，在取得用户参数时通常使用一下方法：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;%=request.getParameter(&quot;age&quot;)%&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">等价于</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">param</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.age}</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">还比如，</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">cookie</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.userCountry}</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">${</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">pageContext</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.request.requestURL}</span></span></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">的标签式语法（指令和动作）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1. </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">常用的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">指令元素（</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">direction</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">page</span></strong></span><span style="color:#0070c0;font-family:宋体,sans-serif"><span style="font-size:18px;">指令</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">常用属性</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">language</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">contenType</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">import</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">extends</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span> <span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">info</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">isErrorPage</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">等。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">例如</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">&lt;%@ </span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">page</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">language</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;java&quot; </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">contenType</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;text/html;charset=gb2312&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">%&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">）</span></span><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">include</span></strong></span><span style="color:#0070c0;font-family:宋体,sans-serif"><span style="font-size:16px;">指令</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法格式为</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;%@ include</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">file</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">地址</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">%&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，这种包含属于编译前包含。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">3</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">taglib</span></strong></span><span style="color:#0070c0;font-family:宋体,sans-serif"><span style="font-size:18px;">指令</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">声明自定义标签，例如：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">&lt;%@ </span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">taglib</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">prefix</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;c&quot; </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">uri</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;http://java.sun.com/jsp/jstl/core&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">%&gt;</span></strong></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2. JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">动作元素（单标签或者配对的标签）</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;jsp:include&gt;</span></strong></span><span style="color:#0070c0;font-family:宋体,sans-serif"><span style="font-size:18px;">动作元素</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">语法为：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">&lt;jsp:include </span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">page</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">=&quot;URL&quot; </span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">flush</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">=&quot;true|false&quot;&gt;</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">可以包含</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">txt</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">html</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">jsp</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件，与</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">include</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">指令元素不同的是，对于静</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">态文件它是编译后在包含，所以</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">txt</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件中的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">jsp</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">代码执行不了。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">）</span></span><span style="color:#0070c0;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">&lt;jsp:forward&gt;</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">用法例如：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;jsp:forward</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><span style="font-size:18px;">page</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;text.jsp&quot;&gt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;/jsp:forward&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">属</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">于服务器端跳转。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">3</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">&lt;jsp:userBean&gt;,&lt;jsp:setProperty&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">&lt;jsp:getProperty&gt;</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">jsp:userBean</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">id</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">=&quot;bean</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:15px;">的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">ID&quot; </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">class</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">=&quot;package.Class&quot; </span></span></p><p><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">scop</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">=&quot;Bean</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:15px;">的可见度</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&quot; &gt;&lt;/</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">jsp:userBean</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">Bean</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">的可见度：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">page(</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">默认</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">)</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">request</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">session</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">application</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">例如：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">jsp:useBean</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">id</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;date&quot; </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">class</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;java.util.Date&quot;&gt;&lt;/jsp:useBean&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">jsp:setProperty</span></strong></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">name</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;date&quot; </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">property</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;time&quot; </span></span><span style="color:#ff0066;font-family:Courier New,sans-serif"><strong><span style="font-size:15.96pt;">value</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15.96pt;">=&quot;10000000000&quot; /&gt;</span></span></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSTL</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">标签库简介</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1. </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">什么是</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSTL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">？</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">即“</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">JSP Standard</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">Tag</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">Library</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”，是对</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的一种增强。它已经</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">成为</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">标准支持的功能。目前</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">JSP 2.1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">对应的</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">JSTL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">版本为</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">1.2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">版本。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSTL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">主要包括</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">5</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">个部分：</span></span></p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">核心标签</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">core</span></strong></span></p></li><li><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">格式化标签</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">format</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">SQL </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">sql</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">XML </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">xml</span></span></p></li><li><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSTL </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">函数</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">function</span></span></p></li></ul><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">、常见标签的使用</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">下载</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">standard.jar</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">和</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">jstl.jar</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件，拷贝到</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">/WEB</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">-</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">INF/lib/</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">下。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">要使用</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">core</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签的功能，要在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的头部声明：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">&lt;%@ taglib </span></strong></span><span style="color:#ff0000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">prefix</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">=&quot;c&quot; </span></strong></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">uri</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</span></strong></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;c:out&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签，用在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">中输出表达式的值，就像</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;%= ... &gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，与其</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">不同的是标记</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:out&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">还支持</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">EL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">语法，比如，可以使用简单的“</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">.”</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">符号</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">来访问属性。例如，要访问</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">user.getName()</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，使用的标签是</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;c:out value=&quot;</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Hello </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">${</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">user.name</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">}</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">!</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&quot;/&gt;</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">完整语法为：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;c:out value</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;${cookie.timezone}&quot; </span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">default</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;CST&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">escapeXml</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;false&quot;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">/&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:if&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签，判断表达式的值。例如</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;c:if test</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;${salary &gt; 2000}&quot;&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;p&gt;My salary is: &lt;c:out value=&quot;${salary}&quot;/&gt;&lt;p&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;/c:if&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">3</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:choose&gt; &lt;c:when&gt; &lt;c:otherwise&gt; </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">类似于</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">Java switch</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">语句的功能一样，用于在众多选项中做出选择。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;c:choose&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;c:when test</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;${salary &gt; 1000}&quot;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&gt;</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Salary is very </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">good. </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;/c:when&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">&lt;c:otherwise&gt;</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">No comment sir... </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">&lt;/c:otherwise&gt;</span></strong></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">&lt;/c:choose&gt;</span></strong></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">4</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:forEach&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">循环遍历标签</span></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><span style="font-size:18.024pt;">&lt;table&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">c:forEach</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">items</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">=&quot;${</span></span><span style="color:#7030a0;font-family:Courier New,sans-serif"><span style="font-size:15px;">entryList</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">}&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">var</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">=&quot;</span></span><span style="color:#7030a0;font-family:Courier New,sans-serif"><span style="font-size:15px;">blogEntry</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&quot;&gt;</span></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;tr&gt;&lt;td align=&quot;left&quot; class=&quot;blogTitle&quot;&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">c:out</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">value=&quot;${</span></span><span style="color:#7030a0;font-family:Courier New,sans-serif"><span style="font-size:15px;">blogEntry.title</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">}&quot; escapeXml=&quot;false&quot;/&gt;</span></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;/td&gt;&lt;/tr&gt;</span></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;tr&gt;&lt;td align=&quot;left&quot; class=&quot;blogText&quot;&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">c:out</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">value=&quot;${</span></span><span style="color:#7030a0;font-family:Courier New,sans-serif"><span style="font-size:15px;">blogEntry.text</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">}&quot; escapeXml=&quot;false&quot;/&gt;</span></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;/td&gt;&lt;/tr&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:15px;">/c:forEach&gt;</span></strong></span></p><p><span style="color:#ff0000;font-family:Courier New,sans-serif"><span style="font-size:18.024pt;">&lt;/table&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:forEach </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">var</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;x&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">begin</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;0&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">end</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;10&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">step</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;2&quot;&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;tr&gt;&lt;td&gt;&lt;c:out value=&quot;${x}&quot;/&gt;&lt;/td&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;td&gt;&lt;c:out value=&quot;${x * x}&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">&lt;/c:forEach&gt;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">5</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;c:set&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">标签，设置变量的值</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">例如：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">&lt;</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">c:set</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">var</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;salary&quot; </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">scope</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;session&quot;</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">value</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">=&quot;${2000*2}&quot;/&gt;</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">更多：</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">http://www.ibm.com/developerworks/cn/java/j</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">-</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:15px;">jstl0318/</span></span></p><p><br/></p><p><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">JSP</span></span><span style="color:#4f81bd;font-family:微软雅黑,sans-serif"><span style="font-size:24px;">的解析执行过程</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的解析、编译和执行过程</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">程序由</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">JSP Engine</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">先将它转换成</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">Servlet</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">代码，接着将它编译成</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">类文件载入执行。通常，当客户端第一次请求</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">时，才将其解析、编译。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:15px;">请求——（JSP文件）——</span></strong></span><strong style="font-family: 宋体, sans-serif; font-size: 1px;"><span style="font-size:15px;">解析——（Servlet代码）——编译——（class文件）</span></strong></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">引擎</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">常用的是</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">Apache Jasper</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">。</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">Tomcat 6.0 uses the </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:16px;">Jasper 2 JSP Engine</span></strong></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:16px;">to implement </span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">the JavaServer Pages 2.1 specification.</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">以</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Tomcat</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">为例，在其</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">lib</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">目录下，有一个</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">jasper</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">-</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">compiler.jar</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">用于解析、编译</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">有了解析编译工具，我们可以手动调用程序来解析（也叫预编译）</span></span> <span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Tomcat</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">或</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">WebSphere</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">下，是调用</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JspC</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">这个工具类：</span></span></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">Tomcat</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">下，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">jsp</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">是通过</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">org.apache.jasper.JspC</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">将</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">页面的预</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">编译。在</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">WAS</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">下，是通过</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">com.ibm.websphere.ant.tasks.JspC</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">进行</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">预编译。</span></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">解析内幕</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">查看</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">org.apache.jasper.compiler.Parser.java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">源码</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">可知，</span></span><span style="color:#000000;font-family:Courier New,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">JSP</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">内部处理的顺序如下：</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">1</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">&lt;%</span></strong></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">--</span></strong></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">--</span></strong></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">%&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”类型的注释</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">2</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:16px;">&lt;%@ %&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">”编译指令</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">3</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">&lt;jsp:directive. %&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”编译指令</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">4</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">&lt;%! %&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”声明指令</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">5</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">&lt;%= %&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”表达式指令</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">6</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:16px;">&lt;% %&gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">”嵌入脚本</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">7</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">&lt;jsp:text &gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”嵌入文本</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">8</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">${ }</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">EL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">表达式</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">9</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">#{ }</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">EL</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">表达式</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">10</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">--</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">“</span></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:16px;">&lt;jsp: &gt;</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">”其他</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">jsp</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">动作指令</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">11</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">--</span></span><span style="color:#0070c0;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">自定义的</span></strong></span><span style="color:#0070c0;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">tag</span></strong></span><span style="color:#0070c0;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">标签</span></strong></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">2</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）写法</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">&lt;%@ page </span></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">contentType</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">=&quot;</span></span><span style="color:#ff0066;font-family:Arial,sans-serif"><span style="font-size:18px;">text/html;charset=GBK</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">&quot; </span></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:16px;">pageEncoding</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">=&quot;</span></span><span style="color:#ff0066;font-family:Arial,sans-serif"><span style="font-size:16px;">UTF</span></span><span style="color:#ff0066;font-family:Arial,sans-serif"><span style="font-size:16px;">-</span></span><span style="color:#ff0066;font-family:Arial,sans-serif"><span style="font-size:16px;">8</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">&quot;%&gt;</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">到底是哪个编码再起作用？</span></span></p><p><br/></p><p><span style="color:#000000;font-family:Courier New,sans-serif"><strong><span style="font-size:18px;">JSP</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">解析内幕</span></strong></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">然后，再看看</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">jsp</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">中的</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">代码（</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">ScriptingElement</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）是怎么执行的：</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">第一步：</span></span></p><p><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">new</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">一个</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Node</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">节点，然后把</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的字符串完整地赋值给</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Node</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">的</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">text</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">属</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">性，然后把</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">node</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">添加到</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Parent Node </span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">队列（</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">List</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">）里面。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">第二步：</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">读取这些</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Nodes</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">，将其转换成</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">源代码，然后在调用</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">编译器将</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">源代码编译成</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">class</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件。（注意：这个功能相当于是把字符串，转换成了</span></span> <span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">字节码）</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">这个过程，调用了</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">SmapUtil</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">将上面那些</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">nodes</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">转换成</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">源文件，然</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">后调用</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">JDTCompiler</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">工具类，将</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">源文件编译成</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">.class</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件，我看</span></span> <span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Tomcat</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">调用的是</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">org.eclipse.jdt.internal.compiler.*</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">包下面的编译工具，实</span></span> <span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">际上</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">JDK</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">也为我们提供了自己手动编译</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件的方法，</span></span><span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">JDK 1.6</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">可以用</span></span> <span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:16px;">javax.tools.JavaCompiler</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:16px;">。</span></span></p><p><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">借鉴这个过程，可以实现“</span></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">字符串</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">——</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">生成</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">Java</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">文件</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">——</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">编译成</span></strong></span><span style="color:#000000;font-family:Arial,sans-serif"><strong><span style="font-size:18px;">class</span></strong></span> <span style="color:#000000;font-family:宋体,sans-serif"><strong><span style="font-size:18px;">文件</span></strong></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">”的全自动化过程。这个过程很有用，可以允许我们自己在网站上传</span></span> <span style="color:#000000;font-family:Arial,sans-serif"><span style="font-size:18px;">Java</span></span><span style="color:#000000;font-family:宋体,sans-serif"><span style="font-size:18px;">文件并编译运行！</span></span></p><p><br/></p><p><br/></p>