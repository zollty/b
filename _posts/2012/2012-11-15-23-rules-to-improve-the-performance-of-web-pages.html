---
layout: ue
title: 提高网页性能的23条规则
category: Web前端技术_JS、CSS等
tags: 网页性能
keywords: "提高网页性能"
---

<p><strong>Yslow-23条规则</strong></p><p>YslowYahoo发布的一款基于FireFox的插件，主要是为了提高网页性能而设计的，下面是它提倡了23条规则，还是很不错的，分享一下：</p><p><br/></p><p>1.减少HTTP请求次数</p><p>合并图片、CSS、JS，改进首次访问用户等待时间。</p><p>2. 使用CDN</p><p>就近缓存==&gt;智能路由==&gt;负载均衡==&gt;WSA全站动态加速</p><p>3. 避免空的src和href</p><p>当link标签的href属性为空、script标签的src属性为空的时候，浏览器渲染的时候会把当前页面的URL作为它们的属性值，从而把页面的内容加载进来作为它们的值。测试</p><p>4. 为文件头指定Expires</p><p>使内容具有缓存性。避免了接下来的页面访问中不必要的HTTP请求。</p><p>5. 使用gzip压缩内容</p><p>压缩任何一个文本类型的响应，包括XML和JSON，都是值得的。旧文章</p><p>6. 把CSS放到顶部</p><p>7. 把JS放到底部</p><p>防止js加载对之后资源造成阻塞。</p><p>8. 避免使用CSS表达式</p><p>9. 将CSS和JS放到外部文件中</p><p>目的是缓存，但有时候为了减少请求，也会直接写到页面里，需根据PV和IP的比例权衡。</p><p>10. 权衡DNS查找次数</p><p>减少主机名可以节省响应时间。但同时，需要注意，减少主机会减少页面中并行下载的数量。IE浏览器在同一时刻只能从同一域名下载两个文件。当在一个页面显示多张图片时，IE 用户的图片下载速度就会受到影响。所以新浪会搞N个二级域名来放图片。</p><p>11. 精简CSS和JS</p><p>12. 避免跳转</p><p>同域：注意避免反斜杠 “/” 的跳转；跨域：使用Alias或者mod_rewirte建立CNAME（保存域名与域名之间关系的DNS记录）</p><p>13. 删除重复的JS和CSS</p><p>重复调用脚本，除了增加额外的HTTP请求外，多次运算也会浪费时间。在IE和Firefox中不管脚本是否可缓存，它们都存在重复运算 JavaScript的问题。</p><p>14. 配置ETags</p><p>它用来判断浏览器缓存里的元素是否和原来服务器上的一致。比last-modified date更具有弹性，例如某个文件在1秒内修改了10次，Etag可以综合 &nbsp;Inode(文件的索引节点(inode)数)，MTime(修改时间)和 Size来精准的进行判断，避开UNIX记录MTime只能精确到秒的问题。 服务器集群使用，可取后两个参数。使用ETags减少Web应用带宽和负载</p><p>15. 可缓存的AJAX</p><p>“异步”并不意味着“即时”：Ajax并不能保证用户不会在等待异步的JavaScript和XML响应上花费时间。</p><p>16. 使用GET来完成AJAX请求</p><p>当使用XMLHttpRequest时，浏览器中的POST方法是一个“两步走”的过程：首先发送文件头，然后才发送数据。因此使用GET获取数据时更加有意义。</p><p>17. 减少DOM元素数量</p><p>是否存在一个是更贴切的标签可以使用？人生不仅仅是DIV+CSS</p><p>18. 避免404</p><p>有些站点把404错误响应页面改为“你是不是要找***”，这虽然改进了用户体验但是同样也会浪费服务器资源（如数 据库等）。最糟糕的情况是指向外部 JavaScript的链接出现问题并返回404代码。首先，这种加载会破坏并行加载；其次浏览器会把试图在返回的404响应内容中找到可能有用的部分当 作JavaScript代码来执行。</p><p>19. 减少Cookie的大小</p><p>20. 使用无cookie的域</p><p>比如图片 CSS 等，Yahoo! 的静态文件都在主域名以外，客户端请求静态文件的时候，减少了 Cookie 的反复传输对主域名的影响。</p><p>21. 不要使用滤镜,png24的在IE6半透明那种东西，别乱使，淡定的切成PNG8+jpg</p><p>22. 不要在HTML中缩放图片</p><p>23. 缩小favicon.ico并缓存</p><p><br/></p>
