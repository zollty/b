---
layout: ue
title: 我的Spring技术笔记
category: JavaEE技术
tags: Spring
keywords: "Spring"
---

<p>Spring很强大，代码写得非常好，像是一件艺术品。我个人对Spring框架也是非常欣赏，拜读过它很多功能的源代码，比如BEAN（IOC）、MVC、JDBC、AOP等。</p><p><br/></p><p><strong><span style="font-size: 20px; ">一、我的Spring总结</span></strong></p><p><span style="font-size: 20px; "><br/></span></p><p>&nbsp; &nbsp;&nbsp;Spring可以用来管理前端的业务控制器，中间的业务逻辑组件，以及底层的DAO组件，方便集成各组件，而且可以大大的降低各组件之间的耦合度。<br/></p><p>&nbsp; &nbsp; Spring有如下几个流行的应用：<br/></p><p>1. IOC ( Inversion of Control，控制反转)，又称为DI（依赖注入），值的依赖注入和自动装配；<br/></p><p>2. AOP（面向切面编程），例如前置通知、后置通知；</p><p>3. 持久层的封装和事务管理，包括对JDBC的使用加以封装以及对各种O/R映射工具的整合；</p><p><br/></p><p><strong>首先要理解这几个术语，什么是IoC、DI？</strong></p><p>&nbsp; &nbsp; &nbsp; &nbsp;IoC又称为DI，因为实质是一样的。比如在A类的某个方法中新建了一个B类的实例，并调用B类的方法，则称A类依赖于B类，当B类中的方法修改时，A类中的调用代码也需要修改。如果要让两者之间低耦合度，可以将在A类中生成B类的实例的工作由第三方来完成，比如Spring的Bean容器。Spring通过配置文件，生成B类的实例，然后再注入到A类中，这样A类就可以使用了，因此称为依赖注入，然而本来这种信赖关系是A类来建立的，现在却由Spring的bean来管理了，因此又称为控制反转。<br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp;例如有Person接口和Student类，使用Student类时我们可以每次都new一个Student，或者我们把new Student()放到工厂类中，调用工厂类的方法Factory.getStudent()如果修改了Person接口中的方法，那就得修改Student类的方法，、工厂类。每次调用Student类时都要继承Person接口。<br/></p><p><br/></p><p><br/></p><p><strong><span style="font-size: 20px; ">1、web.xml配置</span></strong></p><p style="line-height: normal; ">&lt;servlet-mapping&gt;<br/></p><p style="line-height: normal; ">&nbsp;&lt;servlet-name&gt;mvcServlet&lt;/servlet-name&gt;</p><p style="line-height: normal; ">&nbsp;<strong>&lt;url-pattern&gt;<span style="color: rgb(255, 0, 0); ">/</span>&lt;/url-pattern&gt;</strong></p><p style="line-height: normal; ">&lt;/servlet-mapping&gt;</p><p><span style="color: rgb(255, 0, 0); ">和</span></p><p style="line-height: normal; ">&lt;servlet-mapping&gt;</p><p style="line-height: normal; ">&nbsp;&lt;servlet-name&gt;mvcServlet&lt;/servlet-name&gt;</p><p style="line-height: normal; ">&nbsp;<strong>&lt;url-pattern&gt;<span style="color: rgb(255, 0, 0); ">/*</span>&lt;/url-pattern&gt;</strong></p><p style="line-height: normal; ">&lt;/servlet-mapping&gt;</p><p><span style="color: rgb(255, 0, 0); ">的区别？</span></p><p><br/></p><p>前者不会拦截如下Servlet容器发起的请求：</p><p>RequestDispatcher rd = request.<span style="color: rgb(192, 0, 0); "><strong>getRequestDispatcher</strong></span>(path);<br/></p><p>rd.<span style="color: rgb(192, 0, 0); ">include</span>(requestToExpose, response);</p><p>其中 在Tomcat容器下 rd 实例为： org.apache.catalina.core.<span style="color: rgb(192, 0, 0); ">ApplicationDispatcher</span>@1e18e8c<br/></p><p><br/></p><p>具体原理我也不太清楚。我猜测 WEB容器 对 /* 进行了特殊的定义：</p><p>&nbsp; &nbsp; <strong>当 配置了 /* 时，任何请求，即便是服务器自己的请求</strong>（比如Tomcat的org.apache.catalina.core.ApplicationDispatcher）， <strong>也要被改Servlet拦截</strong>。【这个拦截是<strong>服务器内部的程序调用，并非是从浏览器端再次提交请求</strong>】<br/></p><p><br/></p><p>但是，<strong>如果只是 配置 / 时，则容器自身的请求不会被Servlet拦截</strong>。</p><p><br/></p><p><br/></p><p><strong><span style="font-size: 20px; ">二、为Servlet或普通Java程序注入Spring托管的Bean、数据源</span></strong></p><p><br/></p><p>S2SH中都是层层注入，action交给Spring托管。即，往Struts的Action中注入Service，往Service中又注入DAO，这个都是通过配置完成的。</p><p>经过对Spring原理和源码的研究，发现，可以写一个SpringBeanFactory.java，自己实现获取bean实例的功能。下面分两种情况进行说明。</p><p>&nbsp;</p><p>情况1：在web.xml中已经配置Spring的applicationContext文件</p><p>一般我们是这么配置Spring的：</p><pre class="brush:xml;toolbar:false;">&lt;!--&nbsp;spring上下文&nbsp;--&gt;
&lt;context-param&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-value&gt;classpath:/service.xml&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;!--&nbsp;启动监听&nbsp;--&gt;
&lt;listener&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;</pre><p><br/></p><p>此时，可以通过<br/></p><p>org.springframework.web.context.<strong><span style="color: rgb(192, 0, 0); ">ContextLoaderListener</span></strong>来获取bean，</p><p>或者org.springframework.web.context.<strong><span style="color: rgb(192, 0, 0); ">ContextLoader</span></strong>也可以。</p><p>关键代码如下：</p><pre class="brush:java;toolbar:false">public&nbsp;SpringBeanFactory{
	private&nbsp;static&nbsp;ApplicationContext&nbsp;ctx;
	/**&nbsp;通过ContextLoaderListener取得ctx&nbsp;*/
	public&nbsp;static&nbsp;void&nbsp;initApplicationContext(){
		ctx=ContextLoaderListener.getCurrentWebApplicationContext();
	}
	/**&nbsp;通过泛型方法取得bean实例&nbsp;*/
	public&nbsp;static&nbsp;&lt;T&gt;&nbsp;T&nbsp;getBean(String&nbsp;name){
		if(ctx==null){
			initApplicationContext();
		}
		return&nbsp;(T)&nbsp;ctx.getBean(name);
	}
}</pre><p><br/></p><p>这样，无论在Servlet，还是在普通Java类中，都可以调用getBean()方法获取Spring托管的Bean对象了。</p><p>&nbsp;</p><p>情况2：在web.xml中未配置Spring</p><p>&nbsp; &nbsp; &nbsp; 此时，我们可以自己写程序去加载xml文件，生成ctx，关键代码如下：</p><pre class="brush:java;toolbar:false">public&nbsp;class&nbsp;SpringBeanFactory&nbsp;{
	private&nbsp;static&nbsp;ApplicationContext&nbsp;ctx&nbsp;=&nbsp;null;	
	public&nbsp;static&nbsp;void&nbsp;initApplicationContext(){
		if&nbsp;(ctx&nbsp;==&nbsp;null)&nbsp;{
			ctx&nbsp;=&nbsp;new&nbsp;ClassPathXmlApplicationContext(
					new&nbsp;String[]&nbsp;{
							&quot;classpath:applicationContext-Comm.xml&quot;,
							&quot;classpath:applicationContext-B2BPL.xml&quot;
							});
		}
	}
}</pre><p><br/></p><p>其本质和第一种情况是一样的，如果自己再建一个StartListener.java，如下：其本质和第一种情况是一样的，如果自己再建一个StartListener.java，如下：</p><pre class="brush:java;toolbar:false">public&nbsp;class&nbsp;StartListener&nbsp;implements&nbsp;ServletContextListener&nbsp;{
	@Override
	public&nbsp;void&nbsp;contextInitialized(ServletContextEvent&nbsp;event)&nbsp;{
		event.getServletContext().log(&quot;Start&nbsp;initing&nbsp;ApplicationContext...&quot;);
		SpringBeanFactory.initApplicationContext();
	}
}</pre><p><br/></p><p>并把StartListener.java配置在web.xml中，这样就可以在服务器启动的时候得到ctx了。并把StartListener.java配置在web.xml中，这样就可以在服务器启动的时候得到ctx了。</p><p><br/></p><p><br/></p><p><span style="font-size: 20px; "><strong>事务管理是什么？Spring事务管理的原理又是什么？</strong></span></p><p><br/></p><p>事务处理必须满足ACID原则，即原子性（Ａ）、一致性（Ｃ）、隔离性（Ｉ）和持久性（Ｄ）。</p><p>&nbsp; &nbsp; &nbsp; a） 原子性：指事务必须执行一个完整的工作，要么执行全部数据的操作，要么全部不执行。</p><p>&nbsp; &nbsp; &nbsp; b） 一致性：一致性是指当事务完成时，必须所有的数据具有一致的状态。</p><p>在数据库软件中，比如Oracle，事务分为两类：系统提供的事务和用户自定义的事务。</p><p>&nbsp;1. 系统提供的事务是指在执行某些语句时，一条语句就是一个事务。比如CREATE、DELETE、DROP、SELECT、UPDATE、INSERT（但是要明确，一条语句的对象既可能是表中的一行数据，也可能是表中的多行数据，甚至是表中的全部数据。因此，只有一条语句构成的事务也可能包含了多行数据的处理。）</p><p>&nbsp; 2. 用户自定义的事务，一般是使用BEGIN TRANSACTION语句来定义的事务。</p><p>&nbsp; &nbsp; &nbsp;在使用用户定义的事务时，一定要注意事务必须有明确的结束语句来结束。</p><p>&nbsp; &nbsp; &nbsp;事务的明确结束可以使用两个语句中的一个：COMMIT语句和ROLLBACK语句。</p><p><br/></p><p><strong><span style="font-size: 20px; ">Spring的事务管理</span></strong>，默认是只对unchecked（RuntimeException）异常及其子类进行异常回滚。对checked Exception是不会进行回滚的。当然，如果你自己catch了异常，事务管理就不起作用了。</p><p><br/></p><p>所以如果要进行事务管理，必须throw 继承了RuntimeException的异常了。</p><p>JdbcTemplete抛出的异常一般都是将SQLException转换成</p><p>DataAccessException（继承了org.springframework.core.NestedRuntimeException抽象类）</p><p>另外，我们可以修改Spring的默认配置，当发生RuntimeException我们也可以不让他进行事务回滚</p><p>只需要加上一个@Transactional(<strong>noRollbackFor</strong>=RuntimeException.class)</p><p>既然可以配置不对RuntimeException回滚，那我们也可以配置对Exception进行回滚,主要用到的是</p><p>@Transactional(<strong>rollbackFor</strong>=Exception.class)</p><p>对于一些<strong>查询</strong>工作，因为<strong>不需要配置事务支持</strong>，我们配置事务的传播属性:</p><p>@Transactional(<strong>propagation</strong>=Propagation.<strong>NOT_SUPPORTED</strong>,<strong>readOnly</strong>=true)</p><p><strong>readOnly=true表示事务中不允许存在更新操作</strong>.</p><p><br/></p><p>关于事务的传播属性有下面几种配置（仅列举2个）:</p><p><strong>REQUIRED</strong>：业务方法需要在一个事务中运行，如果方法运行时，已经处于一个事务中，那么加入到该事务中，否则自己创建一个新的事务。(<strong>Spring默认的事务传播属性</strong>)</p><p><strong>NOT_SUPPORTED</strong>：声明方法不需要事务，如果方法没有关联到一个事务，容器不会为它开启事务，如果方法在一个事务中被调用，该事务被挂起，在方法调用结束后，原先的事务便会恢复执行。</p><p><br/></p><p>注意Spring DI的Bean是单实例的，也就是说&nbsp;Spring getBean 每次都得的对象都不是新的！</p><p>例如：</p><p>BkDailySaleRpt bsr = (BkDailySaleRpt) ServiceBeanFactory.getBean(&quot;b2bplBkDailySaleRpt&quot;);</p><p><strong>bsr.name</strong> = &quot;foo&quot;;</p><p>BkDailySaleRpt bds = (BkDailySaleRpt) ServiceBeanFactory.getBean(&quot;b2bplBkDailySaleRpt&quot;);</p><p>System.out.println(<strong>bds.name</strong>);</p><p>bsr 和 bds 是同一个，说明，<strong>只要在一个地方改变了这个bean，在其他地方也会得到改变</strong>！bean是全局共享的。</p><p>基于这个原理，其实一个tools工具类，也可以做成bean的形式注入到其他类中供使用。</p><p><br/></p><p><span style="font-size: 20px; ">六、Spring + Struts 2 + Hibernate整合开发</span><br/></p><p><span style="font-size:16px">1、</span><span style="font-size:16px;font-family:宋体">搭建</span><span style="font-size:16px">S2SH</span><span style="font-size:16px;font-family:宋体">环境</span></p><p><span style="font-size:16px;font-family:宋体">首先</span></p><p><span style="font-size:16px"><span class="Apple-style-span" style="line-height: 28px;"></span></span></p><p>1. 把Struts 2的5个核心jar文件加入到WEB-INF/lib目录下，分别是</p><p>&nbsp; &nbsp; commons-logging-版本号.jar</p><p>&nbsp; &nbsp; freemarker-版本号.jar</p><p>&nbsp; &nbsp; ognl-版本号.jar</p><p>&nbsp; &nbsp; struts2-core-版本号.jar</p><p>&nbsp; &nbsp; xwork-版本号.jar（有可能是xwork-core-版本号.jar）</p><p>另外，再加入Struts 2的Spring插件，如下</p><p>&nbsp; &nbsp; struts2-spring-plugin-版本号.jar</p><p>2. 把Spring的核心jar文件加入到WEB-INF /lib目录下，只有一个</p><p>&nbsp; &nbsp; spring.jar</p><p>3. 把Hibernate的核心jar文件加入到WEB-INF /lib目录下，只有一个</p><p>&nbsp; &nbsp; hibernate3.jar（3是版本号）</p><p>4.数据库驱动jar文件，如果是用MySQL数据库，则为</p><p>&nbsp; &nbsp; mysql-connector-java-版本号-bin.jar</p><p>5. 其他，根据需要，加入其他jar文件</p><p><span class="Apple-style-span" style="font-size: 16px; line-height: 28px; ">&nbsp;</span><br/></p><p><span style="font-size:16px;font-family:宋体"></span></p><p>其次</p><p>&nbsp; &nbsp; 配置WEB-INF /web.xml文件，使Struts 2和Spring生效。</p><p>配置文件，示例如下</p><p style="line-height: normal; "><span style="line-height: normal; font-family: Consolas; color: teal; ">&lt;?</span><span style="line-height: normal; font-family: Consolas; color: rgb(63, 127, 127); ">xml</span><span style="line-height: normal; font-family: Consolas; "> <span style="color:#7F007F">version</span>=<i><span style="color:#2A00FF">&quot;1.0&quot;</span></i> <span style="color:#7F007F">encoding</span>=<i><span style="color:#2A00FF">&quot;UTF-8&quot;</span></i><span style="color:teal">?&gt;</span></span><br/><span style="font-size:16px;font-family:宋体"></span></p><p style="line-height: normal; "><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">web-app</span><span style="font-family:Consolas"> <span style="color:#7F007F">version</span>=<i><span style="color:#2A00FF">&quot;3.0&quot;</span></i> </span></p><p style="line-height: normal; "><span style="font-family:Consolas">&nbsp;&nbsp;&nbsp; <span style="color:#7F007F">xmlns</span>=<i><span style="color:#2A00FF">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></i> </span></p><p style="line-height: normal; "><span style="font-family:Consolas">&nbsp;&nbsp;&nbsp; <span style="color:#7F007F">xmlns:xsi</span>=<i><span style="color:#2A00FF">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></i> </span></p><p style="line-height: normal; "><span style="font-family:Consolas">&nbsp;&nbsp;&nbsp; <span style="color:#7F007F">xsi:schemaLocation</span>=<i><span style="color:#2A00FF">&quot;http://java.sun.com/xml/ns/javaee </span></i></span></p><p style="line-height: normal; "><i><span style="font-family:Consolas;color:#2A00FF">&nbsp;&nbsp;&nbsp; http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span></i><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:#3F5FBF">&lt;!--</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">定</span><span style="font-family:宋体;color:#3F5FBF">义</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">核心</span><span style="font-family:Consolas;color:#3F5FBF">Filter FilterDispatcher --&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">filter</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:#3F5FBF">&lt;!-- </span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">定</span><span style="font-family:宋体;color:#3F5FBF">义</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">核心</span><span style="font-family:Consolas;color:#3F5FBF">Filter</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">的名称</span><span style="font-family:Consolas;color:#3F5FBF"> --&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">filter-name</span><span style="font-family:Consolas;color:teal">&gt;</span><span style="font-family: Consolas">struts2</span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">filter-name</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:#3F5FBF">&lt;!--</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">定</span><span style="font-family:宋体;color:#3F5FBF">义</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">核心</span><span style="font-family:Consolas;color:#3F5FBF">Filter</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">的</span><span style="font-family:宋体;color:#3F5FBF">实现类</span><span style="font-family:Consolas;color:#3F5FBF"> --&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">filter-class</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.apache.struts2.dispatcher.FilterDispatcher</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">filter-class</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">filter</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family:Consolas">&nbsp;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">filter-mapping</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:#3F5FBF">&lt;!--</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">核心</span><span style="font-family:Consolas;color:#3F5FBF">Filter</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">的名称</span><span style="font-family:Consolas;color:#3F5FBF"> --&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">filter-name</span><span style="font-family:Consolas;color:teal">&gt;</span><span style="font-family: Consolas">struts2</span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">filter-name</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:#3F5FBF">&lt;!--</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">使用</span><span style="font-family:宋体;color:#3F5FBF">该</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">核心</span><span style="font-family:Consolas;color:#3F5FBF">Filter</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">来接受所有的</span><span style="font-family:Consolas;color:#3F5FBF">Web</span><span style="font-family:宋体;color:#3F5FBF">请</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">求</span><span style="font-family:Consolas;color:#3F5FBF"> --&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">url-pattern</span><span style="font-family:Consolas;color:teal">&gt;</span><span style="font-family: Consolas">/*</span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">url-pattern</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">filter-mapping</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:#3F5FBF">&lt;!-- </span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">初始化</span><span style="font-family:Consolas;color:#3F5FBF">Spring</span><span style="font-family:&#39;MS Mincho&#39;;color:#3F5FBF">容器</span><span style="font-family:Consolas;color:#3F5FBF"> --&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">listener</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;</span><span style="font-family:Consolas;color:#3F7F7F">listener-class</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.springframework.web.context.ContextLoaderListener</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">listener-class</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family: Consolas">&nbsp;&nbsp;&nbsp; </span><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">listener</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p style="line-height: normal; "><span style="font-family:Consolas;color:teal">&lt;/</span><span style="font-family:Consolas;color:#3F7F7F">web-app</span><span style="font-family:Consolas;color:teal">&gt;</span></p><p><span style="font-size:16px">&nbsp;</span></p><p>跳转到action的方法：</p><p style="line-height: normal;"><span style="font-size: 19px;font-family: 黑体">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:19px;font-family:黑体;color:teal">&lt;</span><span style="font-size:19px;font-family:黑体;color:#3F7F7F">result</span><span style="font-size:19px;font-family:黑体"> <span style="color:#7F007F">type</span>=<i><span style="color:#2A00FF">&quot;redirectAction&quot;</span></i><span style="color:teal">&gt;</span></span></p><p style="line-height: normal;"><span style="font-size: 19px;font-family: 黑体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:19px;font-family:黑体;color:teal">&lt;</span><span style="font-size:19px;font-family:黑体;color:#3F7F7F">param</span><span style="font-size:19px;font-family:黑体"> <span style="color:#7F007F">name</span>=<i><span style="color:#2A00FF">&quot;actionName&quot;</span></i><span style="color:teal">&gt;</span>showpicsya<span style="color:teal">&lt;/</span><span style="color:#3F7F7F">param</span><span style="color:teal">&gt;</span></span></p><p style="line-height: normal;"><span style="font-size: 19px;font-family: 黑体">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:19px;font-family:黑体;color:teal">&lt;/</span><span style="font-size:19px;font-family:黑体;color:#3F7F7F">result</span><span style="font-size:19px;font-family:黑体;color:teal">&gt;</span></p><p style="line-height: normal;"><span style="font-size:19px;font-family:黑体;color:teal"><br/></span></p><p><br/></p><p><br/></p>