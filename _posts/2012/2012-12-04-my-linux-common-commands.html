---
layout: ue
title: 我的Linux常用命令
category: Linux系统与应用
tags: Linux
keywords: "Linux常用命令"
---

<div><p><br/></p><p><strong><span style="font-size: 20px;">查看linux性能</span></strong></p><p>top命令</p><div><br/> <div><p><strong><span style="font-size: 20px;">查看进程/杀死进程</span></strong></p><p>ps -ef |grep tomcat</p><p>ps -ef |grep nodeagent</p><p>sudo -u was7 kill xxx</p><p>kill -9 [+pid]例如：kill -9 1100</p><p>pid就是进程名字后面的那个数字，比如</p><p>adap 1100 ………………</p><p>nodeagent 1230……</p><p><br/></p><p><span style="font-size: 20px;"><strong>查看端口号占用</strong></span></p><p>netstat -ntlp</p><p>netstat -ntlp|grep -E &#39;2181|9092&#39;</p><p>netstat参数说明：</p><p>-n：默认情况下 netstat 会通过反向域名解析技术查找每个 IP 地址对应的主机名。这会降低查找速度。如果你觉得 IP 地址已经足够，而没有必要知道主机名，就使用 -n 选项禁用域名解析功能。</p><p>-t和-u，使用 -t 选项列出 TCP 协议的连接，-u为UDP连接。</p><p>-l：使用 -l 选项列出正在监听的套接字。不要使用 -a 选项，否则 netstat 会列出所有连接，而不仅仅是监听端口。</p><p>-p：使用 -p 选项查看进程信息。</p><p>使用 -p 选项时，netstat 必须运行在 root 权限之下，不然它就不能得到运行在 root 权限下的进程名，而很多服务包括 http 和 ftp 都运行在 root 权限之下。</p><p>-e：显示用户名（id）</p><p>使用 -ep 选项可以同时查看进程名和用户名。注意：假如你将 -n 和 -e 选项一起使用，User 列的属性就是用户的 ID 号，而不是用户名。</p><p>-s：<span style="line-height: 1.8;">netstat 可以打印出网络统计数据，包括某个协议下的收发包数量。例如：</span></p><p><span style="line-height: 1.8;"><span style="line-height: 32.4px;">netstat -st</span></span></p><p><span style="line-height: 1.8;"><span style="line-height: 32.4px;"><span style="line-height: 32.4px;">netstat -su</span></span></span></p><p><span style="line-height: 1.8;"><span style="line-height: 32.4px;"><span style="line-height: 32.4px;">-i：输出网络接口（网卡）的信息，包括收发包的数据量。</span></span></span></p><p><span style="line-height: 1.8;"><span style="line-height: 32.4px;"><span style="line-height: 32.4px;">netstat -ie：将 -e 选项和 -i 选项搭配使用，可以输出用户友好的信息（等价于ifconfig）。</span></span></span></p><p><span style="line-height: 1.8;"><span style="line-height: 32.4px;"><span style="line-height: 32.4px;">-c：使用 netstat 的 -c 选项持续输出信息。例如：<span style="line-height: 32.4px;">netstat -c</span></span></span></span></p><p>使用案例：</p><p>active 状态的套接字连接用 &quot;ESTABLISHED&quot; 字段表示，所以我们可以使用 grep 命令获得 active 状态的连接：</p><p>netstat -atnp | grep ESTA</p><p>配合 watch 命令监视 active 状态的连接：</p><p>watch -d -n0 &quot;netstat -atnp | grep ESTA&quot;</p><p><br/></p><p><br/></p><div><div><strong><span style="font-size: 20px;">查看Linux是否为64位、以及Linux的系统版本</span></strong></div><br/> <div>查看操作系统，执行指令：</div><div>&nbsp; &nbsp; uname -a</div><div>结里有x86_64等字样，则说明是64位，这是软件判断法。</div><br/> <div><strong><span style="color: rgb(0, 176, 80);">CPU否支持64位</span></strong>：</div><div>&nbsp; &nbsp; cat /proc/cpuinfo</div><div>其flag里发现cpu特性有lm , ia64 或者amd64 ，则表示CPU的硬件是64位。&nbsp;</div><br/> <div><span style="color: rgb(0, 176, 80);"><strong>版本查看：</strong></span></div><div>&nbsp; &nbsp; &nbsp;lsb_release -a</div><div>信息如下：</div><div>LSB Version: :core-4.0- <strong>amd64</strong>:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch</div><div>Distributor ID: RedHatEnterpriseServer</div><div>Description: <strong>Red Hat Enterprise Linux</strong> Server release 6.3 (Santiago)</div><div>Release: 6.3</div><div>Codename: Santiago<br/> <div><p><br/></p><p><span style="font-size: 20px;"><strong><span style="line-height: 32.4px;">查看软件的安装位置&nbsp;</span></strong></span><br/></p><div style="line-height: 32.4px; white-space: normal;">方法一：dpkg -L firefox&nbsp;<br/><div>方法二：&nbsp;<br/><div>cd /usr/bin&nbsp;<br/><div>ls -l firefox&nbsp;<br/></div></div></div></div><div><br/> <div><span style="font-size: 20px;"><strong>卸载软件</strong></span> </div>最简单办法是，当我们知道软件的名称，那么我们就直接在终端命令窗口中输入命令就可以了： <br/> sudo apt-get remove --purge google-chrome-unstable <br/><p>--purge 选项表示彻底删除改软件和相关文件</p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700; color: rgb(0, 176, 80);">Linux干净地卸载软件：</span></p><p style="line-height: 32.4px; white-space: normal;">sudo apt-get remove --purge 软件名称</p><p style="line-height: 32.4px; white-space: normal;">然后</p><p style="line-height: 32.4px; white-space: normal;">sudo apt-get autoremove</p><p style="line-height: 32.4px; white-space: normal;">sudo apt-get clean</p></div></div></div><p><br/></p><div style="line-height: 32.4px; white-space: normal;"><strong><span style="font-weight: 700; font-size: 20px;">如何安装*.dep软件包？</span></strong></div><p><br/></p><p style="line-height: 32.4px; white-space: normal;">用dpkg命令，详细用法可以dpkg --help</p><p style="line-height: 32.4px; white-space: normal;"><span style="color: rgb(0, 176, 80);">dpkg 安装软件 依赖包的问题：</span></p><p style="line-height: 32.4px; white-space: normal;">运行一下这个命令解决： sudo apt-get -f install</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><strong><span style="font-weight: 700; font-size: 20px;">Linux查看端口号占用情况</span></strong></p><p style="line-height: 32.4px; white-space: normal;">netstat -anp | grep LISTEN | grep -v LISTENING</p><p style="line-height: 32.4px; white-space: normal;">其中grep -v是排除匹配内容的意思</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;"><span style="font-size: 20px;">查看linux系统的总内存</span></span></p><p style="line-height: 32.4px; white-space: normal;">cat /proc/meminfo | grep MemTotal</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><strong><span style="font-weight: 700; font-size: 20px;">linux 查看文件md5和SHA1</span></strong></p><p style="line-height: 32.4px; white-space: normal;">命令+文件名，例如：</p><p style="line-height: 32.4px; white-space: normal;">md5sum &nbsp;VirtualBox-4.3.0-89960-Win.exe</p><p style="line-height: 32.4px; white-space: normal;">sha1sum &nbsp;VirtualBox-4.3.0-89960-Win.exe</p><p><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">26、生成SSH密匙：ssh-keygen</span></p><pre class="brush:plain;toolbar:false" style="line-height: 1.42857;">zollty@zollty-ubuntu:~/0sync/0work/git$&nbsp;ssh-keygen&nbsp;-t&nbsp;rsa&nbsp;-C&nbsp;&quot;zollty@abc.com&quot;
Generating&nbsp;public/private&nbsp;rsa&nbsp;key&nbsp;pair.
Enter&nbsp;file&nbsp;in&nbsp;which&nbsp;to&nbsp;save&nbsp;the&nbsp;key&nbsp;(/home/zollty/.ssh/id_rsa):&nbsp;
/home/zollty/.ssh/id_rsa&nbsp;already&nbsp;exists.
Overwrite&nbsp;(y/n)?&nbsp;n

zollty@zollty-ubuntu:~/0sync/0work/git$&nbsp;ssh-keygen&nbsp;-t&nbsp;rsa&nbsp;-C&nbsp;&quot;zollty@abc.com&quot;
Generating&nbsp;public/private&nbsp;rsa&nbsp;key&nbsp;pair.
Enter&nbsp;file&nbsp;in&nbsp;which&nbsp;to&nbsp;save&nbsp;the&nbsp;key&nbsp;(/home/zollty/.ssh/id_rsa):&nbsp;zbjla
Enter&nbsp;passphrase&nbsp;(empty&nbsp;for&nbsp;no&nbsp;passphrase):&nbsp;
Enter&nbsp;same&nbsp;passphrase&nbsp;again:&nbsp;
Your&nbsp;identification&nbsp;has&nbsp;been&nbsp;saved&nbsp;in&nbsp;zbjla.
Your&nbsp;public&nbsp;key&nbsp;has&nbsp;been&nbsp;saved&nbsp;in&nbsp;zbjla.pub.
The&nbsp;key&nbsp;fingerprint&nbsp;is:
86:60:d9:d4:68:58:3e:45:11:8d:c3:62:1c:ca:ff:7d&nbsp;zollty@abc.com
The&nbsp;key&#39;s&nbsp;randomart&nbsp;image&nbsp;is:
+--[&nbsp;RSA&nbsp;2048]----+
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++*==&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;..**.=&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;&nbsp;*o+.&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;.&nbsp;o&nbsp;o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
+-----------------+</pre><p style="line-height: 32.4px; white-space: normal;">zollty@zollty-ubuntu:~/0sync/0work/git$&nbsp;<span style="font-weight: 700;">ssh-keygen -t rsa -C &quot;zollty@abc.com&quot;</span></p><p style="line-height: 32.4px; white-space: normal;">Generating public/private rsa key pair.</p><p style="line-height: 32.4px; white-space: normal;">Enter file in which to save the key (/home/zollty/.ssh/id_rsa):&nbsp;<span style="font-weight: 700;">zbjla</span></p><p style="line-height: 32.4px; white-space: normal;">Enter passphrase (empty for no passphrase):&nbsp;</p><p style="line-height: 32.4px; white-space: normal;">Enter same passphrase again:&nbsp;</p><p style="line-height: 32.4px; white-space: normal;">Your identification has been saved in&nbsp;<span style="font-weight: 700;">zbjla</span>.</p><p style="line-height: 32.4px; white-space: normal;">Your public key has been saved in<span style="font-weight: 700;">&nbsp;zbjla.pub</span>.</p><p style="line-height: 32.4px; white-space: normal;">生成之后要执行ssh-add才生效：</p><p style="line-height: 32.4px; white-space: normal;">例如：</p><p style="line-height: 32.4px; white-space: normal;">ssh-add &nbsp; ~/.ssh/id_rsa&nbsp;</p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">ssh-add /home/zollty/0sync/0work/git/zbjla</span></p><p><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">27、linux 下载远程服务器上的文本文件到本地</span></p><p style="line-height: 32.4px; white-space: normal;">命令如下：</p><p style="line-height: 32.4px; white-space: normal;">ssh work@192.168.143.28 &#39;cat /data/jetty/logs/2016_01_02.stderrout.log&#39; &gt;&gt; /home/zollty/workspace/log.txt</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;">28、Linux ssh登录命令</span></p><p style="line-height: 32.4px; white-space: normal;">不指定用户：</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; ssh 192.168.0.11</p><p style="line-height: 32.4px; white-space: normal;">指定用户：</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; ssh -l root 192.168.0.11</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; ssh root@192.168.0.11</p><p style="line-height: 32.4px; white-space: normal;">如果修改过ssh登录端口的可以：</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; ssh -p 12333 192.168.0.11</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; ssh -l root -p 12333 216.230.230.114</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; &nbsp; ssh -p 12333 root@216.230.230.114</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-size: 20px;"><span style="font-weight: 700;">添加用户的命令</span></span></p><p style="line-height: 32.4px; white-space: normal;">adduser username</p><p style="line-height: 32.4px; white-space: normal;">例如：</p><p style="line-height: 32.4px; white-space: normal;">adduser test</p><p style="line-height: 32.4px; white-space: normal;">然后根据提示输入密码，之后一直回车就行了。</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-size: 20px;"><span style="font-weight: 700;">修改密码：</span></span></p><p style="line-height: 32.4px; white-space: normal;">echo tomcat:tomcat | chpasswd</p><p style="line-height: 32.4px; white-space: normal;"><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-size: 20px;"><span style="font-weight: 700;">Linux设置时间同步</span></span></p><p style="line-height: 32.4px; white-space: normal;">设置时间与时间服务器同步：</p><p style="line-height: 32.4px; white-space: normal;">ntpdate 172.16.1.100</p><p><br/></p><p style="line-height: 32.4px; white-space: normal;"><span style="font-weight: 700;"><span style="font-size: 20px;">发起HTTP请求</span></span></p><p style="line-height: 32.4px; white-space: normal;">一、get请求</p><p style="line-height: 32.4px; white-space: normal;">　　1、使用wget命令：</p><p style="line-height: 32.4px; white-space: normal;">　　wget &quot;http://www.baidu.com&quot;</p><p style="line-height: 32.4px; white-space: normal;">&nbsp; 具体用法，查看：wget --help</p><p style="line-height: 32.4px; white-space: normal;">　　2、使用curl命令：（需要安装curl）</p><p style="line-height: 32.4px; white-space: normal;">　　curl &quot;http://www.baidu.com&quot; 如果这里的URL指向的是一个文件或者一幅图都可以直接下载到本地</p><p style="line-height: 32.4px; white-space: normal;">　　curl -i &quot;http://www.baidu.com&quot; 显示全部信息</p><p style="line-height: 32.4px; white-space: normal;">　　curl -l &quot;http://www.baidu.com&quot; 只显示头部信息</p><p style="line-height: 32.4px; white-space: normal;">　　curl -v &quot;http://www.baidu.com&quot; 显示get请求全过程解析</p><p style="line-height: 32.4px; white-space: normal;">二、post请求</p><p style="line-height: 32.4px; white-space: normal;">　　1、使用wget命令：（--post-data参数来实现）</p><p style="line-height: 32.4px; white-space: normal;">　　wget --post-data &quot;user=foo&amp;password=bar&quot; &quot;http://www.baidu.com&quot;</p><p style="line-height: 32.4px; white-space: normal;">　　2、使用curl命令（通过-d参数，把访问参数放在里面）：</p><p style="line-height: 32.4px; white-space: normal;">　　curl -d &quot;param1=value1&amp;param2=value2&quot; &quot;http://www.baidu.com&quot;</p><p><br/></p></div></div></div></div><p><br/></p>