---
layout: ue
title: 我的Oracle技术笔记
category: 数据库技术_综合
tags: Oracle
keywords: "Oracle"
---

<p><br/></p><p><strong><span style="font-size: 20px; ">ORACLE添加数据库连接的方法</span></strong></p><p>在：{安装目录}\db_1\NETWORK\ADMIN下面</p><p>打开<strong>tnsnames.ora</strong>文件</p><p>添加类似于下面的字符串：</p><p style="line-height: normal; "><span style="font-size: 16px; ">rdtest =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp;(DESCRIPTION =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; (ADDRESS_LIST =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp;(ADDRESS = (PROTOCOL=TCP)(HOST=11.6.31.120)(PORT=1422))</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; )</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; (CONNECT_DATA =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp;(SID=utf10gt1)(SERVER=DEDICATED)</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; )</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp;)</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">WEBCB =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; (DESCRIPTION =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp; (ADDRESS_LIST =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp; &nbsp; (ADDRESS = (PROTOCOL = TCP)(HOST=11.6.14.115)(PORT=1422))</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp; )</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp; (CONNECT_DATA =</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp; &nbsp; (SERVICE_NAME=cab2b)</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp;(SERVER=DEDICATED)</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; &nbsp; )</span></p><p style="line-height: normal; "><span style="font-size: 16px; ">&nbsp; )</span></p><p>上面就添加了rdtest和WEBCB两个连接。</p><p><br/></p><p><br/></p><p><strong><span style="font-size: 20px; ">Oracle回收站功能，彻底删除表（purge recyclebin）</span></strong></p><p>一、清除方法如下：<br/></p><p>1、purge table origenal_tableName;</p><p>&nbsp; &nbsp; &nbsp; purge index origenal_indexName;</p><p>2、purge recyclebin;</p><p><br/></p><p>二、查询垃圾信息：</p><p>select * from user_recyclebin;</p><p>&nbsp;</p><p>三、删除table不进入recycle的方法：</p><p>drop table tableName purge;</p><p><br/></p><p><br/></p><p><span style="font-size: 20px; "><strong>常用Oracle语句</strong></span></p><p><br/></p><p>select OSUSER,MACHINE,COMMAND,TERMINAL,ACTION,MODULE,LOGON_TIME from sys.v_$session where username=&#39;HUOLP&#39;</p><p><br/></p><p>select name from v$tablespace;</p><p><br/></p><p>select SEGMENT_NAME from dba_segments where TABLESPACE_NAME=&#39;ZOLLTY_IDX1&#39; GROUP BY SEGMENT_NAME;</p><p>DROP TABLESPACE ZOLLTY_DAT INCLUDING CONTENTS AND DATAFILES;</p><p><br/></p><p>select * from</p><p>(select *,rownum rn from (select * from table_name) where rownum&lt;=40) t</p><p>where t.rn &gt; 20;</p><p>// 嵌套查询，先</p><p>select *,rownum rn from</p><p>(select * from table_name) where rownum&lt;=40</p><p><br/></p><p>从自己表的副本中查询rownum&lt;40的数据，并保存到t视图中，</p><p>并把rownum映射成rn（目的是在新视图t中使用一个与rownum不重名的字段）</p><p>然后在t表中查找rn&gt;20的数据。</p><p><br/></p><p>select * from (select *,rownum rn from (select * from table_name)) t where t.rn between 20 and 40;</p><p><br/></p><p>create table admin_user(id number(9) not null primary key,name varchar2(20) not null);</p><p><br/></p><p>rename admin_user to myuser;</p><p><br/></p><p>drop table myuser;</p><p><br/></p><p>alter table admin_user modify name varchar2(30);</p><p><br/></p><p>truncate table t_order_info;</p><p><br/></p><p>drop table t_order_info cascade constraints;</p><p><br/></p><p>show recyclebin;</p><p>purge recyclebin;</p><p>flashback table t to before drop;</p><p><br/></p><p>grand insert on t_order_info to zollty;</p><p>revoke all on t_order_info from zollty;</p><p><br/></p><p>create sequence T_ORDER-INFO_SEQ</p><p>minvalue 1000</p><p>maxvalue 9999</p><p>start with 1001</p><p>increment by 1</p><p>cache 20</p><p>cycle;</p><p><br/></p><p>number(10,2) ---2位小数点</p><p>number(1) &nbsp; &nbsp;---</p><p>number &nbsp;---长度1~38</p><p><br/></p><p>date</p><p><br/></p><p>getTimeStamp</p><p><br/></p><p>to_date(&#39;2012-8-21&#39;,&#39;yyyy-MM-dd&#39;)</p><p><br/></p><p>yyyy-MM-dd HH:mm:ss--HH代表24小时制,hh代表12小时制</p><p>Oracle里面写作yyyy-MM-dd hh24:mm:ss</p><p><br/></p><p>clob大对象形式存放（指针形式）</p><p><br/></p><p>blob寸二进制对象，声音、图片</p><p><br/></p><p>select distinct column A from tableA where [condition] Group by ..having ..oderby..</p><p><br/></p><p><br/></p><p>==============</p><p>substr(a,i,length)</p><p>concat(a,b,c..)</p><p>init(a)首字母大写</p><p><br/></p><p>length(a)</p><p><br/></p><p>nvl(a)空值函数</p><p>--nvl(name,&#39;admin&#39;)--如果为空则返回admin</p><p>upper、lower(a)</p><p><br/></p><p>round(a,i)</p><p>sum(a)</p><p><br/></p><p>to_date</p><p>to_char</p><p>=====================</p><p><br/></p>
