---
layout: ue
title: VMware, RedHat, VirtualBOX, Ubuntu以及Fedora的安装和配置
category: Linux系统与应用
tags: VMware,VirtualBOX,Ubuntu,Fedora
keywords: "Ubuntu Fedora install"
---

<p><span style="font-size: 24px;">一、VMware下RedHat的安装和配置</span></p><p>1.本人使用的安装文件</p><p>1.1 RedHat9.0</p><p>包括三个光盘镜像文件：</p><p>shrike-i386-disc1.iso，shrike-i386-disc2.iso，shrike-i386-disc3.iso</p><p>1.2精简版VMware Workstation 7.1.2</p><p>&nbsp; &nbsp; &nbsp; 压缩文件HB_VMwareWorkstation.rar，里面包含：</p><p>VMware_Workstation_7.1.2_Micro_Eng.exe和汉化补丁</p><p>&nbsp;</p><p>2.安装VMware</p><p>&nbsp; &nbsp; &nbsp; 很简单，点击VMware_Workstation_7.1.2_Micro_Eng.exe开始安装安装好之后，下一步就是安装汉化补丁，首先运行一下VMware，然后关掉。再把“汉化补丁”文件夹下的内容复制到VMware Workstation安装目录下，覆盖掉原来的文件。（如果有提示“程序在运行，无法覆盖”，则Ctrl + Alt + .打开Windows任务管理器，把所有和VMware有关的进程全关掉），覆盖之后，打开VMware看是不是已经汉化成功了？</p><p>&nbsp;</p><p>3.安装RedHat</p><p>&nbsp; &nbsp; &nbsp; 首先要用虚拟光驱（我用的是DAEMON Tools Lite）加载iso文件，在VMware下新建一个虚拟机：从安装盘安装，选择刚才加载好的那个光驱盘，选择Linux操作系统，分配大小选择预先分配固定的大小（如果选择动态大小，效率会低一点），文件大小默认的是8G，考虑到方便移动到其他电脑上，我设置为7G（因为我只有8G的U盘），不拆分文件。建好这个虚拟机后，确保虚拟机设置里面CD/DVD设置为“打开虚拟机时自动连接”，然后启动该虚拟机，之后就能安装了，先从第一张光盘开始安装，可以选择自定义安装，在选择鼠标的时候要注意，默认的PS/2就可以了，不要选USB。提示“请插入第二张光盘”的时候，在DAEMON Tools Lite下加载第二个iso文件，然后回到虚拟机开始安装第二张光盘。</p><p>安装好后第一次启动要你新建一个用户，你可以随便建一个（没多少用的，因为以后基本都以超级管理员root的身份登录），登录后如果不能使用鼠标，则要修改鼠标驱动，按以下步骤做：</p><pre class="brush:plain;toolbar:false">首先进入系统，然后切换到（2号）控制台（按ctrl+alt再按F2；若没反应，按ctrl+alt+空格键再按F2），即进入简单多用户字符界面。
然后登陆，输入用户名（root）和密码（安装系统时设置的）
输入“setup”
再次输入密码，打开setup界面，选择mouse&nbsp;configuration，选择generic&nbsp;-3&nbsp;Button&nbsp;Mouse&nbsp;(PS/2)，保存退出。
然后用快捷键alt+ctrl+delete重启进入Linux系统（用root登录），鼠标便可使用。</pre><p>4.安装VMware tools</p><p>&nbsp; &nbsp; &nbsp; 虚拟设置 -&gt;选项，把VMware tools更新改为自动更新，然后启动虚拟机，此时虚拟机的下方会提示你没有安装VMware tools，问你要不要安装？你点击下载并安装。下载完成后，在虚拟机设置里面CD/DVD设置为使用ISO文件，选择加载VMware安装目录下的linux.iso（即刚才下载的内容），再启动虚拟机，然后参考下面的步骤：</p><p>在终端中输入下面的命令：</p><pre class="brush:plain;toolbar:false">切换到VMware&nbsp;Tools目录：cd&nbsp;/cdrom/VMware&nbsp;Tools（注：根据自己的实际目录来输入命令）
拷贝VMwareTools-8.4.4-301548.tar.gz文件到根目录：
cp&nbsp;VMwareTools-8.4.4-301548.tar.gz&nbsp;/（注：不同的VMware版本文件名可能不同，不可照抄）
切换到根目录：cd&nbsp;/
执行解压命令,解压缩tar包：
tar&nbsp;vzxf&nbsp;VMwareTools-8.4.4-301548.tar.gz
切换到vmware-tools-distrib目录
cd&nbsp;vmware-tools-distrib/
安装VMware&nbsp;Tools
./vmware-install.pl</pre><p>&nbsp; &nbsp; 然后一路回车（不需要任何输入），最后一步让你选择分辨率的时候默认的是20（即1280*1040），推荐你选择1024*786。当然，之后你也可用在Linux系统下去修改分辨率，选择色彩的时候选“百万种颜色”更好。</p><p>&nbsp;</p><p>5.设置与WINDOWS系统文件夹共享</p><p>&nbsp; &nbsp; &nbsp; 使用 vmware tools设置共享文件夹非常简单，只需要“虚拟机 &gt;&gt;设置 &gt;&gt;选项 &gt;&gt;共享文件夹”，选择目标（比如 E:/Harli），然后启动。在 redhat9.0就可以用了，对应的共享文件夹在 /mnt/hgfs目录中可以看到 Harli。</p><p>&nbsp; &nbsp; &nbsp; &nbsp;但是有一点小小的遗憾就是中文乱码，解决VM共享文件夹乱码问题：</p><p>终端下输入：locale，查看当前系统的编码，如果不是GB2312或者GBK等就会乱码；</p><p>再输入：locale -a，查看当前系统支持的所有编码，找到zh_CN.gb2312，这就是我们需要的编码</p><p>然后输入：ls /etc/sysconfig，看能不能找到i18n这个文件，如果可以，先备个份再修改</p><p>输入：cp /etc/sysconfig/i18n /home，把它复制到/home目录下备份</p><p>输入：vim /etc/sysconfig/i18n，用vim文本编辑器打开它，然后把里面的LANG，LANGUAGE等项目里面的默认的编码改成zh_CN.gb2312即可，最后重启系统。</p><p>&nbsp;</p><p>注意：redhat9始终对中文支持不太好，有时候会遇到以下的错误：</p><p>Gtk-Message: 文件名“\273\306\273\350.rmvb”无法转换为 UTF-8。(请尝试设置环境变量 G_BROKEN_FILENAMES)……</p><p>可尝试打开环境变量文件：</p><p>vi ~/.bash_profile</p><p>添加一行：</p><p>export G_BROKEN_FILENAMES=1</p><p>&nbsp;</p><p><span style="font-size: 24px;">二、VMware下Fedora15的安装</span></p><p>&nbsp; &nbsp; &nbsp; 安装方法和上面差不多，下面讲一下安装后的一些设置。</p><p>1.1 Fedora 15使用root登录Gnome</p><p>&nbsp; &nbsp; &nbsp; 首先以用户账号进入终端，允许root账号登陆：</p><p>$ su</p><p>$ vi /etc/pam.d/gdm</p><p>&nbsp; &nbsp; &nbsp;前面加&#39;#&#39;注释掉其中的一行 auth required pam_succeed_if.souser != root quiet</p><p>:wq保存并退出。</p><p>$ vi /etc/pam.d/gdm-password</p><p>&nbsp; &nbsp; &nbsp;前面加&#39;#&#39;注释其中的一行 auth required pam_succeed_if.souser != root quiet</p><p>:wq保存并退出。</p><p>&nbsp; &nbsp; &nbsp;这样就可以使用root进行GUI登陆了。</p><p>&nbsp;</p><p>1.2 安装自动选择最快镜像插件</p><p>&nbsp; &nbsp; &nbsp; 安装插件fastestmirror，可以让yum管理器自动搜索最快源下载</p><p>yum -y install yum-fastestmirror</p><p>&nbsp;</p><p>1.3 安装下载加速插件</p><p>yum install yum-presto</p><p>&nbsp;</p><p>1.4 Fedora15安装桌面工具</p><p>&nbsp; &nbsp; &nbsp; Fedora15安装好后提示：GNOME 3 加载失败，默认桌面没有图标，需要手工安装gnome-tweak-tool才行。</p><p>yum install gnome-tweak-tool</p><p>安装好之后，打开应用程序-&gt;附件-&gt;优化高级设置：Filemanager，将第一项开启，Interface将两项全部开启。</p><p>&nbsp;</p><p>1.5 安装输入法</p><p>yum install ibus-sunpinyin</p><p>Fcitx小企鹅输入法：</p><p>#yum install fcitx</p><p>安装完成后，在“输入法设置”里面，选择添加上述输入法即可。</p><p>&nbsp;</p><p>1.6 其他</p><p>安装自动补全命令插件</p><p>原Fedora不支持，貌似现在可以啦，如果同学你那里没有自动补全，可以通过下面命令安装bash-completion：</p><p># yum install bash-completion</p><p>设置sudo</p><p>在Ubuntu或其他发行版本下用惯sudo，我们可以通过下面方式来实现sudo。在命令行下输入</p><p># visudo</p><p>然后，在配置文件中找到下面的几行内容：</p><p>## Allow root to run any commands anywhere root &nbsp; &nbsp;ALL=(ALL) &nbsp; &nbsp; &nbsp; ALL</p><p>然后，在上行内容下面添加下面内容</p><p>bentu &nbsp;ALL=(ALL) ALL</p><p>提示，其中的bentu改成自己的用户名即可。现在试试是不是可以使用了？^_^</p><p>&nbsp;FLash，若不正常，通过下面命令安装：</p><p># yum install flash-plugin</p><p>大家可以通过下面命令安装Ailurus小熊猫软件：</p><pre class="brush:bash;toolbar:false">su&nbsp;-c&nbsp;&#39;wget&nbsp;http://homerxing.fedorapeople.org/ailurus.repo&nbsp;-O&nbsp;/etc/yum.repos.d/ailurus.repo&#39;
su&nbsp;-c&nbsp;&#39;yum&nbsp;makecache&#39;
su&nbsp;-c&nbsp;&#39;yum&nbsp;install&nbsp;ailurus</pre><p>大家通过该软件可以轻松选择所需软件安装即可。不用一个一个运行命令安装。笨兔兔通过小熊猫安装的软件有：</p><p>Thunderbird,shutter,vlc,Avant窗口管理器，GNOME Do，Stardict星际字典，Dia，GIMP，gstreamer multi-media编码，p7zip解压工具等等。大家可以自己选择安装即可。</p><p>&nbsp;</p><p>1.7 总结</p><p>Ubuntu安装：</p><p>apt-getinstall unetbootin</p><p>Fedora安装：</p><p>yum install unetbootin</p><p>Fedora的安装包格式是rpm格式。采用yum（也就是Yellow dog Updater, Modified。^_^，小黄狗）前端软件管理器来从下载RPM包并且安装，yum可以自动处理依赖性关系，并且一次安装所有依赖的软体包，这一点与 Ubuntu下软件安装一样，自动解决依赖，对大家很方便。</p><p>关于yum的一些用法。大家可以通过命令’yum –help’或‘man yum’来查看更多的帮助：</p><p>yum install * 安装软件包</p><p>yum list ~ 查找软件包</p><p>yum check-update 查看是否有更新</p><p>yum update 更新系统</p><p>rpm 常用命令</p><p>1.安装一个包&nbsp;</p><p># rpm -ivh&nbsp;</p><p>2.升级一个包&nbsp;</p><p># rpm -Uvh&nbsp;</p><p>3.移走一个包&nbsp;</p><p># rpm -e&nbsp;</p><p>4.安装参数&nbsp;</p><p>--force 即使覆盖属于其它包的文件也强迫安装&nbsp;</p><p>--nodeps 如果该RPM包的安装依赖其它包，即使其它包没装，也强迫安装。&nbsp;</p><p>5.查询一个包是否被安装&nbsp;</p><p># rpm -q &lt; rpm package name&gt;&nbsp;</p><p>6.得到被安装的包的信息&nbsp;</p><p># rpm -qi &lt; rpm package name&gt;&nbsp;</p><p>7.列出该包中有哪些文件&nbsp;</p><p># rpm -ql &lt; rpm package name&gt;&nbsp;</p><p>8.列出服务器上的一个文件属于哪一个RPM包&nbsp;</p><p>#rpm -qf&nbsp;</p><p>9.可综合好几个参数一起用&nbsp;</p><p># rpm -qil &lt; rpm package name&gt;&nbsp;</p><p>10.列出所有被安装的rpm package&nbsp;</p><p># rpm -qa&nbsp;</p><p>11.列出一个未被安装进系统的RPM包文件中包含有哪些文件？&nbsp;</p><p># rpm -qilp &lt; rpm package name&gt;</p><p>&nbsp;</p><p>其他软件安装，详见http://wenku.baidu.com/view/0feaf2eb81c758f5f61f6744.html</p><p>另外，推荐一个Linux行家的博客：http://www.bentutu.com/&nbsp;</p><p>&nbsp;</p><p><span style="font-size: 24px;">三、VirtualBOX下Ubuntu的安装和配置</span></p><p>&nbsp;1.1本人使用的源文件：</p><p>VirtualBox_4.0.8.0.exe</p><p>ubuntu-10.04.2-desktop-i386.iso</p><p>1.2</p><p>VirtualBOX虚拟机，oracle公司的产品，技术有保障，使用起来也还可以，版本比 VMware新，而且才79M，比 VMware要小得多。</p><p>&nbsp;1.3</p><p>安装VirtualBOX很简单，就不再说了。VirtualBOX安装Ubuntu也非常简单：新建虚拟机，然后按提示一步一步进行。</p><p>&nbsp;</p><p>1.4安装 VBox 的增强功能（可以扩大窗口的分辨率）</p><p>安装好后的Ubuntu窗口很小（800*600），所以要给它安装增强功能（不需要下载，VirtualBox里自带）。在 VBox 菜单上选择</p><p>设备 -&gt;分配光驱 -&gt;Chose a virtual CD/DVD desk file</p><p>添加 E:/Oracle/VirtualBox/目录下的 VBoxGuestAdditions.iso，然后启动虚拟机，Unbuntu桌面上出现自动加载的 VBoxGuestAdditions，点击进去，双击执行VBoxLinuxAddtions.run即可（或者在终端中输入：</p><p>sudo sh /media/cdrom/VBoxLinuxAddtions.run</p><p>&nbsp;）如果已经有root权限则不需要加“sudo”。</p><p>&nbsp;</p><p>1.5允许 root登录</p><p>&nbsp; &nbsp; &nbsp; 登录Ubuntu后默认是不能用root（超级管理员账号）登录的，在终端中输入：</p><p>gksu /usr/sbin/gdmsetup（或者使用桌面菜单：系统＞系统管理＞登录窗口）</p><p>&nbsp; &nbsp; &nbsp; 在里面去设置root登录。</p><p>&nbsp;</p><p>1.6设置文件共享</p><p>在 VBox菜单上“设备 -&gt;分配数据空间”找到“添加数据空间”的图标，点击进入然后选择位置（自己先新建一个文件夹，比如 E:/Harli），数据空间名称为 HarliOS，添加好后，在 Linux下建立一个共享文件夹，假设为 /home/Harlinux，则然后找到 /etc/fstab，打开它，在里面添加一行：</p><p>HarliOS /home/Harlinux vboxsf rw,gid=100,uid=1000,auto 0 0</p><p>保存然后重新启动系统，这样应该就可以了。</p><p>&nbsp;</p><p>1.7安装中文输入法</p><p>&nbsp; &nbsp; &nbsp; 在 /etc/apt/sources.list中添加以下三行：</p><pre class="brush:bash;toolbar:false">#for&nbsp;ibus-pinyin
deb&nbsp;http://ppa.launchpad.net/ibus-dev/ibus-1.3-lucid/ubuntu&nbsp;lucid&nbsp;main
deb-src&nbsp;http://ppa.launchpad.net/ibus-dev/ibus-1.3-lucid/ubuntu&nbsp;lucid&nbsp;main</pre><p>将下面文本内容拷贝到一个文件中，然后保存备用：</p><pre class="brush:plain;toolbar:false">-----BEGIN&nbsp;PGP&nbsp;PUBLIC&nbsp;KEY&nbsp;BLOCK-----
Version:&nbsp;SKS&nbsp;1.0.10

mI0ESaEjBwEEANWIFKgDsD1ultPdq0kl6OjCHxIEy9TFmR0GnHApNwx5F5e9qbyeBurvqD75
wl8fXFroUxx9TCx3zt7ckDjqL/aPAxzoVj64zM2qaabtWk5D4G93h6qafdATXxCkLuaN8ovi
Oo5BPowOrx0xl75dHwfiLznoXsIRAt842jD8wm2JABEBAAG0GkxhdW5jaHBhZCBQUEEgZm9y
IGlidXMtZGV2iEYEEBECAAYFAkznm5EACgkQSxzgFBTHobtesQCgq4b9HCyATxA8y5DyTweY
J4WquA4AnRga4jn7GmNjlO4lKMxzDu3MGTbEiF4EEBEIAAYFAkxzgYQACgkQ6++DMVcZWDBF
jAEAq7hzKnmBNFVaXJv+g2U3fmQkayI5OimF2QjGmEilFP8A/0ZqkccF/8+tV2LJQYaDl5ND
ADwxahfTPwM7L4b2AUvciLYEEwECACAFAkmhIwcCGwMGCwkIBwMCBBUCCAMEFgIDAQIeAQIX
gAAKCRAhwCKqmF4OEWmRBAC5Rosa2GFAWoE4LxX3VSJYS0mYfQzHMOQQmPmZAISy4PnaBwz5
WEhlUDDVz/cuUcE+/Z8AmUPEAEGWy+d5ms9O/35yqB9nSj8zEP3dRvjKu0FwRwt59SM1HPVM
mPqJsq3TSukOBFCzbNhuvi/GAeg9HVHVKXM2xOINhS4/iQfMRw==
=w0T7
-----END&nbsp;PGP&nbsp;PUBLIC&nbsp;KEY&nbsp;BLOCK-----</pre><p>然后按照如下步骤操作：</p><p>系统 &gt;&gt;系统管理 &gt;&gt;软件源 &gt;&gt;身份验证 &gt;&gt;导入密匙文件，选中刚才保存的文件点击确定。</p><p>在终端输入：</p><pre class="brush:bash;toolbar:false">sudo&nbsp;apt-get&nbsp;update
sudo&nbsp;apt-get&nbsp;install&nbsp;ibus&nbsp;ibus-gtk&nbsp;ibus-pinyin</pre><p>&nbsp; &nbsp; 注销并登录。</p><p>系统 &gt;&gt;ibus选项，选择输入法标签添加刚才安装的中文输入法，</p><p>让 ibus开机时自动启动，如下操作：</p><pre class="brush:plain;toolbar:false">System&nbsp;&gt;&gt;&nbsp;Preferences&nbsp;&gt;&gt;&nbsp;Startup&nbsp;Applications
Click&nbsp;the&nbsp;button:&nbsp;Add
Name:&nbsp;IBus&nbsp;daemon
Command:&nbsp;/usr/bin/ibus-daemon&nbsp;-d
Comment:&nbsp;start&nbsp;IBus&nbsp;daemon&nbsp;when&nbsp;Gnome&nbsp;starts</pre><p>&nbsp; &nbsp; 注销并登录。</p><p>*安装词库（高人制作的搜狗输入法的词库）：把 andorid.db 词库重命名覆盖掉 /usr/share/ibus-pinyin/里面的 db，把权限修改一下，并备份原来的词库。</p><p><br/></p><p><br/></p>
