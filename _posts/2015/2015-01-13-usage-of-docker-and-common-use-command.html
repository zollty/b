---
layout: ue
title: Docker的使用及常用命令
category: 其他语言和技术
tags: Docker
keywords: "Docker命令"
---

<p><br/></p><p><span style="font-size: 20px;">一、docker run 常用参数说明</span></p><p><strong>docker run -p 5000:8080 org/proj:1.0</strong></p><p>小p：暴露指定端口</p><p><strong>docker run -d -P training/webapp python app.py</strong></p><p>大P：暴露所有端口，映射到主机的随机端口上。</p><p>-d：后台运行</p><p><strong>docker run --name mynginx -d nginx:latest</strong></p><p>--name：给容器命名</p><p><strong>docker run -ti --add-host db-static:86.75.30.9 ubuntu cat /etc/hosts</strong></p><p>--add-host：添加容器内的host-ip的映射</p><p><strong>docker run -it --rm ubuntu:16.04 bash</strong></p><p>-i：保持STDIN输出<br/></p><p>-t：打开终端pseudo-TTY</p><p>-it：交互模式启动一个容器</p><p>--rm：运行结束后立即删除该容器，--rm 和 -d不能共用</p><p><strong>docker run -d --webdemo -p 8899:8080 --privileged=true -v /home/admin/webapp/:/usr/local/tomcat/webapps tomcat:8.0</strong></p><p>--：什么意思？等价于“--name”？？？<br/></p><p>--privileged：使Docker拥有访问主机所有设备的权限</p><p>-v：绑定数据卷(&quot;:&quot;之前是宿主机文件夹，之后是容器需共享的文件夹)</p><p><br/></p><p>具体参见：</p><p>$ docker run --help</p><p>结果如下</p><pre class="brush:bash;toolbar:false">Options:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--add-host&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;a&nbsp;custom&nbsp;host-to-IP&nbsp;mapping&nbsp;(host:ip)
&nbsp;&nbsp;-a,&nbsp;--attach&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attach&nbsp;to&nbsp;STDIN,&nbsp;STDOUT&nbsp;or&nbsp;STDERR
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--blkio-weight&nbsp;uint16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block&nbsp;IO&nbsp;(relative&nbsp;weight),&nbsp;between&nbsp;10&nbsp;and&nbsp;1000,&nbsp;or&nbsp;0&nbsp;to&nbsp;disable&nbsp;(default&nbsp;0)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--blkio-weight-device&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block&nbsp;IO&nbsp;weight&nbsp;(relative&nbsp;device&nbsp;weight)&nbsp;(default&nbsp;[])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cap-add&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;Linux&nbsp;capabilities
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cap-drop&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drop&nbsp;Linux&nbsp;capabilities
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cgroup-parent&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional&nbsp;parent&nbsp;cgroup&nbsp;for&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cidfile&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write&nbsp;the&nbsp;container&nbsp;ID&nbsp;to&nbsp;the&nbsp;file
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpu-period&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;CPU&nbsp;CFS&nbsp;(Completely&nbsp;Fair&nbsp;Scheduler)&nbsp;period
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpu-quota&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;CPU&nbsp;CFS&nbsp;(Completely&nbsp;Fair&nbsp;Scheduler)&nbsp;quota
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpu-rt-period&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;CPU&nbsp;real-time&nbsp;period&nbsp;in&nbsp;microseconds
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpu-rt-runtime&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;CPU&nbsp;real-time&nbsp;runtime&nbsp;in&nbsp;microseconds
&nbsp;&nbsp;-c,&nbsp;--cpu-shares&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPU&nbsp;shares&nbsp;(relative&nbsp;weight)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpus&nbsp;decimal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;CPUs
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpuset-cpus&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPUs&nbsp;in&nbsp;which&nbsp;to&nbsp;allow&nbsp;execution&nbsp;(0-3,&nbsp;0,1)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--cpuset-mems&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEMs&nbsp;in&nbsp;which&nbsp;to&nbsp;allow&nbsp;execution&nbsp;(0-3,&nbsp;0,1)
&nbsp;&nbsp;-d,&nbsp;--detach&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run&nbsp;container&nbsp;in&nbsp;background&nbsp;and&nbsp;print&nbsp;container&nbsp;ID
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--detach-keys&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override&nbsp;the&nbsp;key&nbsp;sequence&nbsp;for&nbsp;detaching&nbsp;a&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--device&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;a&nbsp;host&nbsp;device&nbsp;to&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--device-cgroup-rule&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;a&nbsp;rule&nbsp;to&nbsp;the&nbsp;cgroup&nbsp;allowed&nbsp;devices&nbsp;list
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--device-read-bps&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;read&nbsp;rate&nbsp;(bytes&nbsp;per&nbsp;second)&nbsp;from&nbsp;a&nbsp;device&nbsp;(default&nbsp;[])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--device-read-iops&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;read&nbsp;rate&nbsp;(IO&nbsp;per&nbsp;second)&nbsp;from&nbsp;a&nbsp;device&nbsp;(default&nbsp;[])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--device-write-bps&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;write&nbsp;rate&nbsp;(bytes&nbsp;per&nbsp;second)&nbsp;to&nbsp;a&nbsp;device&nbsp;(default&nbsp;[])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--device-write-iops&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limit&nbsp;write&nbsp;rate&nbsp;(IO&nbsp;per&nbsp;second)&nbsp;to&nbsp;a&nbsp;device&nbsp;(default&nbsp;[])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--disable-content-trust&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skip&nbsp;image&nbsp;verification&nbsp;(default&nbsp;true)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--dns&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;custom&nbsp;DNS&nbsp;servers
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--dns-option&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;DNS&nbsp;options
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--dns-search&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;custom&nbsp;DNS&nbsp;search&nbsp;domains
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--entrypoint&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overwrite&nbsp;the&nbsp;default&nbsp;ENTRYPOINT&nbsp;of&nbsp;the&nbsp;image
&nbsp;&nbsp;-e,&nbsp;--env&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;environment&nbsp;variables
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--env-file&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read&nbsp;in&nbsp;a&nbsp;file&nbsp;of&nbsp;environment&nbsp;variables
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--expose&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Expose&nbsp;a&nbsp;port&nbsp;or&nbsp;a&nbsp;range&nbsp;of&nbsp;ports
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--group-add&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;additional&nbsp;groups&nbsp;to&nbsp;join
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--health-cmd&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Command&nbsp;to&nbsp;run&nbsp;to&nbsp;check&nbsp;health
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--health-interval&nbsp;duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time&nbsp;between&nbsp;running&nbsp;the&nbsp;check&nbsp;(ms|s|m|h)&nbsp;(default&nbsp;0s)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--health-retries&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Consecutive&nbsp;failures&nbsp;needed&nbsp;to&nbsp;report&nbsp;unhealthy
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--health-start-period&nbsp;duration&nbsp;&nbsp;&nbsp;Start&nbsp;period&nbsp;for&nbsp;the&nbsp;container&nbsp;to&nbsp;initialize&nbsp;before&nbsp;starting&nbsp;health-retries&nbsp;countdown&nbsp;(ms|s|m|h)&nbsp;(default&nbsp;0s)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--health-timeout&nbsp;duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum&nbsp;time&nbsp;to&nbsp;allow&nbsp;one&nbsp;check&nbsp;to&nbsp;run&nbsp;(ms|s|m|h)&nbsp;(default&nbsp;0s)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print&nbsp;usage
&nbsp;&nbsp;-h,&nbsp;--hostname&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container&nbsp;host&nbsp;name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--init&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run&nbsp;an&nbsp;init&nbsp;inside&nbsp;the&nbsp;container&nbsp;that&nbsp;forwards&nbsp;signals&nbsp;and&nbsp;reaps&nbsp;processes
&nbsp;&nbsp;-i,&nbsp;--interactive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Keep&nbsp;STDIN&nbsp;open&nbsp;even&nbsp;if&nbsp;not&nbsp;attached
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--ip&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPv4&nbsp;address&nbsp;(e.g.,&nbsp;172.30.100.104)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--ip6&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPv6&nbsp;address&nbsp;(e.g.,&nbsp;2001:db8::33)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--ipc&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPC&nbsp;mode&nbsp;to&nbsp;use
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--isolation&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container&nbsp;isolation&nbsp;technology
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--kernel-memory&nbsp;bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kernel&nbsp;memory&nbsp;limit
&nbsp;&nbsp;-l,&nbsp;--label&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;meta&nbsp;data&nbsp;on&nbsp;a&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--label-file&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read&nbsp;in&nbsp;a&nbsp;line&nbsp;delimited&nbsp;file&nbsp;of&nbsp;labels
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--link&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;link&nbsp;to&nbsp;another&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--link-local-ip&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container&nbsp;IPv4/IPv6&nbsp;link-local&nbsp;addresses
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--log-driver&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logging&nbsp;driver&nbsp;for&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--log-opt&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log&nbsp;driver&nbsp;options
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mac-address&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container&nbsp;MAC&nbsp;address&nbsp;(e.g.,&nbsp;92:d0:c6:0a:29:33)
&nbsp;&nbsp;-m,&nbsp;--memory&nbsp;bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Memory&nbsp;limit
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--memory-reservation&nbsp;bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Memory&nbsp;soft&nbsp;limit
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--memory-swap&nbsp;bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Swap&nbsp;limit&nbsp;equal&nbsp;to&nbsp;memory&nbsp;plus&nbsp;swap:&nbsp;&#39;-1&#39;&nbsp;to&nbsp;enable&nbsp;unlimited&nbsp;swap
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--memory-swappiness&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tune&nbsp;container&nbsp;memory&nbsp;swappiness&nbsp;(0&nbsp;to&nbsp;100)&nbsp;(default&nbsp;-1)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mount&nbsp;mount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attach&nbsp;a&nbsp;filesystem&nbsp;mount&nbsp;to&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--name&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assign&nbsp;a&nbsp;name&nbsp;to&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--network&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connect&nbsp;a&nbsp;container&nbsp;to&nbsp;a&nbsp;network&nbsp;(default&nbsp;&quot;default&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--network-alias&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;network-scoped&nbsp;alias&nbsp;for&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--no-healthcheck&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disable&nbsp;any&nbsp;container-specified&nbsp;HEALTHCHECK
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--oom-kill-disable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disable&nbsp;OOM&nbsp;Killer
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--oom-score-adj&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tune&nbsp;host&#39;s&nbsp;OOM&nbsp;preferences&nbsp;(-1000&nbsp;to&nbsp;1000)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--pid&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PID&nbsp;namespace&nbsp;to&nbsp;use
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--pids-limit&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tune&nbsp;container&nbsp;pids&nbsp;limit&nbsp;(set&nbsp;-1&nbsp;for&nbsp;unlimited)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--privileged&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Give&nbsp;extended&nbsp;privileges&nbsp;to&nbsp;this&nbsp;container
&nbsp;&nbsp;-p,&nbsp;--publish&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Publish&nbsp;a&nbsp;container&#39;s&nbsp;port(s)&nbsp;to&nbsp;the&nbsp;host
&nbsp;&nbsp;-P,&nbsp;--publish-all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Publish&nbsp;all&nbsp;exposed&nbsp;ports&nbsp;to&nbsp;random&nbsp;ports
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--read-only&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mount&nbsp;the&nbsp;container&#39;s&nbsp;root&nbsp;filesystem&nbsp;as&nbsp;read&nbsp;only
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--restart&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restart&nbsp;policy&nbsp;to&nbsp;apply&nbsp;when&nbsp;a&nbsp;container&nbsp;exits&nbsp;(default&nbsp;&quot;no&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--rm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Automatically&nbsp;remove&nbsp;the&nbsp;container&nbsp;when&nbsp;it&nbsp;exits
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--runtime&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runtime&nbsp;to&nbsp;use&nbsp;for&nbsp;this&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--security-opt&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Security&nbsp;Options
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--shm-size&nbsp;bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;of&nbsp;/dev/shm
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--sig-proxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Proxy&nbsp;received&nbsp;signals&nbsp;to&nbsp;the&nbsp;process&nbsp;(default&nbsp;true)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--stop-signal&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signal&nbsp;to&nbsp;stop&nbsp;a&nbsp;container&nbsp;(default&nbsp;&quot;SIGTERM&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--stop-timeout&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timeout&nbsp;(in&nbsp;seconds)&nbsp;to&nbsp;stop&nbsp;a&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--storage-opt&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Storage&nbsp;driver&nbsp;options&nbsp;for&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--sysctl&nbsp;map&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sysctl&nbsp;options&nbsp;(default&nbsp;map[])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--tmpfs&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mount&nbsp;a&nbsp;tmpfs&nbsp;directory
&nbsp;&nbsp;-t,&nbsp;--tty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocate&nbsp;a&nbsp;pseudo-TTY
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--ulimit&nbsp;ulimit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ulimit&nbsp;options&nbsp;(default&nbsp;[])
&nbsp;&nbsp;-u,&nbsp;--user&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Username&nbsp;or&nbsp;UID&nbsp;(format:&nbsp;&lt;name|uid&gt;[:&lt;group|gid&gt;])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--userns&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;namespace&nbsp;to&nbsp;use
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--uts&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UTS&nbsp;namespace&nbsp;to&nbsp;use
&nbsp;&nbsp;-v,&nbsp;--volume&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bind&nbsp;mount&nbsp;a&nbsp;volume
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--volume-driver&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional&nbsp;volume&nbsp;driver&nbsp;for&nbsp;the&nbsp;container
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--volumes-from&nbsp;list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mount&nbsp;volumes&nbsp;from&nbsp;the&nbsp;specified&nbsp;container(s)
&nbsp;&nbsp;-w,&nbsp;--workdir&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Working&nbsp;directory&nbsp;inside&nbsp;the&nbsp;container</pre><p><br/></p><p>如何临时退出一个正在交互的容器的终端，而不终止它？</p><p>按Ctrl+p，后按Ctrl+q，如果按Ctrl+c会使容器内的应用进程终止，进而会使容器终止。</p><p><br/></p><p>如何控制容器占用系统资源（CPU，内存）的份额？</p><p><br/></p><p>在使用docker create命令创建容器或使用docker run 创建并运行容器的时候，可以使用-c|–cpu-shares[=0]参数来调整同期使用CPU的权重，使用-m|–memory参数来调整容器使用内存的大小。</p><p><br/></p><p>二、其他常用命令</p><p><br/></p><p>查看本地镜像</p><p>docker images</p><p><br/></p><p># 删除所有镜像</p><p>docker rmi $(docker images | grep -v RESPOSITORY | awk &#39;{print $3}&#39;)</p><p><br/></p><p># 显示全部容器</p><p>docker ps -a</p><p># 显示当前运行的容器</p><p>docker ps</p><p><br/></p><p>docker start</p><p># 启动一个已经停止的容器</p><p>docker start 容器ID</p><p><br/></p><p># 重启一个容器</p><p>docker restart 容器ID</p><p><br/></p><p># 关闭运行中的容器</p><p>docker stop 容器ID</p><p><br/></p><p># 删除容器</p><p>docker rm 容器ID</p><p><br/></p><p># 删除所有容器</p><p>docker rm $(docker ps -a)&nbsp;</p><p><br/></p><p>杀死所有正在运行的容器:&nbsp;</p><p>docker kill $(docker ps -a -q)&nbsp;</p><p><br/></p><p>删除所有停止的容器:&nbsp;</p><p>docker rm $(docker ps -a -q)</p><p><br/></p><p>进入容器内部，修改文件</p><p>docker exec -it 容器ID/name bash</p><p>这个命令会打开bash，</p><p>修改了容器的文件，也就是改动了容器的存储层，可以通过 docker diff 命令看到具体的改动。</p><p>docker diff 容器ID/name</p><p><br/></p><p># 导出容器</p><p>docker export 容器ID &gt; xxx.tar</p><p><br/></p><p># 把 mynewimage 镜像保存成 tar 文件</p><p>docker save myimage | bzip2 -9 -c&gt; /home/save.tar.bz2</p><p><br/></p><p># 加载 myimage 镜像</p><p>bzip2 -d -c &lt; /home/save.tar.bz2 | docker load</p><p><br/></p><p>查看镜像、容器、数据卷所占用的空间。</p><p>docker system df</p><p><br/></p><p>#查看容器内的标准输出</p><p>docker logs &lt;id/name&gt;</p><p><br/></p><p>#查看docker容器的底层信息，json格式</p><p>docker inspect &lt;id/name&gt;</p><p><br/></p><p>#查看端口映射</p><p>docker port &lt;id/name&gt;</p><p><br/></p><p>三、构建Docker镜像</p><p><br/></p><p style="white-space: normal;"># 构建容器</p><p style="white-space: normal;">docker build -t 镜像名称 .&nbsp; &nbsp; &nbsp;# 后面的. 指的是当前文件夹 (其实是Dockerfile存放的文件夹)</p><p style="white-space: normal;"><br/></p><p style="white-space: normal;"># 建立映像文件。–rm 选项是告诉Docker，在构建完成后删除临时的Container，Dockerfile的每一行指令都会创建一个临时的Container，一般这些临时生成的Container是不需要的</p><p style="white-space: normal;">docker build --rm=true -t loen/lamp .</p><p style="white-space: normal;"><br/></p><p style="white-space: normal;"># 查看历史</p><p style="white-space: normal;">docker history 镜像ID</p><p style="white-space: normal;"># 格式化显示</p><p>docker history 镜像ID --format &quot;table{{.ID}}=\n{{.CreatedBy}}&quot; --no-trunc</p><p><br/></p><p>下面用一个实际的例子来说明：</p><p>安装nodejs 和 vue环境，然后运行 vue serve，访问http://localhost:8080/，显示App.vue的内容。<br/></p><p>参见这个例子：</p><p><a href="https://cli.vuejs.org/guide/prototyping.html">https://cli.vuejs.org/guide/prototyping.html</a> </p><p><br/></p><p>构建步骤一：</p><p>FROM node</p><p>RUN npm install -g @vue/cli &amp;&amp; npm install -g @vue/cli-service-global</p><p>CMD [&quot;./usr/local/bin/vue&quot;, &quot;--version&quot;]</p><p><br/></p><p>构建步骤二：</p><p>FROM vue-serve</p><p>RUN mkdir /app</p><p>WORKDIR /app</p><p>COPY docker-entrypoint.sh /app/</p><p>ONBUILD COPY . /app/</p><p>ENTRYPOINT [&quot;/app/docker-entrypoint.sh&quot;]</p><p><br/></p><p>构建步骤三：</p><p>FROM vue-run</p><p><br/></p><p><br/></p>