$.blockUI.defaults.message='<img src="http://ires.qiniudn.com/my/img/loading-32_32.gif" />';$.blockUI.defaults.css={padding:0,margin:0,width:"32px",top:"30%",left:"45%",textAlign:"center",color:"#000",border:"0",backgroundColor:"#fff",cursor:"wait"};$(document).ready(function(){$("#nav_btn").on("click",nav_click);$(document).pjax(".pjaxlink","#pjax",{fragment:"#pjax",timeout:5000});$(document).on("pjax:start",function(){if($("#base-wrapper").width()<992&&$("#nav_btn i").hasClass("fa-angle-right")){nav_click()}$.blockUI()});$(document).on("pjax:end",function(){$(".aside3").scrollTop(0);$.unblockUI();contentEffects()});$("body").on("click",".show-commend",showDisqus);$(".my-lf-tab").on("click",function(){$(this).addClass("active").siblings().removeClass("active")});contentEffects()});function showDisqus(){var a=false;window.disqus_shortname=$(".show-commend").attr("name");$.ajax({type:"GET",url:"http://"+disqus_shortname+".disqus.com/embed.js",dataType:"script",cache:true})}function nav_click(){if($("#nav_btn i").hasClass("fa-angle-right")){$(".aside1").addClass("visible-md visible-lg").removeClass("hidden-md hidden-lg");$(".aside3").removeClass("col-md-12 col-lg-12").addClass("col-md-10 col-lg-10");$("#nav_btn i").removeClass("fa-angle-right").addClass("fa-angle-left")}else{$(".aside1").removeClass("visible-md visible-lg").addClass("hidden-md hidden-lg");$(".aside3").removeClass("col-md-10 col-lg-10").addClass("col-md-12 col-lg-12");$("#nav_btn i").removeClass("fa-angle-left").addClass("fa-angle-right")}}function addDuoShuo(){if(document.getElementById("duosjs")){window.DUOSHUO.init();return}var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src=(document.location.protocol=="https:"?"https:":"http:")+"//static.duoshuo.com/embed.js";a.charset="UTF-8";a.id="duosjs";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}function catalogBtnControl(){if($("#catalog").css("display")=="none"){$("#catalog").css("display","block");$("#catalog_btn i").removeClass("fa-angle-down").addClass("fa-angle-up")}else{$("#catalog").css("display","none");$("#catalog_btn i").removeClass("fa-angle-up").addClass("fa-angle-down")}}function createCatalog(){$("#content > h2,#content > h3,#content > h4,#content > h5,#content > h6").each(function(a){var b=$(this);b.attr("id","title"+a);tag=b.prop("tagName").substr(-1);$("#nav").append("<div style='margin-left:"+15*(tag-1)+"px'><a id='link"+a+"' href='#title"+a+"'>"+b.html()+"</a></div>")});if($("#nav").html()!=""){$("#catalog_btn").css("display","block");$("#catalog_btn").on("click",catalogBtnControl)}else{$("#catalog_btn").css("display","none")}}function contentEffects(){if($("#about-wr").length>0){$("#about-tab").addClass("active").siblings().removeClass("active")}if($("#cate-wr").length>0){$("#cate-tab").addClass("active").siblings().removeClass("active")}if($("#my-tag-wr").length>0){$("#tags-tab").addClass("active").siblings().removeClass("active")}$(".row-offcanvas").removeClass("active");if($("#catalog").length>0){createCatalog()}if($("#ueditor_background").length>0){$("#ueditor_background").remove()}uParse("#content",{rootPath:"/b/public/",liiconpath:"/b/public/themes/ueditor-list/"});$("#content img").addClass("img-thumbnail").parent("p").addClass("center");if($("#my-tag-wr").length>0){$("#my-tag-wr a").tagcloud()}if($("#cate-wr").length>0){$("#cate-wr a").tagcloud()}addDuoShuo()};
